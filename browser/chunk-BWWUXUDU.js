import{$b as X,Ca as w,Fa as i,Ga as m,Gb as q,Ha as _,Ia as P,L as r,La as E,Ma as O,Na as S,Pb as $,Ra as B,Sb as H,T as I,V as N,Vb as K,_ as u,_b as Q,a as k,ac as Z,b as z,fa as s,ga as e,gb as R,ha as t,hc as ee,ia as y,jb as L,kb as U,lb as W,ma as G,na as j,p as A,pa as C,rb as J,s as V,sa as g,ta as p,v as x,w as f,wb as T,x as D,xb as Y}from"./chunk-USIH7JXW.js";var te={mesesPorAnio:12,diasPorMes:30,porcentajeBonificacion:9,aplicarBonificacion:!0,tasaCambio:3.75},ne=["Todos","Julio","Diciembre"],ie=["Todos","Borrador","Calculado","Aprobado","Pagado","Observado"],F=[{periodo:"Julio",mes:7,fechaInicio:"01-01",fechaFin:"30-06",descripcion:"Fiestas Patrias",icon:"\u{1F1F5}\u{1F1EA}"},{periodo:"Diciembre",mes:12,fechaInicio:"01-07",fechaFin:"31-12",descripcion:"Navidad",icon:"\u{1F384}"}],oe=["Todas","Gerencia Municipal","Oficina de Recursos Humanos","Oficina de Administracion","Gerencia de Desarrollo Social","Gerencia de Infraestructura","Serenazgo","Registro Civil"],ae=["Ahorro","Corriente"],re=["Soles","Dolares"];var ce=(()=>{let l=class l{constructor(a){this.http=a,this.apiUrl="http://localhost:5000/api/beneficios/gratificaciones"}listar(a){let n=new T;return a.anio&&(n=n.set("anio",a.anio.toString())),a.periodo&&a.periodo!=="Todos"&&(n=n.set("periodo",a.periodo)),a.estado&&a.estado!=="Todos"&&(n=n.set("estado",a.estado)),a.area&&a.area!=="Todas"&&(n=n.set("area",a.area)),a.busqueda&&(n=n.set("busqueda",a.busqueda)),this.http.get(this.apiUrl,{params:n})}obtenerTrabajadoresDisponibles(a,n){let d=new T().set("periodo",a).set("anio",n.toString());return this.http.get(`${this.apiUrl}/trabajadores-disponibles`,{params:d})}calcularMasivo(a){return this.http.post(`${this.apiUrl}/calcular-masivo`,a)}aprobar(a){return this.http.put(`${this.apiUrl}/${a}/aprobar`,{})}obtenerPorId(a){return this.http.get(`${this.apiUrl}/${a}`)}pagar(a,n){return this.http.put(`${this.apiUrl}/${a}/pagar`,{numeroComprobante:n})}eliminar(a){return this.http.delete(`${this.apiUrl}/${a}`)}};l.\u0275fac=function(n){return new(n||l)(V(Y))},l.\u0275prov=A({token:l,factory:l.\u0275fac,providedIn:"root"});let c=l;return c})();var he=()=>[];function Me(c,l){if(c&1&&(e(0,"div",44)(1,"div",45)(2,"div",46),i(3,"\u{1F4CB}"),t(),e(4,"div",47)(5,"span",48),i(6,"Total Registros"),t(),e(7,"span",49),i(8),t()()(),e(9,"div",50)(10,"div",46),i(11,"\u{1F465}"),t(),e(12,"div",47)(13,"span",48),i(14,"Trabajadores"),t(),e(15,"span",49),i(16),t()()(),e(17,"div",51)(18,"div",46),i(19,"\u{1F4B0}"),t(),e(20,"div",47)(21,"span",48),i(22,"Gratificacion Total"),t(),e(23,"span",49),i(24),t()()(),e(25,"div",52)(26,"div",46),i(27,"\u{1F3AF}"),t(),e(28,"div",47)(29,"span",48),i(30,"Bonif. Extraord. (9%)"),t(),e(31,"span",49),i(32),t()()(),e(33,"div",53)(34,"div",46),i(35,"\u2796"),t(),e(36,"div",47)(37,"span",48),i(38,"Total Descuentos"),t(),e(39,"span",49),i(40),t()()(),e(41,"div",54)(42,"div",46),i(43,"\u2705"),t(),e(44,"div",47)(45,"span",48),i(46,"Neto Pagado"),t(),e(47,"span",49),i(48),t()()()()),c&2){let o=p();r(8),m(o.resumen.totalRegistros),r(8),m(o.resumen.totalTrabajadores),r(8),_("S/. ",o.resumen.totalGratificacionCalculada.toFixed(2)),r(8),_("S/. ",o.resumen.totalBonificacionExtraordinaria.toFixed(2)),r(8),_("S/. ",o.resumen.totalDescuentos.toFixed(2)),r(8),_("S/. ",o.resumen.totalNetoPagado.toFixed(2))}}function Pe(c,l){if(c&1&&(e(0,"option",55),i(1),t()),c&2){let o=l.$implicit;s("value",o),r(),m(o)}}function Ee(c,l){if(c&1&&(e(0,"option",55),i(1),t()),c&2){let o=l.$implicit;s("value",o),r(),m(o)}}function Oe(c,l){if(c&1&&(e(0,"option",55),i(1),t()),c&2){let o=l.$implicit;s("value",o),r(),m(o)}}function Se(c,l){if(c&1&&(e(0,"option",55),i(1),t()),c&2){let o=l.$implicit;s("value",o),r(),m(o)}}function we(c,l){c&1&&(e(0,"tr")(1,"td",56)(2,"div",57),i(3,"Cargando..."),t()()())}function ye(c,l){c&1&&(e(0,"tr")(1,"td",58)(2,"div",59)(3,"span",60),i(4,"\u{1F4ED}"),t(),e(5,"p",61),i(6,"No se encontraron registros de gratificaciones"),t()()()())}function ke(c,l){if(c&1){let o=C();e(0,"button",88),g("click",function(){x(o);let n=p().$implicit,d=p();return f(d.aprobarRegistro(n))}),i(1," \u2705 "),t()}}function Ie(c,l){if(c&1){let o=C();e(0,"button",89),g("click",function(){x(o);let n=p().$implicit,d=p();return f(d.abrirPago(n))}),i(1," \u{1F4B3} "),t()}}function De(c,l){if(c&1){let o=C();e(0,"button",90),g("click",function(){x(o);let n=p().$implicit,d=p();return f(d.descargarBoleta(n))}),i(1," \u{1F4E5} "),t()}}function Ge(c,l){if(c&1){let o=C();e(0,"tr")(1,"td",62)(2,"span",63),i(3),t()(),e(4,"td",64)(5,"div",65)(6,"span",66),i(7),t(),e(8,"span",67),i(9),t()()(),e(10,"td",68),i(11),t(),e(12,"td",69),i(13),t(),e(14,"td",70)(15,"div",71)(16,"span",72),i(17),t(),e(18,"span",73),i(19),t()()(),e(20,"td",74),i(21),t(),e(22,"td",74),i(23),t(),e(24,"td",75),i(25),t(),e(26,"td",76)(27,"strong"),i(28),t()(),e(29,"td",77),i(30),t(),e(31,"td",78)(32,"strong"),i(33),t()(),e(34,"td",79)(35,"span",80),i(36),t()(),e(37,"td",81)(38,"div",82)(39,"button",83),g("click",function(){let n=x(o).$implicit,d=p();return f(d.verDetalle(n))}),i(40," \u{1F441}\uFE0F "),t(),u(41,ke,2,0,"button",84)(42,Ie,2,0,"button",85)(43,De,2,0,"button",86),e(44,"button",87),g("click",function(){let n=x(o).$implicit,d=p();return f(d.abrirModalEliminar(n))}),i(45," \u{1F5D1}\uFE0F "),t()()()()}if(c&2){let o,a=l.$implicit,n=p();r(3),m(a.codigo),r(4),m(a.trabajadorNombre),r(2),m(a.trabajadorCargo),r(2),m(a.trabajadorDni),r(2),m(a.trabajadorArea),r(2),w("periodo-badge--julio",a.periodo==="Julio")("periodo-badge--diciembre",a.periodo==="Diciembre"),r(2),m((o=n.getPeriodoInfo(a.periodo))==null?null:o.icon),r(2),P("",a.periodo," ",a.anio),r(2),_("S/. ",a.totalRemuneracionComputable.toFixed(2)),r(2),_("S/. ",a.montoGratificacion.toFixed(2)),r(2),_("S/. ",a.bonificacionExtraordinaria.toFixed(2)),r(3),_("S/. ",a.totalGratificacion.toFixed(2)),r(2),_("S/. ",a.totalDescuentos.toFixed(2)),r(3),_("S/. ",a.netoAPagar.toFixed(2)),r(2),s("ngClass",n.getEstadoBadgeClass(a.estado)),r(),_(" ",a.estado," "),r(5),s("ngIf",a.estado==="Calculado"),r(),s("ngIf",a.estado==="Aprobado"),r(),s("ngIf",a.estado==="Pagado")}}function je(c,l){if(c&1){let o=C();e(0,"button",95),g("click",function(){let n=x(o).index,d=p(2);return f(d.cambiarPagina(n+1))}),i(1),t()}if(c&2){let o=l.index,a=p(2);w("active",a.paginaActual===o+1),r(),_(" ",o+1," ")}}function Te(c,l){if(c&1){let o=C();e(0,"div",91)(1,"button",92),g("click",function(){x(o);let n=p();return f(n.cambiarPagina(n.paginaActual-1))}),i(2," \u2190 Anterior "),t(),e(3,"div",93),u(4,je,2,3,"button",94),t(),e(5,"button",92),g("click",function(){x(o);let n=p();return f(n.cambiarPagina(n.paginaActual+1))}),i(6," Siguiente \u2192 "),t()()}if(c&2){let o=p();r(),s("disabled",o.paginaActual===1),r(3),s("ngForOf",B(3,he).constructor(o.totalPaginas)),r(),s("disabled",o.paginaActual===o.totalPaginas)}}function Fe(c,l){if(c&1&&(e(0,"option",55),i(1),t()),c&2){let o=l.$implicit;s("value",o),r(),m(o)}}function ze(c,l){if(c&1&&(G(0),i(1),j()),c&2){let o=p(2);r(),P(" (01/01/",o.anioCalculoMasivo," - 30/06/",o.anioCalculoMasivo,") ")}}function Ae(c,l){if(c&1&&(G(0),i(1),j()),c&2){let o=p(2);r(),P(" (01/07/",o.anioCalculoMasivo," - 31/12/",o.anioCalculoMasivo,") ")}}function Ve(c,l){c&1&&(e(0,"span",143),i(1,"\u2713"),t())}function Ne(c,l){if(c&1){let o=C();e(0,"div",131),g("click",function(){let n=x(o).$implicit,d=p(2);return f(d.toggleSeleccionTrabajador(n))}),e(1,"div",132)(2,"div",133),u(3,Ve,2,0,"span",134),t(),e(4,"div",135)(5,"h5",136),i(6),t(),e(7,"p",137),i(8),t(),e(9,"p",138),i(10),t()()(),e(11,"div",139)(12,"div",140)(13,"span",141),i(14,"Area:"),t(),e(15,"span",142),i(16),t()(),e(17,"div",140)(18,"span",141),i(19,"Rem. Basica:"),t(),e(20,"span",142),i(21),t()(),e(22,"div",140)(23,"span",141),i(24,"Sistema:"),t(),e(25,"span",142),i(26),t()()()()}if(c&2){let o=l.$implicit,a=p(2);w("selected",a.estaTrabajadorSeleccionado(o)),r(3),s("ngIf",a.estaTrabajadorSeleccionado(o)),r(3),m(o.nombre),r(2),_("DNI: ",o.dni),r(2),m(o.cargo),r(6),m(o.area),r(5),_("S/. ",o.remuneracionBasica.toFixed(2)),r(5),m(o.sistemaPensiones)}}function Be(c,l){if(c&1){let o=C();e(0,"div",96),g("click",function(){x(o);let n=p();return f(n.mostrarModalCalculo=!1)}),e(1,"div",97),g("click",function(n){return x(o),f(n.stopPropagation())}),e(2,"div",98)(3,"h3",99),i(4,"\u{1F9EE} Calculo Masivo de Gratificacion"),t(),e(5,"button",100),g("click",function(){x(o);let n=p();return f(n.mostrarModalCalculo=!1)}),i(6,"\u2716\uFE0F"),t()(),e(7,"div",101)(8,"div",102)(9,"div",103),i(10,"\u{1F381}"),t(),e(11,"div",104)(12,"h4"),i(13,"Configuracion del Calculo"),t(),e(14,"p"),i(15,"Seleccione el periodo y los trabajadores para calcular la gratificacion"),t()()(),e(16,"div",105)(17,"h4",106),i(18,"\u{1F4C5} Periodo de Gratificacion"),t(),e(19,"div",107)(20,"div",108)(21,"label",109),i(22,"Periodo *"),t(),e(23,"select",110),S("ngModelChange",function(n){x(o);let d=p();return O(d.periodoCalculoMasivo,n)||(d.periodoCalculoMasivo=n),f(n)}),e(24,"option",111),i(25,"\u{1F1F5}\u{1F1EA} Julio (Fiestas Patrias)"),t(),e(26,"option",112),i(27,"\u{1F384} Diciembre (Navidad)"),t()()(),e(28,"div",108)(29,"label",109),i(30,"Ano *"),t(),e(31,"select",110),S("ngModelChange",function(n){x(o);let d=p();return O(d.anioCalculoMasivo,n)||(d.anioCalculoMasivo=n),f(n)}),u(32,Fe,2,2,"option",24),t()()(),e(33,"div",113)(34,"span",114),i(35),t(),e(36,"div",115)(37,"span",116),i(38,"Periodo a calcular:"),t(),e(39,"span",117),i(40),t(),e(41,"span",118),u(42,ze,2,2,"ng-container",35)(43,Ae,2,2,"ng-container",35),t()()(),e(44,"div",119)(45,"div",120)(46,"span",121),i(47,"Gratificacion:"),t(),e(48,"span",122),i(49,"Remuneracion Computable"),t()(),e(50,"div",120)(51,"span",121),i(52,"Bonificacion Extraordinaria:"),t(),e(53,"span",122),i(54),t()()()(),e(55,"div",105)(56,"h4",106),i(57,"\u{1F465} Seleccion de Trabajadores"),t(),e(58,"div",123)(59,"div",124)(60,"span",125),i(61),t()(),e(62,"div",126),u(63,Ne,27,9,"div",127),t()()()(),e(64,"div",128)(65,"button",129),g("click",function(){x(o);let n=p();return f(n.mostrarModalCalculo=!1)}),i(66,"Cancelar"),t(),e(67,"button",130),g("click",function(){x(o);let n=p();return f(n.confirmarCalculoMasivo())}),i(68),t()()()()}if(c&2){let o,a,n=p();r(23),E("ngModel",n.periodoCalculoMasivo),r(8),E("ngModel",n.anioCalculoMasivo),r(),s("ngForOf",n.anios),r(3),m((o=n.getPeriodoInfo(n.periodoCalculoMasivo))==null?null:o.icon),r(5),P(" ",(a=n.getPeriodoInfo(n.periodoCalculoMasivo))==null?null:a.descripcion," ",n.anioCalculoMasivo," "),r(2),s("ngIf",n.periodoCalculoMasivo==="Julio"),r(),s("ngIf",n.periodoCalculoMasivo==="Diciembre"),r(11),_("",n.config.porcentajeBonificacion,"% de la Gratificacion"),r(7),P(" ",n.trabajadoresSeleccionados.length," de ",n.trabajadoresDisponibles.length," seleccionados "),r(2),s("ngForOf",n.trabajadoresDisponibles),r(4),s("disabled",n.trabajadoresSeleccionados.length===0),r(),_(" \u{1F9EE} Calcular Gratificacion (",n.trabajadoresSeleccionados.length,") ")}}function Re(c,l){if(c&1&&(e(0,"div",184)(1,"div",185)(2,"span",186),i(3,"Asignaci\xF3n Familiar"),t(),e(4,"span",187),i(5),t()(),e(6,"div",188),i(7,"Asignaci\xF3n familiar mensual (S/. 102.50)"),t()()),c&2){let o=p(3);r(5),_("S/. ",o.registroSeleccionado.asignacionFamiliar.toFixed(2))}}function Le(c,l){if(c&1&&(e(0,"div",184)(1,"div",185)(2,"span",186),i(3,"Promedio de Horas Extras"),t(),e(4,"span",187),i(5),t()(),e(6,"div",188),i(7),t()()),c&2){let o=p(3);r(5),_("S/. ",o.registroSeleccionado.promedioHorasExtras.toFixed(2)),r(2),_("Promedio de horas extras del semestre (",o.registroSeleccionado.periodo==="Julio"?"Enero-Junio":"Julio-Diciembre",")")}}function Ue(c,l){if(c&1&&(e(0,"div",230)(1,"div",231)(2,"div",232)(3,"span",233),i(4),t()(),e(5,"span",234),i(6),t()(),e(7,"div",235),i(8," Descuento manual agregado (pr\xE9stamo, embargo, cuota sindical, adelanto o convenio autorizado) "),t()()),c&2){let o=l.$implicit;r(4),m(o.nombre),r(2),_("- S/. ",o.monto.toFixed(2))}}function We(c,l){if(c&1&&(e(0,"div",236)(1,"div",231)(2,"div",232)(3,"span",237),i(4,"Total de Descuentos"),t()(),e(5,"span",238),i(6),t()(),e(7,"div",239),i(8,"Suma de todos los descuentos manuales aplicados"),t()()),c&2){let o=p(4);r(6),_("- S/. ",o.registroSeleccionado.totalDescuentos.toFixed(2))}}function Je(c,l){if(c&1&&(e(0,"div",227),u(1,Ue,9,2,"div",228)(2,We,9,1,"div",229),t()),c&2){let o=p(3);r(),s("ngForOf",o.registroSeleccionado.descuentos),r(),s("ngIf",o.registroSeleccionado.totalDescuentos>0)}}function Ye(c,l){c&1&&(e(0,"div",240)(1,"div",241),i(2,"\u2705"),t(),e(3,"div",242)(4,"strong"),i(5,"No se aplicaron descuentos a esta gratificaci\xF3n"),t(),e(6,"p",243),i(7," Seg\xFAn la Ley 30334, las gratificaciones no est\xE1n sujetas a descuentos autom\xE1ticos de AFP, ONP, Essalud ni 5ta categor\xEDa. Solo se pueden descontar pr\xE9stamos, embargos, cuotas sindicales, adelantos y convenios autorizados (agregados manualmente). "),t()()())}function qe(c,l){if(c&1&&(e(0,"div",162)(1,"div",163),i(2,"CCI"),t(),e(3,"div",165),i(4),t()()),c&2){let o=p(3);r(4),m(o.registroSeleccionado.cci)}}function $e(c,l){if(c&1&&(e(0,"div",162)(1,"div",163),i(2,"Fecha de Pago"),t(),e(3,"div",244),i(4),t()()),c&2){let o=p(3);r(4),m(o.formatearFecha(o.registroSeleccionado.fechaPago))}}function He(c,l){if(c&1&&(e(0,"div",162)(1,"div",163),i(2,"N\xFAmero de Comprobante"),t(),e(3,"div",245),i(4),t()()),c&2){let o=p(3);r(4),m(o.registroSeleccionado.numeroComprobante)}}function Ke(c,l){if(c&1&&(e(0,"div",250),i(1),t()),c&2){let o=p(4);r(),_("por ",o.registroSeleccionado.calculadoPor)}}function Qe(c,l){if(c&1&&(e(0,"div",246)(1,"div",247),i(2,"Calculado el:"),t(),e(3,"div",248),i(4),t(),u(5,Ke,2,1,"div",249),t()),c&2){let o=p(3);r(4),m(o.formatearFecha(o.registroSeleccionado.fechaCalculo)),r(),s("ngIf",o.registroSeleccionado.calculadoPor)}}function Xe(c,l){if(c&1&&(e(0,"div",250),i(1),t()),c&2){let o=p(4);r(),_("por ",o.registroSeleccionado.pagadoPor)}}function Ze(c,l){if(c&1&&(e(0,"div",246)(1,"div",247),i(2,"Pagado el:"),t(),e(3,"div",248),i(4),t(),u(5,Xe,2,1,"div",249),t()),c&2){let o=p(3);r(4),m(o.formatearFecha(o.registroSeleccionado.fechaPago)),r(),s("ngIf",o.registroSeleccionado.pagadoPor)}}function et(c,l){if(c&1&&(e(0,"div",154)(1,"div",155)(2,"div",156)(3,"div",157)(4,"div",158),i(5,"\u{1F464}"),t(),e(6,"h4",159),i(7,"Informaci\xF3n del Trabajador"),t()(),e(8,"div",160)(9,"div",161)(10,"div",162)(11,"div",163),i(12,"C\xF3digo"),t(),e(13,"div",164),i(14),t()(),e(15,"div",162)(16,"div",163),i(17,"Nombre Completo"),t(),e(18,"div",165),i(19),t()(),e(20,"div",162)(21,"div",163),i(22,"DNI"),t(),e(23,"div",165),i(24),t()(),e(25,"div",162)(26,"div",163),i(27,"Cargo"),t(),e(28,"div",165),i(29),t()(),e(30,"div",162)(31,"div",163),i(32,"\xC1rea"),t(),e(33,"div",165),i(34),t()()()()(),e(35,"div",166)(36,"div",157)(37,"div",158),i(38,"\u{1F4C5}"),t(),e(39,"h4",159),i(40,"Per\xEDodo de Gratificaci\xF3n"),t()(),e(41,"div",160)(42,"div",167)(43,"div",168),i(44),t(),e(45,"div",169)(46,"div",170),i(47),t(),e(48,"div",171),i(49),t(),e(50,"div",172)(51,"span",173),i(52,"Per\xEDodo:"),t(),e(53,"span",174),i(54),t()()()(),e(55,"div",113)(56,"div",175)(57,"div",176),i(58,"Meses Completos Trabajados"),t(),e(59,"div",177),i(60),t(),e(61,"div",178),i(62,"Tiempo trabajado en el semestre"),t()(),e(63,"div",175)(64,"div",176),i(65,"D\xEDas Adicionales"),t(),e(66,"div",177),i(67),t(),e(68,"div",178),i(69,"D\xEDas adicionales al per\xEDodo completo"),t()(),e(70,"div",179)(71,"div",176),i(72,"Total de D\xEDas"),t(),e(73,"div",180),i(74),t(),e(75,"div",178),i(76,"Total de d\xEDas trabajados en el per\xEDodo"),t()()()()(),e(77,"div",181)(78,"div",157)(79,"div",158),i(80,"\u{1F4B0}"),t(),e(81,"h4",159),i(82,"Remuneraci\xF3n Computable"),t(),e(83,"div",182),i(84,"Base para el c\xE1lculo de la gratificaci\xF3n"),t()(),e(85,"div",160)(86,"div",183)(87,"div",184)(88,"div",185)(89,"span",186),i(90,"Remuneraci\xF3n B\xE1sica"),t(),e(91,"span",187),i(92),t()(),e(93,"div",188),i(94,"Sueldo base mensual del trabajador"),t()(),u(95,Re,8,1,"div",189)(96,Le,8,2,"div",189),e(97,"div",190)(98,"div",185)(99,"span",191),i(100,"Total Remuneraci\xF3n Computable"),t(),e(101,"span",192),i(102),t()(),e(103,"div",193),i(104,"Suma de todos los conceptos computables"),t()()()()(),e(105,"div",194)(106,"div",157)(107,"div",158),i(108,"\u{1F9EE}"),t(),e(109,"h4",159),i(110,"C\xE1lculo de Gratificaci\xF3n"),t(),e(111,"div",182),i(112,"Desglose del monto de gratificaci\xF3n"),t()(),e(113,"div",160)(114,"div",195)(115,"div",196)(116,"div",197)(117,"div",198)(118,"span",199),i(119,"Gratificaci\xF3n"),t(),e(120,"span",200),i(121,"= Remuneraci\xF3n Computable"),t()(),e(122,"span",201),i(123),t()(),e(124,"div",202),i(125,"La gratificaci\xF3n es igual a la remuneraci\xF3n computable del semestre"),t()(),e(126,"div",196)(127,"div",197)(128,"div",198)(129,"span",199),i(130,"Bonificaci\xF3n Extraordinaria"),t(),e(131,"span",200),i(132),t()(),e(133,"span",201),i(134),t()(),e(135,"div",202),i(136),t()(),e(137,"div",203)(138,"div",197)(139,"div",198)(140,"span",204),i(141,"Total Gratificaci\xF3n"),t(),e(142,"span",200),i(143,"= Gratificaci\xF3n + Bonificaci\xF3n"),t()(),e(144,"span",205),i(145),t()(),e(146,"div",206),i(147,"Monto total de gratificaci\xF3n antes de descuentos"),t()()()()(),e(148,"div",207)(149,"div",157)(150,"div",158),i(151,"\u2796"),t(),e(152,"h4",159),i(153,"Descuentos Aplicados"),t(),e(154,"div",182),i(155," \u26A0\uFE0F Seg\xFAn la Ley 30334, las gratificaciones NO est\xE1n sujetas a descuentos de AFP, ONP, Essalud ni 5ta categor\xEDa. Solo se pueden descontar pr\xE9stamos, embargos, cuotas sindicales, adelantos y convenios autorizados (agregados manualmente). "),t()(),e(156,"div",160),u(157,Je,3,2,"div",208)(158,Ye,8,0,"div",209),t()(),e(159,"div",210)(160,"div",211)(161,"div",212)(162,"div",213),i(163,"\u{1F4B5}"),t(),e(164,"div",214)(165,"div",215),i(166,"Neto a Pagar"),t(),e(167,"div",216),i(168,"= Total Gratificaci\xF3n - Total Descuentos"),t()()(),e(169,"div",217),i(170),t(),e(171,"div",218),i(172,"Monto final que recibir\xE1 el trabajador"),t()()(),e(173,"div",219)(174,"div",157)(175,"div",158),i(176,"\u{1F3E6}"),t(),e(177,"h4",159),i(178,"Datos de Pago"),t(),e(179,"div",182),i(180,"Informaci\xF3n bancaria para el dep\xF3sito"),t()(),e(181,"div",160)(182,"div",161)(183,"div",162)(184,"div",163),i(185,"Banco"),t(),e(186,"div",165),i(187),t()(),e(188,"div",162)(189,"div",163),i(190,"Tipo de Cuenta"),t(),e(191,"div",165),i(192),t()(),e(193,"div",162)(194,"div",163),i(195,"N\xFAmero de Cuenta"),t(),e(196,"div",165),i(197),t()(),u(198,qe,5,1,"div",220),e(199,"div",162)(200,"div",163),i(201,"Moneda"),t(),e(202,"div",165),i(203),t()(),u(204,$e,5,1,"div",220)(205,He,5,1,"div",220),t()()(),e(206,"div",221)(207,"div",157)(208,"div",158),i(209,"\u{1F4CA}"),t(),e(210,"h4",159),i(211,"Estado del Registro"),t()(),e(212,"div",160)(213,"div",222)(214,"div",223)(215,"span",224),i(216),t()(),e(217,"div",225),u(218,Qe,6,2,"div",226)(219,Ze,6,2,"div",226),t()()()()()()),c&2){let o,a,n=p(2);r(14),m(n.registroSeleccionado.codigo),r(5),m(n.registroSeleccionado.trabajadorNombre),r(5),m(n.registroSeleccionado.trabajadorDni),r(5),m(n.registroSeleccionado.trabajadorCargo||"No especificado"),r(5),m(n.registroSeleccionado.trabajadorArea||"No especificada"),r(8),w("periodo-banner--julio",n.registroSeleccionado.periodo==="Julio")("periodo-banner--diciembre",n.registroSeleccionado.periodo==="Diciembre"),r(2),m((o=n.getPeriodoInfo(n.registroSeleccionado.periodo))==null?null:o.icon),r(3),P("",n.registroSeleccionado.periodo," ",n.registroSeleccionado.anio),r(2),m((a=n.getPeriodoInfo(n.registroSeleccionado.periodo))==null?null:a.descripcion),r(5),P("",n.formatearFecha(n.registroSeleccionado.fechaInicio)," - ",n.formatearFecha(n.registroSeleccionado.fechaFin)),r(6),_("",n.registroSeleccionado.mesesCompletos," meses"),r(7),_("",n.registroSeleccionado.diasAdicionales," d\xEDas"),r(7),_("",n.registroSeleccionado.totalDias," d\xEDas"),r(18),_("S/. ",n.registroSeleccionado.remuneracionBasica.toFixed(2)),r(3),s("ngIf",n.registroSeleccionado.asignacionFamiliar>0),r(),s("ngIf",n.registroSeleccionado.promedioHorasExtras>0),r(6),_("S/. ",n.registroSeleccionado.totalRemuneracionComputable.toFixed(2)),r(21),_("S/. ",n.registroSeleccionado.montoGratificacion.toFixed(2)),r(9),_("",n.registroSeleccionado.porcentajeBonificacion,"% de EsSalud sobre la gratificaci\xF3n"),r(2),_("S/. ",n.registroSeleccionado.bonificacionExtraordinaria.toFixed(2)),r(2),_("Bonificaci\xF3n del ",n.registroSeleccionado.porcentajeBonificacion,"% sobre la gratificaci\xF3n (EsSalud)"),r(9),_("S/. ",n.registroSeleccionado.totalGratificacion.toFixed(2)),r(12),s("ngIf",n.registroSeleccionado.descuentos&&n.registroSeleccionado.descuentos.length>0),r(),s("ngIf",!n.registroSeleccionado.descuentos||n.registroSeleccionado.descuentos.length===0||n.registroSeleccionado.totalDescuentos===0),r(12),_("S/. ",n.registroSeleccionado.netoAPagar.toFixed(2)),r(17),m(n.registroSeleccionado.banco||"No especificado"),r(5),m(n.registroSeleccionado.tipoCuenta||"No especificado"),r(5),m(n.registroSeleccionado.numeroCuenta||"No especificado"),r(),s("ngIf",n.registroSeleccionado.cci),r(5),m(n.registroSeleccionado.moneda||"Soles"),r(),s("ngIf",n.registroSeleccionado.fechaPago),r(),s("ngIf",n.registroSeleccionado.numeroComprobante),r(10),s("ngClass",n.getEstadoBadgeClass(n.registroSeleccionado.estado)),r(),_(" ",n.registroSeleccionado.estado," "),r(2),s("ngIf",n.registroSeleccionado.fechaCalculo),r(),s("ngIf",n.registroSeleccionado.fechaPago)}}function tt(c,l){if(c&1){let o=C();e(0,"button",251),g("click",function(){x(o);let n=p(2);return f(n.descargarBoleta(n.registroSeleccionado))}),i(1," \u{1F4E5} Descargar Boleta "),t()}}function nt(c,l){if(c&1){let o=C();e(0,"div",144),g("click",function(){x(o);let n=p();return f(n.mostrarModalDetalle=!1)}),e(1,"div",145),g("click",function(n){return x(o),f(n.stopPropagation())}),e(2,"div",146)(3,"div",147)(4,"div",148),i(5,"\u{1F381}"),t(),e(6,"div",149)(7,"h3",99),i(8,"Detalle de Gratificaci\xF3n"),t(),e(9,"p",150),i(10),t()()(),e(11,"button",100),g("click",function(){x(o);let n=p();return f(n.mostrarModalDetalle=!1)}),i(12,"\u2716\uFE0F"),t()(),u(13,et,220,41,"div",151),e(14,"div",152)(15,"button",129),g("click",function(){x(o);let n=p();return f(n.mostrarModalDetalle=!1)}),i(16,"Cerrar"),t(),u(17,tt,2,0,"button",153),t()()()}if(c&2){let o=p();r(10),m(o.registroSeleccionado==null?null:o.registroSeleccionado.codigo),r(3),s("ngIf",o.registroSeleccionado),r(4),s("ngIf",o.registroSeleccionado)}}function it(c,l){if(c&1&&(e(0,"div",101)(1,"div",255)(2,"div",256),i(3,"\u{1F381}"),t(),e(4,"div",257)(5,"h4"),i(6),t(),e(7,"p",258),i(8),t(),e(9,"p",259),i(10),t()()(),e(11,"div",260)(12,"div",261)(13,"span",262),i(14,"Gratificacion:"),t(),e(15,"span",263),i(16),t()(),e(17,"div",261)(18,"span",262),i(19,"Bonificacion (9%):"),t(),e(20,"span",263),i(21),t()(),e(22,"div",261)(23,"span",262),i(24,"Descuentos:"),t(),e(25,"span",264),i(26),t()(),e(27,"div",265)(28,"span",262),i(29,"Neto a Pagar:"),t(),e(30,"span",263),i(31),t()()(),e(32,"div",266)(33,"div",267)(34,"span",268),i(35,"Banco:"),t(),e(36,"span",269),i(37),t()(),e(38,"div",267)(39,"span",268),i(40,"Cuenta:"),t(),e(41,"span",269),i(42),t()()(),e(43,"div",270)(44,"p"),i(45,"\u26A0\uFE0F Esta accion registrara el pago de la gratificacion. Asegurese de haber realizado la transferencia bancaria."),t()()()),c&2){let o=p(2);r(6),m(o.registroSeleccionado.trabajadorNombre),r(2),P("",o.registroSeleccionado.periodo," ",o.registroSeleccionado.anio),r(2),_("S/. ",o.registroSeleccionado.netoAPagar.toFixed(2)),r(6),_("S/. ",o.registroSeleccionado.montoGratificacion.toFixed(2)),r(5),_("S/. ",o.registroSeleccionado.bonificacionExtraordinaria.toFixed(2)),r(5),_("- S/. ",o.registroSeleccionado.totalDescuentos.toFixed(2)),r(5),_("S/. ",o.registroSeleccionado.netoAPagar.toFixed(2)),r(6),m(o.registroSeleccionado.banco),r(5),m(o.registroSeleccionado.numeroCuenta)}}function ot(c,l){if(c&1){let o=C();e(0,"div",96),g("click",function(){x(o);let n=p();return f(n.mostrarModalPago=!1)}),e(1,"div",252),g("click",function(n){return x(o),f(n.stopPropagation())}),e(2,"div",98)(3,"h3",99),i(4,"\u{1F4B3} Confirmar Pago de Gratificacion"),t(),e(5,"button",100),g("click",function(){x(o);let n=p();return f(n.mostrarModalPago=!1)}),i(6,"\u2716\uFE0F"),t()(),u(7,it,46,10,"div",253),e(8,"div",128)(9,"button",129),g("click",function(){x(o);let n=p();return f(n.mostrarModalPago=!1)}),i(10,"Cancelar"),t(),e(11,"button",254),g("click",function(){x(o);let n=p();return f(n.confirmarPago())}),i(12," \u{1F4B3} Confirmar Pago "),t()()()()}if(c&2){let o=p();r(7),s("ngIf",o.registroSeleccionado)}}function at(c,l){if(c&1){let o=C();e(0,"div",271)(1,"div",272),g("click",function(n){return x(o),f(n.stopPropagation())}),e(2,"div",273)(3,"div",274),i(4,"\u274C"),t(),e(5,"h3",275),i(6,"Error al cargar trabajadores"),t(),e(7,"p",276),i(8),t(),e(9,"button",251),g("click",function(){x(o);let n=p();return f(n.cerrarModalErrorCarga())}),i(10," Entendido "),t()()()()}if(c&2){let o=p();r(8),_(" ",o.mensajeErrorCarga," ")}}function rt(c,l){c&1&&(e(0,"div",284),y(1,"div",285),t())}function ct(c,l){c&1&&(e(0,"div",286),D(),e(1,"svg",287),y(2,"circle",288)(3,"path",289),t()())}function lt(c,l){c&1&&(e(0,"p",290),i(1," La gratificaci\xF3n ha sido marcada como pagada correctamente. "),t())}function dt(c,l){c&1&&(e(0,"p",290),i(1," Procesando pago... "),t())}function st(c,l){if(c&1){let o=C();e(0,"div",277)(1,"div",278),g("click",function(n){return x(o),f(n.stopPropagation())}),e(2,"div",279),u(3,rt,2,0,"div",280)(4,ct,4,0,"div",281),e(5,"h3",282),i(6,"Pago confirmado exitosamente"),t(),u(7,lt,2,0,"p",283)(8,dt,2,0,"p",283),t()()()}if(c&2){let o=p();r(3),s("ngIf",o.pagando),r(),s("ngIf",o.pagoCompletado),r(3),s("ngIf",o.pagoCompletado),r(),s("ngIf",o.pagando)}}function pt(c,l){if(c&1&&(e(0,"div",303)(1,"span",304),i(2,"\u274C"),t(),e(3,"span",305),i(4),t()()),c&2){let o=p(3);r(4),m(o.mensajeError)}}function mt(c,l){c&1&&(e(0,"div",312),y(1,"div",313),t())}function gt(c,l){c&1&&(e(0,"div",314),D(),e(1,"svg",315),y(2,"circle",288)(3,"path",289),t()())}function _t(c,l){if(c&1&&(e(0,"h3",316),i(1),t()),c&2){let o=p(4);r(),m(o.mensajeExito)}}function xt(c,l){c&1&&(e(0,"p",317),i(1,"Eliminando gratificaci\xF3n..."),t())}function ft(c,l){c&1&&(e(0,"p",317),i(1,"La gratificaci\xF3n ha sido eliminada permanentemente."),t())}function ut(c,l){if(c&1&&(e(0,"div",306)(1,"div",307),u(2,mt,2,0,"div",308)(3,gt,4,0,"div",309)(4,_t,2,1,"h3",310)(5,xt,2,0,"p",311)(6,ft,2,0,"p",311),t()()),c&2){let o=p(3);r(2),s("ngIf",o.eliminando),r(),s("ngIf",o.eliminacionCompletada),r(),s("ngIf",o.eliminacionCompletada),r(),s("ngIf",o.eliminando),r(),s("ngIf",o.eliminacionCompletada)}}function bt(c,l){if(c&1){let o=C();e(0,"div",318)(1,"div",319)(2,"div",320)(3,"span",321),i(4,"C\xF3digo:"),t(),e(5,"span",322),i(6),t()(),e(7,"div",320)(8,"span",321),i(9,"Trabajador:"),t(),e(10,"span",322),i(11),t()(),e(12,"div",320)(13,"span",321),i(14,"Per\xEDodo:"),t(),e(15,"span",322),i(16),t()(),e(17,"div",320)(18,"span",321),i(19,"Monto:"),t(),e(20,"span",322),i(21),t()()(),e(22,"div",323)(23,"p",324),i(24," Se eliminar\xE1n "),e(25,"strong"),i(26,"permanentemente"),t(),i(27," todos los datos, c\xE1lculos y registros de esta gratificaci\xF3n. "),t()(),e(28,"div",325)(29,"label",326),i(30," Escriba "),e(31,"strong"),i(32,'"ELIMINAR"'),t(),i(33," para confirmar: "),t(),e(34,"input",327),S("ngModelChange",function(n){x(o);let d=p(3);return O(d.confirmacionEliminar,n)||(d.confirmacionEliminar=n),f(n)}),g("keyup.enter",function(){x(o);let n=p(3);return f(n.confirmarEliminacion())}),t()()()}if(c&2){let o=p(3);r(6),m(o.gratificacionAEliminar.codigo),r(5),m(o.gratificacionAEliminar.trabajadorNombre),r(5),P("",o.gratificacionAEliminar.periodo," ",o.gratificacionAEliminar.anio),r(5),_("S/. ",(o.gratificacionAEliminar.netoAPagar||0).toFixed(2)),r(13),w("delete-confirmation__input--error",o.confirmacionEliminar&&o.confirmacionEliminar.toUpperCase()!=="ELIMINAR")("delete-confirmation__input--success",o.confirmacionEliminar.toUpperCase()==="ELIMINAR"),E("ngModel",o.confirmacionEliminar),s("disabled",o.eliminando)}}function vt(c,l){if(c&1&&(e(0,"div",299),u(1,pt,5,1,"div",300)(2,ut,7,5,"div",301)(3,bt,35,11,"div",302),t()),c&2){let o=p(2);r(),s("ngIf",o.mensajeError&&!o.eliminando&&!o.eliminacionCompletada),r(),s("ngIf",o.eliminando||o.eliminacionCompletada),r(),s("ngIf",!o.eliminando&&!o.eliminacionCompletada)}}function Ct(c,l){if(c&1){let o=C();e(0,"div",328)(1,"button",329),g("click",function(){x(o);let n=p(2);return f(n.cerrarModalEliminar())}),i(2," Cancelar "),t(),e(3,"button",330),g("click",function(){x(o);let n=p(2);return f(n.confirmarEliminacion())}),i(4," Eliminar "),t()()}if(c&2){let o=p(2);r(),s("disabled",o.eliminando),r(2),s("disabled",o.confirmacionEliminar.toUpperCase()!=="ELIMINAR"||o.eliminando)}}function ht(c,l){if(c&1){let o=C();e(0,"div",291),g("click",function(){x(o);let n=p();return f(n.cerrarModalEliminar())}),e(1,"div",292),g("click",function(n){return x(o),f(n.stopPropagation())}),e(2,"div",293)(3,"div",294),i(4,"\u26A0\uFE0F"),t(),e(5,"div",295)(6,"h3",99),i(7,"Eliminar Gratificaci\xF3n"),t(),e(8,"p",150),i(9,"Esta acci\xF3n no se puede deshacer"),t()(),e(10,"button",296),g("click",function(){x(o);let n=p();return f(n.cerrarModalEliminar())}),i(11,"\u2716\uFE0F"),t()(),u(12,vt,4,3,"div",297)(13,Ct,5,2,"div",298),t()()}if(c&2){let o=p();w("modal--shaking",o.mensajeError),r(10),s("disabled",o.eliminando),r(2),s("ngIf",o.gratificacionAEliminar),r(),s("ngIf",!o.eliminando&&!o.eliminacionCompletada)}}function Mt(c,l){c&1&&(e(0,"div",341),i(1,"\u2705"),t())}function Pt(c,l){c&1&&(e(0,"div",342),i(1,"\u26A0\uFE0F"),t())}function Et(c,l){c&1&&(e(0,"span"),i(1,"C\xE1lculo completado"),t())}function Ot(c,l){c&1&&(e(0,"span"),i(1,"Error en el c\xE1lculo"),t())}function St(c,l){if(c&1&&(e(0,"div",343)(1,"span",344),i(2,"Gratificaciones calculadas:"),t(),e(3,"span",345),i(4),t()()),c&2){let o=p(2);r(4),m(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.calculadas)}}function wt(c,l){if(c&1&&(e(0,"div",346)(1,"span",344),i(2,"Errores:"),t(),e(3,"span",345),i(4),t()()),c&2){let o=p(2);r(4),m(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.errores)}}function yt(c,l){if(c&1&&(e(0,"div",351)(1,"div",352),i(2),t(),e(3,"div",353),i(4),t()()),c&2){let o=l.$implicit;r(2),m(o.trabajador),r(2),m(o.error)}}function kt(c,l){if(c&1&&(e(0,"div",347)(1,"h4",348),i(2,"Detalles de errores:"),t(),e(3,"div",349),u(4,yt,5,2,"div",350),t()()),c&2){let o=p(2);r(4),s("ngForOf",o.resultadoCalculoMasivo.erroresDetalle)}}function It(c,l){if(c&1){let o=C();e(0,"div",331)(1,"div",332),g("click",function(n){return x(o),f(n.stopPropagation())}),e(2,"div",333),u(3,Mt,2,0,"div",334)(4,Pt,2,0,"div",335),e(5,"h3",336),u(6,Et,2,0,"span",35)(7,Ot,2,0,"span",35),t(),e(8,"div",337),u(9,St,5,1,"div",338)(10,wt,5,1,"div",339),t(),u(11,kt,5,1,"div",340),e(12,"button",251),g("click",function(){x(o);let n=p();return f(n.cerrarModalResultadoCalculo())}),i(13," Entendido "),t()()()()}if(c&2){let o=p();r(3),s("ngIf",(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.calculadas)>0),r(),s("ngIf",(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.calculadas)===0),r(2),s("ngIf",(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.calculadas)>0),r(),s("ngIf",(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.calculadas)===0),r(2),s("ngIf",(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.calculadas)>0),r(),s("ngIf",(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.errores)>0),r(),s("ngIf",(o.resultadoCalculoMasivo==null?null:o.resultadoCalculoMasivo.errores)>0&&(o.resultadoCalculoMasivo==null||o.resultadoCalculoMasivo.erroresDetalle==null?null:o.resultadoCalculoMasivo.erroresDetalle.length)>0)}}var Rt=(()=>{let l=class l{constructor(a,n,d){this.router=a,this.gratificacionesService=n,this.cdr=d,this.registrosGratificacion=[],this.registrosFiltrados=[],this.registroSeleccionado=null,this.resumen=null,this.config=k({},te),this.filtros={anio:new Date().getFullYear(),periodo:"Todos",estado:"Todos",area:"Todas",busqueda:""},this.cargando=!1,this.mostrarModalDetalle=!1,this.mostrarModalCalculo=!1,this.mostrarModalPago=!1,this.mostrarModalErrorCarga=!1,this.mensajeErrorCarga="",this.mostrarModalResultadoCalculo=!1,this.resultadoCalculoMasivo=null,this.mostrarModalEliminar=!1,this.gratificacionAEliminar=null,this.confirmacionEliminar="",this.eliminando=!1,this.eliminacionCompletada=!1,this.mensajeExito="",this.mensajeError="",this.mostrarModalExitoPago=!1,this.pagando=!1,this.pagoCompletado=!1,this.modoCalculoMasivo=!1,this.periodoCalculoMasivo="Julio",this.anioCalculoMasivo=new Date().getFullYear(),this.trabajadoresDisponibles=[],this.trabajadoresSeleccionados=[],this.paginaActual=1,this.itemsPorPagina=10,this.periodosGratificacion=ne,this.estadosGratificacion=ie,this.areas=oe,this.tiposCuenta=ae,this.monedas=re,this.mesesGratificacion=F,this.anios=[]}ngOnInit(){window.scrollTo(0,0),setTimeout(()=>{let a=document.querySelector(".main-content");a&&(a.scrollTop=0)},100),this.inicializarAnios(),this.cargarRegistrosGratificacion(),this.cargarTrabajadores()}inicializarAnios(){let a=new Date().getFullYear();for(let n=a;n>=a-5;n--)this.anios.push(n)}cargarTrabajadores(){}cargarTrabajadoresDisponibles(){if(!(!this.periodoCalculoMasivo||!this.anioCalculoMasivo)){if(this.periodoCalculoMasivo!=="Julio"&&this.periodoCalculoMasivo!=="Diciembre"){this.mostrarModalErrorCarga=!0,this.mensajeErrorCarga="Las gratificaciones solo se calculan en Julio y Diciembre";return}this.gratificacionesService.obtenerTrabajadoresDisponibles(this.periodoCalculoMasivo,this.anioCalculoMasivo).subscribe({next:a=>{a.success&&(this.trabajadoresDisponibles=a.data.map(n=>({id:n.id,dni:n.dni,nombre:n.nombre,cargo:n.cargo,area:n.area,fechaIngreso:n.fechaIngreso?new Date(n.fechaIngreso):null,remuneracionBasica:n.remuneracionBasica,asignacionFamiliar:n.asignacionFamiliar,sistemaPensiones:n.sistemaPensiones,nombreAFP:n.nombreAFP,banco:n.banco,tipoCuenta:n.tipoCuenta,numeroCuenta:n.numeroCuenta,cci:n.cci,regimenLaboral:n.regimenLaboral,regimenLaboralCodigo:n.regimenLaboralCodigo})))},error:a=>{console.error("\u274C Error al cargar trabajadores:",a),this.mostrarModalErrorCarga=!0,this.mensajeErrorCarga=a.error?.message||"Error al cargar trabajadores disponibles. Por favor, intente nuevamente."}})}}cargarRegistrosGratificacion(){this.cargando=!0,this.gratificacionesService.listar(this.filtros).subscribe({next:a=>{a.success&&(this.registrosGratificacion=a.data.map(n=>({id:n.id,codigo:n.codigo,trabajadorId:n.trabajadorId,trabajadorDni:n.trabajadorDni,trabajadorNombre:n.trabajadorNombre,trabajadorCargo:n.trabajadorCargo,trabajadorArea:n.trabajadorArea,periodo:n.periodo,mes:n.mes,anio:n.anio,fechaInicio:n.fechaInicio,fechaFin:n.fechaFin,mesesCompletos:n.mesesCompletos,diasAdicionales:n.diasAdicionales,totalDias:n.totalDias,remuneracionBasica:n.remuneracionBasica,asignacionFamiliar:n.asignacionFamiliar,promedioHorasExtras:n.promedioHorasExtras,promedioComisiones:n.promedioComisiones,promedioBonificaciones:n.promedioBonificaciones,totalRemuneracionComputable:n.totalRemuneracionComputable,montoGratificacion:n.montoGratificacion,bonificacionExtraordinaria:n.bonificacionExtraordinaria,porcentajeBonificacion:n.porcentajeBonificacion,totalGratificacion:n.totalGratificacion,descuentos:[],totalDescuentos:n.totalDescuentos,netoAPagar:n.netoAPagar,banco:n.banco,tipoCuenta:n.tipoCuenta,numeroCuenta:n.numeroCuenta,cci:n.cci,moneda:n.moneda,estado:n.estado,fechaCalculo:n.fechaCalculo?new Date(n.fechaCalculo):null,fechaPago:n.fechaPago?new Date(n.fechaPago):null,numeroComprobante:n.numeroComprobante,calculadoPor:n.calculadoPor,pagadoPor:n.pagadoPor,observaciones:n.observaciones})),this.calcularResumen(),this.aplicarFiltros()),this.cargando=!1},error:a=>{console.error("\u274C Error al cargar gratificaciones:",a),alert("Error al cargar gratificaciones"),this.cargando=!1}})}calcularResumen(){let a=this.registrosGratificacion.length,d=new Set(this.registrosGratificacion.map(b=>b.trabajadorId)).size,h=this.registrosGratificacion.reduce((b,M)=>b+M.montoGratificacion,0),v=this.registrosGratificacion.reduce((b,M)=>b+M.bonificacionExtraordinaria,0),le=this.registrosGratificacion.reduce((b,M)=>b+M.totalDescuentos,0),de=this.registrosGratificacion.filter(b=>b.estado==="Pagado").reduce((b,M)=>b+M.netoAPagar,0),se=this.registrosGratificacion.filter(b=>b.estado==="Borrador").length,pe=this.registrosGratificacion.filter(b=>b.estado==="Calculado").length,me=this.registrosGratificacion.filter(b=>b.estado==="Aprobado").length,ge=this.registrosGratificacion.filter(b=>b.estado==="Pagado").length,_e=this.registrosGratificacion.filter(b=>b.estado==="Observado").length,xe=[...new Set(this.registrosGratificacion.map(b=>b.trabajadorArea))].map(b=>({area:b,cantidad:this.registrosGratificacion.filter(M=>M.trabajadorArea===b).length,total:this.registrosGratificacion.filter(M=>M.trabajadorArea===b).reduce((M,be)=>M+be.totalGratificacion,0)})),fe=this.registrosGratificacion.reduce((b,M)=>b+M.mesesCompletos,0)/a,ue=h/a;this.resumen={totalRegistros:a,totalTrabajadores:d,totalGratificacionCalculada:h,totalBonificacionExtraordinaria:v,totalDescuentos:le,totalNetoPagado:de,registrosBorrador:se,registrosCalculados:pe,registrosAprobados:me,registrosPagados:ge,registrosObservados:_e,distribucionPorArea:xe,promedioMesesServicio:fe,promedioMontoGratificacion:ue}}aplicarFiltros(){let a=[...this.registrosGratificacion];if(this.filtros.anio&&(a=a.filter(n=>n.anio===this.filtros.anio)),this.filtros.periodo!=="Todos"&&(a=a.filter(n=>n.periodo===this.filtros.periodo)),this.filtros.estado!=="Todos"&&(a=a.filter(n=>n.estado===this.filtros.estado)),this.filtros.area!=="Todas"&&(a=a.filter(n=>n.trabajadorArea===this.filtros.area)),this.filtros.busqueda){let n=this.filtros.busqueda.toLowerCase();a=a.filter(d=>d.codigo.toLowerCase().includes(n)||d.trabajadorNombre.toLowerCase().includes(n)||d.trabajadorDni.includes(n))}a.sort((n,d)=>new Date(d.fechaCalculo||0).getTime()-new Date(n.fechaCalculo||0).getTime()),this.registrosFiltrados=a,this.paginaActual=1}limpiarFiltros(){this.filtros={anio:new Date().getFullYear(),periodo:"Todos",estado:"Todos",area:"Todas",busqueda:""},this.aplicarFiltros()}abrirCalculoMasivo(){let a=new Date().getMonth()+1;if(this.periodoCalculoMasivo!=="Julio"&&this.periodoCalculoMasivo!=="Diciembre"){alert("Las gratificaciones solo se calculan en Julio y Diciembre");return}this.modoCalculoMasivo=!0,this.mostrarModalCalculo=!0,this.cargarTrabajadoresDisponibles()}confirmarCalculoMasivo(){if(this.trabajadoresSeleccionados.length===0){this.mostrarModalErrorCarga=!0,this.mensajeErrorCarga="Seleccione al menos un trabajador";return}if(this.periodoCalculoMasivo!=="Julio"&&this.periodoCalculoMasivo!=="Diciembre"){this.mostrarModalErrorCarga=!0,this.mensajeErrorCarga="Las gratificaciones solo se calculan en Julio y Diciembre";return}this.cargando=!0;let a=this.trabajadoresSeleccionados.map(n=>n.id);this.gratificacionesService.calcularMasivo({trabajadores:a,periodo:this.periodoCalculoMasivo,anio:this.anioCalculoMasivo}).subscribe({next:n=>{n.success&&(this.resultadoCalculoMasivo={calculadas:n.data.calculadas,errores:n.data.errores,erroresDetalle:n.data.erroresDetalle||[]},this.mostrarModalResultadoCalculo=!0,n.data.calculadas>0&&this.cargarRegistrosGratificacion(),this.mostrarModalCalculo=!1,this.trabajadoresSeleccionados=[]),this.cargando=!1},error:n=>{console.error("\u274C Error al calcular gratificaciones:",n),this.mostrarModalErrorCarga=!0,this.mensajeErrorCarga=n.error?.message||"Error al calcular gratificaciones. Por favor, intente nuevamente.",this.cargando=!1}})}redondear(a){return Math.round(a*100)/100}verDetalle(a){a.id?(this.cargando=!0,this.gratificacionesService.obtenerPorId(a.id).subscribe({next:n=>{n.success&&(this.registroSeleccionado=z(k(k({},a),n.data),{descuentos:n.data.descuentos||[]}),this.mostrarModalDetalle=!0),this.cargando=!1},error:n=>{console.error("\u274C Error al cargar detalle:",n),this.registroSeleccionado=a,this.mostrarModalDetalle=!0,this.cargando=!1}})):(this.registroSeleccionado=a,this.mostrarModalDetalle=!0)}aprobarRegistro(a){if(confirm(`\xBFAprobar la gratificacion de ${a.trabajadorNombre}?`)){if(!a.id){alert("Error: No se puede aprobar un registro sin ID");return}this.gratificacionesService.aprobar(a.id).subscribe({next:n=>{n.success&&(a.estado="Aprobado",alert("Gratificaci\xF3n aprobada exitosamente"))},error:n=>{console.error("\u274C Error al aprobar gratificaci\xF3n:",n),alert("Error al aprobar gratificaci\xF3n")}})}}abrirPago(a){this.registroSeleccionado=a,this.mostrarModalPago=!0}confirmarPago(){if(this.registroSeleccionado){if(!this.registroSeleccionado.id){alert("Error: No se puede pagar un registro sin ID");return}let a=`GRAT-${this.registroSeleccionado.periodo.substring(0,3).toUpperCase()}-${new Date().getFullYear()}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`;this.pagando=!0,this.pagoCompletado=!1,this.mostrarModalExitoPago=!0,this.mostrarModalPago=!1,this.gratificacionesService.pagar(this.registroSeleccionado.id,a).subscribe({next:n=>{n.success&&(this.cdr.detectChanges(),setTimeout(()=>{this.pagando=!1,this.pagoCompletado=!0,this.registroSeleccionado.estado="Pagado",this.registroSeleccionado.fechaPago=new Date,this.registroSeleccionado.numeroComprobante=a,this.cdr.detectChanges(),this.cdr.markForCheck(),setTimeout(()=>{this.cerrarModalExitoPago(),this.cargarRegistrosGratificacion()},2500)},800))},error:n=>{console.error("\u274C Error al confirmar pago:",n),this.pagando=!1,this.cerrarModalExitoPago(),alert("Error al confirmar pago")}})}}cerrarModalExitoPago(){this.mostrarModalExitoPago=!1,this.pagando=!1,this.pagoCompletado=!1}descargarBoleta(a){console.log("Descargar boleta de gratificacion:",a.codigo)}exportarExcel(){console.log("Exportar gratificaciones a Excel")}toggleSeleccionTrabajador(a){let n=this.trabajadoresSeleccionados.findIndex(d=>d.id===a.id);n>-1?this.trabajadoresSeleccionados.splice(n,1):this.trabajadoresSeleccionados.push(a)}estaTrabajadorSeleccionado(a){return this.trabajadoresSeleccionados.some(n=>n.id===a.id)}get registrosPaginados(){let a=(this.paginaActual-1)*this.itemsPorPagina,n=a+this.itemsPorPagina;return this.registrosFiltrados.slice(a,n)}get totalPaginas(){return Math.ceil(this.registrosFiltrados.length/this.itemsPorPagina)}cambiarPagina(a){a>=1&&a<=this.totalPaginas&&(this.paginaActual=a)}getEstadoBadgeClass(a){return{Borrador:"badge--borrador",Calculado:"badge--calculado",Aprobado:"badge--aprobado",Pagado:"badge--pagado",Observado:"badge--observado"}[a]||""}formatearFecha(a){return a?new Date(a).toLocaleDateString("es-PE"):"-"}getPeriodoInfo(a){return F.find(n=>n.periodo===a)}cerrarModalErrorCarga(){this.mostrarModalErrorCarga=!1,this.mensajeErrorCarga=""}cerrarModalResultadoCalculo(){this.mostrarModalResultadoCalculo=!1,this.resultadoCalculoMasivo=null}abrirModalEliminar(a){this.gratificacionAEliminar=a,this.mostrarModalEliminar=!0,this.confirmacionEliminar="",this.mensajeError="",this.eliminando=!1,this.eliminacionCompletada=!1,this.mensajeExito=""}cerrarModalEliminar(){this.eliminando||(this.mostrarModalEliminar=!1,this.gratificacionAEliminar=null,this.confirmacionEliminar="",this.mensajeError="",this.eliminando=!1,this.eliminacionCompletada=!1,this.mensajeExito="")}confirmarEliminacion(){if(!this.gratificacionAEliminar||!this.gratificacionAEliminar.id){this.mensajeError="Error: No se puede eliminar un registro sin ID";return}if(this.confirmacionEliminar.toUpperCase()!=="ELIMINAR"){this.mensajeError='Debe escribir "ELIMINAR" para confirmar';return}this.eliminando=!0,this.mensajeError="",this.mensajeExito="",this.gratificacionesService.eliminar(this.gratificacionAEliminar.id).subscribe({next:a=>{a.success&&(this.cdr.detectChanges(),setTimeout(()=>{this.eliminando=!1,this.eliminacionCompletada=!0,this.mensajeExito="Gratificaci\xF3n eliminada exitosamente",this.cdr.detectChanges(),this.cdr.markForCheck(),setTimeout(()=>{this.cerrarModalEliminar(),this.cargarRegistrosGratificacion()},2500)},800))},error:a=>{console.error("\u274C Error al eliminar gratificaci\xF3n:",a),this.eliminando=!1,this.mensajeError=a.error?.message||"Error al eliminar gratificaci\xF3n. Por favor, intente nuevamente.",this.cdr.detectChanges()}})}};l.\u0275fac=function(n){return new(n||l)(I(q),I(ce),I(R))},l.\u0275cmp=N({type:l,selectors:[["app-gratificaciones"]],decls:105,vars:22,consts:[[1,"gratificaciones-container"],[1,"page-header"],[1,"page-header__left"],[1,"page-title"],[1,"page-title__icon"],[1,"page-subtitle"],[1,"page-subtitle__dots"],[1,"page-subtitle__dot","page-subtitle__dot--large"],[1,"page-subtitle__dot","page-subtitle__dot--medium"],[1,"page-subtitle__dot","page-subtitle__dot--small"],[1,"page-header__right"],[1,"btn","btn--sm","btn--outline",3,"click"],[1,"btn","btn--sm","btn--primary",3,"click"],["class","resumen-gratificaciones",4,"ngIf"],[1,"filtros-section"],[1,"filtros-header"],[1,"filtros-header__left"],[1,"filtros-title"],[1,"filtros-header__right"],[1,"btn","btn--ghost","btn--sm",3,"click"],[1,"filtros-grid"],[1,"filtro-item"],[1,"filtro-label"],[1,"filtro-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"filtro-item","filtro-item--search"],[1,"search-box-wrapper"],[1,"search-box"],[1,"search-box__input-wrapper"],[1,"search-box__icon"],["type","text","placeholder","Buscar por DNI, nombre, codigo...",1,"search-box__input",3,"ngModelChange","input","ngModel"],[1,"resultado-texto"],[1,"tabla-container"],[1,"tabla-scroll"],[1,"tabla"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","paginacion",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],["class","modal modal--detalle-gratificacion",3,"click",4,"ngIf"],["class","modal modal--error-carga",4,"ngIf"],["class","modal modal--exito",4,"ngIf"],["class","modal modal--delete",3,"modal--shaking","click",4,"ngIf"],["class","modal modal--resultado-calculo",4,"ngIf"],[1,"resumen-gratificaciones"],[1,"resumen-card","resumen-card--total"],[1,"resumen-card__icon"],[1,"resumen-card__content"],[1,"resumen-card__label"],[1,"resumen-card__value"],[1,"resumen-card","resumen-card--trabajadores"],[1,"resumen-card","resumen-card--gratificacion"],[1,"resumen-card","resumen-card--bonificacion"],[1,"resumen-card","resumen-card--descuentos"],[1,"resumen-card","resumen-card--neto"],[3,"value"],["colspan","13",1,"td-loading"],[1,"loading-spinner"],["colspan","13",1,"td-empty"],[1,"empty-state"],[1,"empty-state__icon"],[1,"empty-state__text"],[1,"td-codigo"],[1,"codigo-badge"],[1,"td-trabajador"],[1,"trabajador-info"],[1,"trabajador-info__nombre"],[1,"trabajador-info__cargo"],[1,"td-dni"],[1,"td-area"],[1,"td-periodo"],[1,"periodo-badge"],[1,"periodo-icon"],[1,"periodo-texto"],[1,"td-monto"],[1,"td-monto","td-monto--bonif"],[1,"td-monto","td-monto--total"],[1,"td-monto","td-monto--descuento"],[1,"td-monto","td-monto--neto"],[1,"td-estado"],[1,"badge",3,"ngClass"],[1,"td-acciones"],[1,"acciones-menu"],["title","Ver Detalle",1,"btn-icon",3,"click"],["class","btn-icon","title","Aprobar",3,"click",4,"ngIf"],["class","btn-icon","title","Pagar",3,"click",4,"ngIf"],["class","btn-icon","title","Descargar Boleta",3,"click",4,"ngIf"],["title","Eliminar Gratificaci\xF3n",1,"btn-icon","btn-icon--danger",3,"click"],["title","Aprobar",1,"btn-icon",3,"click"],["title","Pagar",1,"btn-icon",3,"click"],["title","Descargar Boleta",1,"btn-icon",3,"click"],[1,"paginacion"],[1,"paginacion-btn",3,"click","disabled"],[1,"paginacion-numeros"],["class","paginacion-numero",3,"active","click",4,"ngFor","ngForOf"],[1,"paginacion-numero",3,"click"],[1,"modal",3,"click"],[1,"modal__content","modal__content--large",3,"click"],[1,"modal__header"],[1,"modal__title"],[1,"modal__close",3,"click"],[1,"modal__body"],[1,"calculo-info"],[1,"calculo-info__icon"],[1,"calculo-info__content"],[1,"form-section"],[1,"form-section__title"],[1,"form-grid"],[1,"form-group"],[1,"form-label"],[1,"form-select",3,"ngModelChange","ngModel"],["value","Julio"],["value","Diciembre"],[1,"periodo-detalle"],[1,"periodo-detalle__icon"],[1,"periodo-detalle__info"],[1,"periodo-detalle__label"],[1,"periodo-detalle__value"],[1,"periodo-detalle__fecha"],[1,"bonificacion-info"],[1,"bonificacion-info__item"],[1,"bonificacion-info__label"],[1,"bonificacion-info__valor"],[1,"trabajadores-seleccion"],[1,"seleccion-header"],[1,"seleccion-count"],[1,"trabajadores-grid"],["class","trabajador-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"modal__footer"],[1,"btn","btn--ghost",3,"click"],[1,"btn","btn--primary",3,"click","disabled"],[1,"trabajador-card",3,"click"],[1,"trabajador-card__header"],[1,"checkbox-indicator"],["class","checkmark",4,"ngIf"],[1,"trabajador-card__info"],[1,"trabajador-nombre"],[1,"trabajador-dni"],[1,"trabajador-cargo"],[1,"trabajador-card__body"],[1,"dato-item"],[1,"dato-label"],[1,"dato-value"],[1,"checkmark"],[1,"modal","modal--detalle-gratificacion",3,"click"],[1,"modal__content","modal__content--xlarge",3,"click"],[1,"modal__header","modal__header--detalle"],[1,"header-detalle"],[1,"header-detalle__icon"],[1,"header-detalle__content"],[1,"modal__subtitle"],["class","modal__body modal__body--detalle",4,"ngIf"],[1,"modal__footer","modal__footer--detalle"],["class","btn btn--primary",3,"click",4,"ngIf"],[1,"modal__body","modal__body--detalle"],[1,"detalle-gratificacion"],[1,"detalle-seccion","detalle-seccion--trabajador"],[1,"seccion-header"],[1,"seccion-icon"],[1,"seccion-titulo"],[1,"seccion-content"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value","info-value--codigo"],[1,"info-value"],[1,"detalle-seccion","detalle-seccion--periodo"],[1,"periodo-banner"],[1,"periodo-banner__icon"],[1,"periodo-banner__content"],[1,"periodo-banner__titulo"],[1,"periodo-banner__subtitulo"],[1,"periodo-banner__fecha"],[1,"fecha-label"],[1,"fecha-value"],[1,"periodo-item"],[1,"periodo-item__label"],[1,"periodo-item__value"],[1,"periodo-item__descripcion"],[1,"periodo-item","periodo-item--total"],[1,"periodo-item__value","periodo-item__value--total"],[1,"detalle-seccion","detalle-seccion--remuneracion"],[1,"seccion-descripcion"],[1,"conceptos-lista","conceptos-lista--detallada"],[1,"concepto-item"],[1,"concepto-item__header"],[1,"concepto-item__nombre"],[1,"concepto-item__monto"],[1,"concepto-item__descripcion"],["class","concepto-item",4,"ngIf"],[1,"concepto-item","concepto-item--total"],[1,"concepto-item__nombre","concepto-item__nombre--total"],[1,"concepto-item__monto","concepto-item__monto--total"],[1,"concepto-item__descripcion","concepto-item__descripcion--total"],[1,"detalle-seccion","detalle-seccion--calculo"],[1,"calculo-lista"],[1,"calculo-item"],[1,"calculo-item__header"],[1,"calculo-item__info"],[1,"calculo-item__nombre"],[1,"calculo-item__formula"],[1,"calculo-item__monto"],[1,"calculo-item__descripcion"],[1,"calculo-item","calculo-item--total"],[1,"calculo-item__nombre","calculo-item__nombre--total"],[1,"calculo-item__monto","calculo-item__monto--total"],[1,"calculo-item__descripcion","calculo-item__descripcion--total"],[1,"detalle-seccion","detalle-seccion--descuentos"],["class","descuentos-lista",4,"ngIf"],["class","descuentos-vacio",4,"ngIf"],[1,"detalle-seccion","detalle-seccion--neto"],[1,"neto-pagar"],[1,"neto-pagar__header"],[1,"neto-pagar__icon"],[1,"neto-pagar__info"],[1,"neto-pagar__label"],[1,"neto-pagar__formula"],[1,"neto-pagar__monto"],[1,"neto-pagar__descripcion"],[1,"detalle-seccion","detalle-seccion--bancario"],["class","info-item",4,"ngIf"],[1,"detalle-seccion","detalle-seccion--estado"],[1,"estado-container"],[1,"estado-badge"],[1,"badge","badge--large",3,"ngClass"],[1,"estado-fechas"],["class","estado-fecha-item",4,"ngIf"],[1,"descuentos-lista"],["class","descuento-item",4,"ngFor","ngForOf"],["class","descuento-item descuento-item--total",4,"ngIf"],[1,"descuento-item"],[1,"descuento-item__header"],[1,"descuento-item__info"],[1,"descuento-item__nombre"],[1,"descuento-item__monto"],[1,"descuento-item__descripcion"],[1,"descuento-item","descuento-item--total"],[1,"descuento-item__nombre","descuento-item__nombre--total"],[1,"descuento-item__monto","descuento-item__monto--total"],[1,"descuento-item__descripcion","descuento-item__descripcion--total"],[1,"descuentos-vacio"],[1,"vacio-icon"],[1,"vacio-mensaje"],[1,"vacio-descripcion"],[1,"info-value","info-value--fecha"],[1,"info-value","info-value--comprobante"],[1,"estado-fecha-item"],[1,"estado-fecha-label"],[1,"estado-fecha-value"],["class","estado-fecha-usuario",4,"ngIf"],[1,"estado-fecha-usuario"],[1,"btn","btn--primary",3,"click"],[1,"modal__content",3,"click"],["class","modal__body",4,"ngIf"],[1,"btn","btn--success",3,"click"],[1,"pago-info"],[1,"pago-info__icon"],[1,"pago-info__content"],[1,"pago-periodo"],[1,"pago-monto"],[1,"pago-detalle"],[1,"detalle-row"],[1,"detalle-label"],[1,"detalle-value"],[1,"detalle-value","detalle-value--descuento"],[1,"detalle-row","detalle-row--total"],[1,"pago-banco"],[1,"banco-row"],[1,"banco-label"],[1,"banco-value"],[1,"pago-warning"],[1,"modal","modal--error-carga"],[1,"modal__content","modal__content--error-carga",3,"click"],[1,"error-carga"],[1,"error-carga__icon"],[1,"error-carga__title"],[1,"error-carga__message"],[1,"modal","modal--exito"],[1,"modal__content","modal__content--exito",3,"click"],[1,"exito-pago"],["class","exito-pago__loader",4,"ngIf"],["class","exito-pago__check",4,"ngIf"],[1,"exito-pago__title"],["class","exito-pago__message",4,"ngIf"],[1,"exito-pago__loader"],[1,"spinner","spinner--success"],[1,"exito-pago__check"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52","width","50","height","50",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark__circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark__check"],[1,"exito-pago__message"],[1,"modal","modal--delete",3,"click"],[1,"modal__content","modal__content--delete",3,"click"],[1,"modal__header","modal__header--delete"],[1,"delete-header__icon"],[1,"delete-header__text"],[1,"modal__close",3,"click","disabled"],["class","modal__body modal__body--delete",4,"ngIf"],["class","modal__footer modal__footer--delete",4,"ngIf"],[1,"modal__body","modal__body--delete"],["class","alert alert--error",4,"ngIf"],["class","delete-exito-container",4,"ngIf"],["class","delete-content",4,"ngIf"],[1,"alert","alert--error"],[1,"alert__icon"],[1,"alert__message"],[1,"delete-exito-container"],[1,"delete-exito"],["class","delete-exito__loader",4,"ngIf"],["class","delete-exito__check",4,"ngIf"],["class","delete-exito__title",4,"ngIf"],["class","delete-exito__text",4,"ngIf"],[1,"delete-exito__loader"],[1,"spinner","spinner--delete"],[1,"delete-exito__check"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52","width","50","height","50",1,"checkmark","checkmark--delete"],[1,"delete-exito__title"],[1,"delete-exito__text"],[1,"delete-content"],[1,"delete-planilla-info"],[1,"delete-planilla-info__item"],[1,"delete-planilla-info__label"],[1,"delete-planilla-info__value"],[1,"delete-warning"],[1,"delete-warning__text"],[1,"delete-confirmation"],[1,"delete-confirmation__label"],["type","text","placeholder","ELIMINAR","autocomplete","off",1,"delete-confirmation__input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"modal__footer","modal__footer--delete"],[1,"btn","btn--outline",3,"click","disabled"],[1,"btn","btn--danger",3,"click","disabled"],[1,"modal","modal--resultado-calculo"],[1,"modal__content","modal__content--resultado-calculo",3,"click"],[1,"resultado-calculo"],["class","resultado-calculo__icon",4,"ngIf"],["class","resultado-calculo__icon resultado-calculo__icon--error",4,"ngIf"],[1,"resultado-calculo__title"],[1,"resultado-calculo__resumen"],["class","resumen-item resumen-item--success",4,"ngIf"],["class","resumen-item resumen-item--error",4,"ngIf"],["class","resultado-calculo__errores",4,"ngIf"],[1,"resultado-calculo__icon"],[1,"resultado-calculo__icon","resultado-calculo__icon--error"],[1,"resumen-item","resumen-item--success"],[1,"resumen-item__label"],[1,"resumen-item__value"],[1,"resumen-item","resumen-item--error"],[1,"resultado-calculo__errores"],[1,"errores-title"],[1,"errores-list"],["class","error-item",4,"ngFor","ngForOf"],[1,"error-item"],[1,"error-item__trabajador"],[1,"error-item__mensaje"]],template:function(n,d){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span",4),i(5,"\u{1F381}"),t(),i(6," Gratificaciones "),t(),e(7,"p",5)(8,"span",6),y(9,"span",7)(10,"span",8)(11,"span",9),t(),i(12," Calculo y gestion de gratificaciones de Julio y Diciembre "),t()(),e(13,"div",10)(14,"button",11),g("click",function(){return d.exportarExcel()}),i(15," \u{1F4CA} Exportar Excel "),t(),e(16,"button",12),g("click",function(){return d.abrirCalculoMasivo()}),i(17," \u2795 Calcular Gratificacion "),t()()(),u(18,Me,49,6,"div",13),e(19,"div",14)(20,"div",15)(21,"div",16)(22,"h3",17),i(23,"\u{1F50D} Filtros de Busqueda"),t()(),e(24,"div",18)(25,"button",19),g("click",function(){return d.limpiarFiltros()}),i(26," \u2716\uFE0F Limpiar "),t()()(),e(27,"div",20)(28,"div",21)(29,"label",22),i(30,"A\xF1o:"),t(),e(31,"select",23),S("ngModelChange",function(v){return O(d.filtros.anio,v)||(d.filtros.anio=v),v}),g("change",function(){return d.aplicarFiltros()}),u(32,Pe,2,2,"option",24),t()(),e(33,"div",21)(34,"label",22),i(35,"Periodo:"),t(),e(36,"select",23),S("ngModelChange",function(v){return O(d.filtros.periodo,v)||(d.filtros.periodo=v),v}),g("change",function(){return d.aplicarFiltros()}),u(37,Ee,2,2,"option",24),t()(),e(38,"div",21)(39,"label",22),i(40,"Estado:"),t(),e(41,"select",23),S("ngModelChange",function(v){return O(d.filtros.estado,v)||(d.filtros.estado=v),v}),g("change",function(){return d.aplicarFiltros()}),u(42,Oe,2,2,"option",24),t()(),e(43,"div",21)(44,"label",22),i(45,"Area:"),t(),e(46,"select",23),S("ngModelChange",function(v){return O(d.filtros.area,v)||(d.filtros.area=v),v}),g("change",function(){return d.aplicarFiltros()}),u(47,Se,2,2,"option",24),t()(),e(48,"div",25)(49,"div",26)(50,"div",27)(51,"label",22),i(52,"Buscar:"),t(),e(53,"div",28)(54,"span",29),i(55,"\u{1F50D}"),t(),e(56,"input",30),S("ngModelChange",function(v){return O(d.filtros.busqueda,v)||(d.filtros.busqueda=v),v}),g("input",function(){return d.aplicarFiltros()}),t()()()(),e(57,"span",31),i(58," Mostrando "),e(59,"strong"),i(60),t(),i(61," registros "),t()()()(),e(62,"div",32)(63,"div",33)(64,"table",34)(65,"thead")(66,"tr")(67,"th"),i(68,"Codigo"),t(),e(69,"th"),i(70,"Trabajador"),t(),e(71,"th"),i(72,"DNI"),t(),e(73,"th"),i(74,"Area"),t(),e(75,"th"),i(76,"Periodo"),t(),e(77,"th"),i(78,"Rem. Computable"),t(),e(79,"th"),i(80,"Gratificacion"),t(),e(81,"th"),i(82,"Bonif. 9%"),t(),e(83,"th"),i(84,"Total"),t(),e(85,"th"),i(86,"Descuentos"),t(),e(87,"th"),i(88,"Neto a Pagar"),t(),e(89,"th"),i(90,"Estado"),t(),e(91,"th"),i(92,"Acciones"),t()()(),e(93,"tbody"),u(94,we,4,0,"tr",35)(95,ye,7,0,"tr",35)(96,Ge,46,23,"tr",36),t()()(),u(97,Te,7,4,"div",37),t(),u(98,Be,69,14,"div",38)(99,nt,18,3,"div",39)(100,ot,13,1,"div",38)(101,at,11,1,"div",40)(102,st,9,4,"div",41)(103,ht,14,5,"div",42)(104,It,14,7,"div",43),t()),n&2&&(r(18),s("ngIf",d.resumen),r(13),E("ngModel",d.filtros.anio),r(),s("ngForOf",d.anios),r(4),E("ngModel",d.filtros.periodo),r(),s("ngForOf",d.periodosGratificacion),r(4),E("ngModel",d.filtros.estado),r(),s("ngForOf",d.estadosGratificacion),r(4),E("ngModel",d.filtros.area),r(),s("ngForOf",d.areas),r(9),E("ngModel",d.filtros.busqueda),r(4),m(d.registrosFiltrados.length),r(34),s("ngIf",d.cargando),r(),s("ngIf",!d.cargando&&d.registrosPaginados.length===0),r(),s("ngForOf",d.registrosPaginados),r(),s("ngIf",d.totalPaginas>1),r(),s("ngIf",d.mostrarModalCalculo),r(),s("ngIf",d.mostrarModalDetalle),r(),s("ngIf",d.mostrarModalPago),r(),s("ngIf",d.mostrarModalErrorCarga),r(),s("ngIf",d.mostrarModalExitoPago),r(),s("ngIf",d.mostrarModalEliminar),r(),s("ngIf",d.mostrarModalResultadoCalculo))},dependencies:[J,L,U,W,ee,X,Z,$,Q,H,K],styles:['@charset "UTF-8";.gratificaciones-container[_ngcontent-%COMP%]{width:100%;max-width:100%;padding-bottom:40px}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:32px;padding:18px 24px;background:linear-gradient(135deg,#fff,#f8fafc)!important;border-radius:8px;border:1px solid rgba(34,197,94,.15);box-shadow:0 4px 16px #00000014,0 1px 3px #0000000d,inset 0 1px #ffffffe6;position:relative;overflow:hidden;gap:20px;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#22c55e,#16a34a)}.page-header[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#22c55e,#16a34a);opacity:.6}.page-header__left[_ngcontent-%COMP%]{flex:1;position:relative;z-index:1;padding-left:12px;min-width:0}.page-header__right[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;flex-shrink:0;position:relative;z-index:1}[data-theme=dark][_nghost-%COMP%]   .page-header[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a)!important;border:1px solid rgba(34,197,94,.2);box-shadow:0 4px 16px #0000004d,0 1px 3px #0003,inset 0 1px #ffffff0d}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0 0 8px;font-size:28px;font-weight:700;color:var(--text-1)}.page-title__icon[_ngcontent-%COMP%]{font-size:32px}.page-subtitle[_ngcontent-%COMP%]{font-size:11px;color:#64748b;margin:0;font-weight:600;letter-spacing:.05em;display:flex;align-items:center;gap:10px;text-transform:uppercase;position:relative;padding-left:20px}.page-subtitle__dots[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:3px;width:16px;height:20px}.page-subtitle__dot[_ngcontent-%COMP%]{border-radius:50%;background:linear-gradient(135deg,#22c55e,#16a34a);box-shadow:0 0 6px #22c55e80}.page-subtitle__dot--large[_ngcontent-%COMP%]{width:8px;height:8px;margin-left:0}.page-subtitle__dot--medium[_ngcontent-%COMP%]{width:5px;height:5px;margin-left:3px}.page-subtitle__dot--small[_ngcontent-%COMP%]{width:3px;height:3px;margin-left:6px}.resumen-gratificaciones[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:32px}.resumen-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;border-radius:8px;border:2px solid;transition:all .3s ease}.resumen-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.resumen-card__icon[_ngcontent-%COMP%]{font-size:36px}.resumen-card__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.resumen-card__label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.resumen-card__value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1}.resumen-card--total[_ngcontent-%COMP%]{background:#6366f11a;border-color:#6366f14d}.resumen-card--total[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#6366f1}.resumen-card--trabajadores[_ngcontent-%COMP%]{background:#a855f71a;border-color:#a855f74d}.resumen-card--trabajadores[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#a855f7}.resumen-card--gratificacion[_ngcontent-%COMP%]{background:#22c55e1a;border-color:#22c55e4d}.resumen-card--gratificacion[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:var(--accent)}.resumen-card--bonificacion[_ngcontent-%COMP%]{background:#3b82f61a;border-color:#3b82f64d}.resumen-card--bonificacion[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#3b82f6}.resumen-card--descuentos[_ngcontent-%COMP%]{background:#ef44441a;border-color:#ef44444d}.resumen-card--descuentos[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#ef4444}.resumen-card--neto[_ngcontent-%COMP%]{background:#f59e0b1a;border-color:#f59e0b4d}.resumen-card--neto[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#f59e0b}.filtros-section[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:8px;padding:14px 18px;margin-bottom:24px}.filtros-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;gap:12px;flex-wrap:wrap}.filtros-header__left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap;flex:1}.filtros-header__right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-shrink:0}.filtros-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-1);margin:0}.filtros-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;align-items:end}.filtro-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.filtro-item--search[_ngcontent-%COMP%]{grid-column:1/-1;flex-direction:row;align-items:flex-end;justify-content:space-between;gap:16px}.filtro-label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.3px}.filtro-select[_ngcontent-%COMP%]{padding:7px 10px;border:1px solid var(--border);border-radius:6px;background:var(--panel-2);color:var(--text-1);font-size:13px;outline:none;transition:all .2s ease}.filtro-select[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 2px #22c55e1a}.search-box-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1;max-width:350px}.search-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.search-box__input-wrapper[_ngcontent-%COMP%]{position:relative}.search-box__icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);font-size:14px;opacity:.5;pointer-events:none}.search-box__input[_ngcontent-%COMP%]{width:100%;padding:7px 10px 7px 36px;border:1px solid var(--border);border-radius:6px;background:var(--panel-2);color:var(--text-1);font-size:13px;outline:none;transition:all .2s ease}.search-box__input[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 2px #22c55e1a}.resultado-texto[_ngcontent-%COMP%]{font-size:11px;color:#22c55e;align-self:flex-end;margin-bottom:4px;white-space:nowrap}.resultado-texto[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#22c55e;font-weight:700}.tabla-container[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:8px;overflow:hidden;margin-bottom:24px}.tabla-scroll[_ngcontent-%COMP%]{overflow-x:auto}.tabla[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:13px;border-radius:4px}.tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#059669;border-bottom:2px solid #059669}.tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 12px;text-align:left;font-weight:600;color:#fff;font-size:12px;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--border);transition:background .15s ease}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--panel-2)}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 12px;color:var(--text-1)}.td-loading[_ngcontent-%COMP%], .td-empty[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading-spinner[_ngcontent-%COMP%]{font-size:16px;color:var(--text-2)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:40px 20px}.empty-state__icon[_ngcontent-%COMP%]{font-size:48px;opacity:.5}.empty-state__text[_ngcontent-%COMP%]{font-size:16px;color:var(--text-2);margin:0}.codigo-badge[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;color:var(--accent);background:#22c55e1a;padding:4px 8px;border-radius:6px;font-size:12px}.trabajador-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.trabajador-info__nombre[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1)}.trabajador-info__cargo[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2)}.periodo-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:8px;font-weight:600}.periodo-badge--julio[_ngcontent-%COMP%]{background:#ef444426;color:#dc2626;border:1px solid rgba(239,68,68,.3)}.periodo-badge--diciembre[_ngcontent-%COMP%]{background:#22c55e26;color:#16a34a;border:1px solid rgba(34,197,94,.3)}.periodo-icon[_ngcontent-%COMP%]{font-size:18px}.periodo-texto[_ngcontent-%COMP%]{font-size:12px}.td-monto[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:600}.td-monto--bonif[_ngcontent-%COMP%]{color:#3b82f6}.td-monto--total[_ngcontent-%COMP%]{color:var(--accent)}.td-monto--descuento[_ngcontent-%COMP%]{color:#ef4444}.td-monto--neto[_ngcontent-%COMP%]{color:#f59e0b;font-size:14px}.acciones-menu[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center;justify-content:center}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;border-radius:8px;border:1px solid var(--border);background:transparent;cursor:pointer;font-size:16px;transition:all .2s ease}.btn-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:var(--panel-2)}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:6px;font-size:12px;font-weight:600;white-space:nowrap}.badge--large[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px}.badge--borrador[_ngcontent-%COMP%]{background:#6b728026;color:#6b7280;border:1px solid rgba(107,114,128,.3)}.badge--calculado[_ngcontent-%COMP%]{background:#3b82f626;color:#3b82f6;border:1px solid rgba(59,130,246,.3)}.badge--aprobado[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b;border:1px solid rgba(245,158,11,.3)}.badge--pagado[_ngcontent-%COMP%]{background:#22c55e26;color:var(--accent);border:1px solid rgba(34,197,94,.3)}.badge--observado[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.paginacion[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;padding:20px;border-top:1px solid var(--border)}.paginacion-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:8px;border:1px solid var(--border);background:var(--panel-2);color:var(--text-1);font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.paginacion-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--accent);color:#fff;border-color:var(--accent)}.paginacion-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.paginacion-numeros[_ngcontent-%COMP%]{display:flex;gap:4px}.paginacion-numero[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;border:1px solid var(--border);background:var(--panel-2);color:var(--text-1);font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.paginacion-numero[_ngcontent-%COMP%]:hover{background:var(--panel)}.paginacion-numero.active[_ngcontent-%COMP%]{background:var(--accent);color:#fff;border-color:var(--accent)}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0b1220d9;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;animation:_ngcontent-%COMP%_fadeIn .2s ease}.modal__content[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:16px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease}.modal__content--large[_ngcontent-%COMP%]{max-width:1000px}.modal__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:24px;border-bottom:1px solid var(--border)}.modal__title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-1);margin:0}.modal__close[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;border:none;background:transparent;cursor:pointer;font-size:18px;transition:all .2s ease;flex-shrink:0}.modal__close[_ngcontent-%COMP%]:hover{background:#ef44441a;color:#ef4444}.modal__body[_ngcontent-%COMP%]{padding:24px}.modal__footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px;padding:20px 24px;border-top:1px solid var(--border)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.calculo-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:20px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:12px;margin-bottom:24px;color:#fff}.calculo-info__icon[_ngcontent-%COMP%]{font-size:48px}.calculo-info__content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0 0 4px}.calculo-info__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0;opacity:.9}.form-section[_ngcontent-%COMP%]{background:var(--panel-2);border:1px solid var(--border);border-radius:10px;padding:20px;margin-bottom:20px}.form-section__title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin:0 0 16px;padding-bottom:12px;border-bottom:2px solid var(--line-soft)}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-1)}.form-select[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:var(--panel);color:var(--text-1);font-size:14px;outline:none;transition:all .2s ease}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 3px #22c55e1a}.periodo-detalle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:#f59e0b1a;border:1px solid rgba(245,158,11,.3);border-radius:8px;margin-top:16px}.periodo-detalle__icon[_ngcontent-%COMP%]{font-size:48px}.periodo-detalle__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.periodo-detalle__label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2);text-transform:uppercase}.periodo-detalle__value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#f59e0b}.periodo-detalle__fecha[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2)}.bonificacion-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;background:#3b82f61a;border:1px solid rgba(59,130,246,.3);border-radius:8px;margin-top:16px}.bonificacion-info__item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.bonificacion-info__label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-2)}.bonificacion-info__valor[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#3b82f6}.trabajadores-seleccion[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.seleccion-header[_ngcontent-%COMP%]{padding:12px;background:var(--panel);border-radius:8px;margin-bottom:16px}.seleccion-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--accent)}.trabajadores-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px}.trabajador-card[_ngcontent-%COMP%]{background:var(--panel);border:2px solid var(--border);border-radius:10px;padding:16px;cursor:pointer;transition:all .2s ease}.trabajador-card[_ngcontent-%COMP%]:hover{border-color:var(--accent);background:var(--panel-2)}.trabajador-card.selected[_ngcontent-%COMP%]{border-color:var(--accent);background:#22c55e1a}.trabajador-card__header[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:12px}.trabajador-card__info[_ngcontent-%COMP%]{flex:1}.trabajador-card__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.checkbox-indicator[_ngcontent-%COMP%]{width:24px;height:24px;border:2px solid var(--border);border-radius:6px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s ease}.trabajador-card.selected[_ngcontent-%COMP%]   .checkbox-indicator[_ngcontent-%COMP%]{background:var(--accent);border-color:var(--accent)}.checkmark[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:16px}.trabajador-nombre[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-1);margin:0 0 4px}.trabajador-dni[_ngcontent-%COMP%], .trabajador-cargo[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2);margin:0}.dato-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px solid var(--line-soft)}.dato-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dato-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2)}.dato-value[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-1)}.modal--detalle-gratificacion[_ngcontent-%COMP%]   .modal__content--xlarge[_ngcontent-%COMP%]{max-width:900px;max-height:95vh;overflow-y:auto}.modal--detalle-gratificacion[_ngcontent-%COMP%]   .modal__header--detalle[_ngcontent-%COMP%]{padding:24px;border-bottom:2px solid var(--border);background:linear-gradient(135deg,#22c55e1a,#10b9810d)}.modal--detalle-gratificacion[_ngcontent-%COMP%]   .modal__body--detalle[_ngcontent-%COMP%]{padding:24px}.modal--detalle-gratificacion[_ngcontent-%COMP%]   .modal__footer--detalle[_ngcontent-%COMP%]{padding:20px 24px;border-top:1px solid var(--border);background:var(--panel-2)}.header-detalle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header-detalle__icon[_ngcontent-%COMP%]{font-size:48px}.header-detalle__content[_ngcontent-%COMP%]{flex:1}.modal__subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:4px 0 0;font-weight:500}.detalle-gratificacion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:28px}.detalle-seccion[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:24px;box-shadow:0 2px 8px #0000000d;transition:all .3s ease}.detalle-seccion[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.detalle-seccion--trabajador[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}.detalle-seccion--periodo[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.detalle-seccion--remuneracion[_ngcontent-%COMP%]{border-left:4px solid #10b981}.detalle-seccion--calculo[_ngcontent-%COMP%]{border-left:4px solid #8b5cf6;background:linear-gradient(135deg,#8b5cf60d,#7c3aed0d)}.detalle-seccion--descuentos[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.detalle-seccion--neto[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);border:none;padding:32px;color:#fff}.detalle-seccion--bancario[_ngcontent-%COMP%]{border-left:4px solid #6366f1}.detalle-seccion--estado[_ngcontent-%COMP%]{border-left:4px solid #64748b}.seccion-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px;padding-bottom:16px;border-bottom:2px solid var(--border)}.seccion-icon[_ngcontent-%COMP%]{font-size:28px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:#22c55e1a;border-radius:10px;flex-shrink:0}.seccion-titulo[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0;flex:1}.seccion-descripcion[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);margin-top:4px;font-style:italic}.seccion-content[_ngcontent-%COMP%]{margin-top:20px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding:12px;background:var(--panel-2);border-radius:8px;border:1px solid var(--border)}.info-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.info-value[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-1)}.info-value--codigo[_ngcontent-%COMP%]{font-family:Courier New,monospace;color:var(--accent);font-weight:700}.info-value--fecha[_ngcontent-%COMP%]{color:#3b82f6}.info-value--comprobante[_ngcontent-%COMP%]{font-family:Courier New,monospace;color:#8b5cf6}.datos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.periodo-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 12px #0000001a}.periodo-banner--julio[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);border:2px solid rgba(239,68,68,.4)}.periodo-banner--diciembre[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e26,#16a34a26);border:2px solid rgba(34,197,94,.4)}.periodo-banner__icon[_ngcontent-%COMP%]{font-size:72px;flex-shrink:0}.periodo-banner__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1}.periodo-banner__titulo[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-1)}.periodo-banner__subtitulo[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-2)}.periodo-banner__fecha[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--text-2);margin-top:4px}.fecha-label[_ngcontent-%COMP%]{font-weight:600}.fecha-value[_ngcontent-%COMP%]{font-family:Courier New,monospace}.periodo-detalle[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:20px}.periodo-item[_ngcontent-%COMP%]{padding:16px;background:var(--panel-2);border-radius:10px;border:1px solid var(--border);text-align:center}.periodo-item--total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e1a,#10b9811a);border:2px solid var(--accent)}.periodo-item__label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.periodo-item__value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-1);margin-bottom:6px}.periodo-item__value--total[_ngcontent-%COMP%]{color:var(--accent);font-size:28px}.periodo-item__descripcion[_ngcontent-%COMP%]{font-size:11px;color:var(--text-2);line-height:1.4}.conceptos-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.conceptos-lista--detallada[_ngcontent-%COMP%]{gap:16px}.concepto-item[_ngcontent-%COMP%]{padding:16px;background:var(--panel-2);border-radius:10px;border:1px solid var(--border);transition:all .2s ease}.concepto-item[_ngcontent-%COMP%]:hover{background:var(--panel);border-color:var(--accent)}.concepto-item--total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e26,#10b98126);border:2px solid var(--accent);padding:20px;margin-top:8px}.concepto-item__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.concepto-item__nombre[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-1)}.concepto-item__nombre--total[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.concepto-item__monto[_ngcontent-%COMP%]{font-size:16px;font-weight:700;font-family:Courier New,monospace;color:var(--accent)}.concepto-item__monto--total[_ngcontent-%COMP%]{font-size:20px;color:var(--accent)}.concepto-item__descripcion[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);line-height:1.5;font-style:italic}.concepto-item__descripcion--total[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1);font-style:normal}.concepto-fila[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background:var(--panel);border-radius:8px}.concepto-fila--total[_ngcontent-%COMP%]{background:#22c55e26;border:1px solid rgba(34,197,94,.3);margin-top:8px}.concepto-nombre[_ngcontent-%COMP%]{font-size:14px;color:var(--text-1)}.concepto-monto[_ngcontent-%COMP%]{font-size:14px;font-weight:700;font-family:Courier New,monospace;color:var(--accent)}.concepto-monto--descuento[_ngcontent-%COMP%]{color:#ef4444}.calculo-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.calculo-item[_ngcontent-%COMP%]{padding:18px;background:var(--panel-2);border-radius:10px;border:1px solid var(--border);transition:all .2s ease}.calculo-item[_ngcontent-%COMP%]:hover{background:var(--panel);border-color:#8b5cf6}.calculo-item--total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf633,#7c3aed33);border:2px solid #8b5cf6;padding:24px}.calculo-item__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.calculo-item__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1}.calculo-item__nombre[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-1)}.calculo-item__nombre--total[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.calculo-item__formula[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2);font-style:italic;font-family:Courier New,monospace}.calculo-item__monto[_ngcontent-%COMP%]{font-size:18px;font-weight:700;font-family:Courier New,monospace;color:#8b5cf6}.calculo-item__monto--total[_ngcontent-%COMP%]{font-size:24px;color:#8b5cf6}.calculo-item__descripcion[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);line-height:1.5;padding-top:8px;border-top:1px solid var(--border)}.calculo-item__descripcion--total[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1);border-top:2px solid #8b5cf6}.resultado-calculo[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.resultado-fila[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:var(--panel);border-radius:8px}.resultado-fila--total[_ngcontent-%COMP%]{background:#f59e0b;color:#fff;padding:20px;font-size:18px}.resultado-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.resultado-valor[_ngcontent-%COMP%]{font-size:16px;font-weight:700;font-family:Courier New,monospace}.descuentos-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.descuento-item[_ngcontent-%COMP%]{padding:16px;background:var(--panel-2);border-radius:10px;border:1px solid var(--border);border-left:4px solid #ef4444;transition:all .2s ease}.descuento-item[_ngcontent-%COMP%]:hover{background:var(--panel);border-color:#ef4444;box-shadow:0 2px 8px #ef444433}.descuento-item--total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);border:2px solid #ef4444;padding:20px;margin-top:8px}.descuento-item__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.descuento-item__info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.descuento-item__nombre[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-1)}.descuento-item__nombre--total[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.descuento-item__porcentaje[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2);background:#ef44441a;padding:2px 8px;border-radius:4px;font-weight:600}.descuento-item__monto[_ngcontent-%COMP%]{font-size:16px;font-weight:700;font-family:Courier New,monospace;color:#ef4444}.descuento-item__monto--total[_ngcontent-%COMP%]{font-size:20px}.descuento-item__descripcion[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);line-height:1.5;padding-top:8px;border-top:1px solid var(--border)}.descuento-item__descripcion--total[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1);border-top:2px solid #ef4444}.descuentos-vacio[_ngcontent-%COMP%]{padding:32px;text-align:center;background:linear-gradient(135deg,#22c55e1a,#10b9810d);border-radius:10px;border:2px solid rgba(34,197,94,.3)}.descuentos-vacio[_ngcontent-%COMP%]   .vacio-icon[_ngcontent-%COMP%]{font-size:56px;margin-bottom:16px}.descuentos-vacio[_ngcontent-%COMP%]   .vacio-mensaje[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-1);margin-bottom:12px}.descuentos-vacio[_ngcontent-%COMP%]   .vacio-mensaje[_ngcontent-%COMP%]   .vacio-descripcion[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:var(--text-2);line-height:1.6;margin:12px 0 0;font-style:italic;padding:12px;background:#ffffff80;border-radius:8px}.neto-pagar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;color:#fff;text-align:center}.neto-pagar__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;width:100%;justify-content:center}.neto-pagar__icon[_ngcontent-%COMP%]{font-size:56px}.neto-pagar__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.neto-pagar__label[_ngcontent-%COMP%]{font-size:18px;font-weight:600;opacity:.95}.neto-pagar__formula[_ngcontent-%COMP%]{font-size:13px;opacity:.8;font-style:italic}.neto-pagar__monto[_ngcontent-%COMP%]{font-size:48px;font-weight:700;font-family:Courier New,monospace;text-shadow:0 2px 8px rgba(0,0,0,.2)}.neto-pagar__descripcion[_ngcontent-%COMP%]{font-size:14px;opacity:.9;font-weight:500}.estado-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.estado-badge[_ngcontent-%COMP%]{text-align:center;padding:16px;background:var(--panel-2);border-radius:10px}.estado-fechas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.estado-fecha-item[_ngcontent-%COMP%]{padding:16px;background:var(--panel-2);border-radius:10px;border:1px solid var(--border);text-align:left}.estado-fecha-item[_ngcontent-%COMP%]   .estado-fecha-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px}.estado-fecha-item[_ngcontent-%COMP%]   .estado-fecha-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin-bottom:4px}.estado-fecha-item[_ngcontent-%COMP%]   .estado-fecha-usuario[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);font-style:italic}.estado-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:20px;text-align:center}.estado-fechas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);margin:4px 0}.pago-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:24px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:12px;margin-bottom:24px;color:#fff}.pago-info__icon[_ngcontent-%COMP%]{font-size:64px}.pago-info__content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0 0 8px}.pago-periodo[_ngcontent-%COMP%]{font-size:14px;margin:0 0 8px;opacity:.9}.pago-monto[_ngcontent-%COMP%]{font-size:36px;font-weight:700;font-family:Courier New,monospace;margin:0}.pago-detalle[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:20px;background:var(--panel-2);border-radius:10px;margin-bottom:20px}.detalle-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--line-soft)}.detalle-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detalle-row--total[_ngcontent-%COMP%]{border-top:2px solid var(--accent);padding-top:12px;margin-top:8px}.detalle-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-2)}.detalle-value[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-1);font-family:Courier New,monospace}.detalle-value--descuento[_ngcontent-%COMP%]{color:#ef4444}.pago-banco[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;background:var(--panel-2);border-radius:10px;margin-bottom:20px}.banco-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.banco-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-2)}.banco-value[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-1);font-family:Courier New,monospace}.pago-warning[_ngcontent-%COMP%]{padding:16px;background:#f59e0b1a;border:1px solid rgba(245,158,11,.3);border-radius:10px}.pago-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--text-1);margin:0}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;transition:all .2s ease;border:none;white-space:nowrap}.btn--sm[_ngcontent-%COMP%]{padding:8px 14px;font-size:13px}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.btn--primary[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #3b82f666;transform:translateY(-1px)}.btn--primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn--success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent) 0%,#16a34a 100%);color:#fff}.btn--success[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #22c55e66;transform:translateY(-1px)}.btn--outline[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);color:var(--text-1)}.btn--outline[_ngcontent-%COMP%]:hover{background:var(--panel-2);border-color:var(--accent);color:var(--accent)}.btn--ghost[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-2)}.btn--ghost[_ngcontent-%COMP%]:hover{background:var(--panel-2);color:var(--text-1)}@media (max-width: 1200px){.resumen-gratificaciones[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.datos-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header__right[_ngcontent-%COMP%]{width:100%}.page-header__right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.resumen-gratificaciones[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.filtros-grid[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%], .trabajadores-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal--error-carga[_ngcontent-%COMP%]{z-index:200001!important}.modal--error-carga[_ngcontent-%COMP%]   .modal__content.modal__content--error-carga[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:0;border-radius:12px!important;overflow:hidden;background:var(--panel)!important;border:1px solid var(--border)!important;box-shadow:0 20px 60px #0006!important;position:relative;z-index:1}.error-carga[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 24px;text-align:center;background:var(--panel)}.error-carga__icon[_ngcontent-%COMP%]{font-size:56px;margin-bottom:20px;animation:_ngcontent-%COMP%_shake .5s ease-in-out}.error-carga__title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-1);margin:0 0 12px;line-height:1.4}.error-carga__message[_ngcontent-%COMP%]{font-size:15px;color:var(--text-2);margin:0 0 24px;line-height:1.6;word-wrap:break-word}.error-carga[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px;padding:12px 24px;font-weight:600;border-radius:8px}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.modal--resultado-calculo[_ngcontent-%COMP%]{z-index:200002!important}.modal--resultado-calculo[_ngcontent-%COMP%]   .modal__content.modal__content--resultado-calculo[_ngcontent-%COMP%]{max-width:500px;width:100%;padding:0;border-radius:12px!important;overflow:hidden;background:var(--panel)!important;border:1px solid var(--border)!important;box-shadow:0 20px 60px #0006!important;position:relative;z-index:1}.resultado-calculo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 24px;text-align:center;background:var(--panel)}.resultado-calculo__icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.resultado-calculo__icon--error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}.resultado-calculo__title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-1);margin:0 0 20px;line-height:1.4}.resultado-calculo__resumen[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%;margin-bottom:20px}.resultado-calculo__errores[_ngcontent-%COMP%]{width:100%;text-align:left;margin-bottom:20px;padding:16px;background:#ef44441a;border-radius:8px;border-left:4px solid #ef4444}.resultado-calculo[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px;padding:12px 24px;font-weight:600;border-radius:8px}.resumen-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-radius:8px}.resumen-item--success[_ngcontent-%COMP%]{background:#22c55e1a;border-left:4px solid #22c55e}.resumen-item--error[_ngcontent-%COMP%]{background:#ef44441a;border-left:4px solid #ef4444}.resumen-item__label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-1)}.resumen-item__value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--accent)}.errores-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin:0 0 12px}.errores-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.error-item[_ngcontent-%COMP%]{padding:12px;background:#ffffff0d;border-radius:6px}.error-item__trabajador[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-1);margin-bottom:4px}.error-item__mensaje[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);line-height:1.5}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.btn-icon--danger[_ngcontent-%COMP%]{color:#ef4444!important}.btn-icon--danger[_ngcontent-%COMP%]:hover{background:#ef44441a!important;border-color:#ef4444!important}.modal--delete[_ngcontent-%COMP%]{z-index:200003!important}.modal--delete[_ngcontent-%COMP%]   .modal__content--delete[_ngcontent-%COMP%]{max-width:480px;width:100%;padding:0;border-radius:12px!important;overflow:hidden;background:var(--panel)!important;border:1px solid var(--border)!important;box-shadow:0 20px 60px #0006!important;animation:_ngcontent-%COMP%_slideUp .3s ease}.modal__header--delete[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px 24px;background:linear-gradient(135deg,#ef44441a,#dc26260d);border-bottom:1px solid var(--border)}.modal__header--delete[_ngcontent-%COMP%]   .delete-header__icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.modal__header--delete[_ngcontent-%COMP%]   .delete-header__text[_ngcontent-%COMP%]{flex:1}.modal__header--delete[_ngcontent-%COMP%]   .delete-header__text[_ngcontent-%COMP%]   .modal__title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-1);margin:0 0 4px}.modal__header--delete[_ngcontent-%COMP%]   .delete-header__text[_ngcontent-%COMP%]   .modal__subtitle[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);margin:0}.modal__header--delete[_ngcontent-%COMP%]   .modal__close[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:6px;border:none;background:transparent;cursor:pointer;font-size:16px;transition:all .2s ease;flex-shrink:0;color:var(--text-2)}.modal__header--delete[_ngcontent-%COMP%]   .modal__close[_ngcontent-%COMP%]:hover:not(:disabled){background:#ef44441a;color:#ef4444}.modal__header--delete[_ngcontent-%COMP%]   .modal__close[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal__body--delete[_ngcontent-%COMP%]{padding:24px}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.delete-planilla-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:16px;background:var(--panel-2);border-radius:10px;border:1px solid var(--border)}.delete-planilla-info__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.delete-planilla-info__label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.delete-planilla-info__value[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-1);word-break:break-word}.delete-warning[_ngcontent-%COMP%]{padding:16px;background:#ef44441a;border-left:4px solid #ef4444;border-radius:8px}.delete-warning__text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-1);margin:0;line-height:1.6}.delete-warning__text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ef4444;font-weight:700}.delete-confirmation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.delete-confirmation__label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-1)}.delete-confirmation__label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ef4444}.delete-confirmation__input[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid var(--border);border-radius:8px;background:var(--panel-2);color:var(--text-1);font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:1px;outline:none;transition:all .2s ease}.delete-confirmation__input[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 3px #22c55e1a}.delete-confirmation__input--error[_ngcontent-%COMP%]{border-color:#ef4444;background:#ef44440d}.delete-confirmation__input--error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.delete-confirmation__input--success[_ngcontent-%COMP%]{border-color:#22c55e;background:#22c55e0d}.delete-confirmation__input--success[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #22c55e1a}.delete-confirmation__input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal__footer--delete[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid var(--border);background:var(--panel-2)}.delete-exito-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem 1.5rem;min-height:200px}.delete-exito[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%}.delete-exito__loader[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.delete-exito__check[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;visibility:visible;opacity:1}.delete-exito__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0 0 8px;line-height:1.4}.delete-exito__text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0;line-height:1.5}.spinner--delete[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(34,197,94,.2);border-top-color:#22c55e;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.checkmark--delete[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:block;stroke-width:3;stroke:#22c55e;stroke-miterlimit:10;animation:_ngcontent-%COMP%_scale .3s ease-in-out .9s both;visibility:visible;opacity:1;flex-shrink:0}.checkmark--delete[_ngcontent-%COMP%]   .checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:3;stroke-miterlimit:10;stroke:#22c55e;fill:#22c55e;animation:_ngcontent-%COMP%_stroke .6s cubic-bezier(.65,0,.45,1) forwards;opacity:1}.checkmark--delete[_ngcontent-%COMP%]   .checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;stroke-width:4;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;fill:none;animation:_ngcontent-%COMP%_stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards;opacity:1;z-index:1}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:8px;margin-bottom:16px}.alert--error[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.3);color:#ef4444}.alert__icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.alert__message[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.5}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_stroke{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}.modal--exito[_ngcontent-%COMP%]{z-index:200002!important}.modal--exito[_ngcontent-%COMP%]   .modal__content--exito[_ngcontent-%COMP%]{max-width:320px;width:100%;padding:0;border-radius:12px!important;overflow:hidden;background:var(--panel)!important;border:1px solid var(--border)!important;box-shadow:0 20px 60px #0006!important;position:relative;z-index:1}.exito-pago[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px 24px;text-align:center;background:var(--panel);min-height:180px}.exito-pago__loader[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.exito-pago__check[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;visibility:visible;opacity:1}.exito-pago__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0 0 8px;line-height:1.4}.exito-pago__message[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0;line-height:1.5}.spinner--success[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(34,197,94,.2);border-top-color:#22c55e;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.checkmark[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:block;stroke-width:3;stroke:#22c55e;stroke-miterlimit:10;animation:_ngcontent-%COMP%_scale .3s ease-in-out .9s both;visibility:visible;opacity:1;flex-shrink:0}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:3;stroke-miterlimit:10;stroke:#22c55e;fill:#22c55e;animation:_ngcontent-%COMP%_stroke .6s cubic-bezier(.65,0,.45,1) forwards;opacity:1}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;stroke-width:4;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;fill:none;animation:_ngcontent-%COMP%_stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards;opacity:1;z-index:1}']});let c=l;return c})();export{Rt as GratificacionesComponent};
