import{$a as S,$b as U,Ea as I,Fa as r,Ga as f,Gb as W,Ha as O,L as c,La as b,Ma as h,Na as M,Oa as T,Pb as N,Sb as L,T as E,Tb as $,Ub as j,V as k,Vb as q,Wb as R,Xb as G,Za as y,_ as v,_b as H,ac as Y,cc as J,fa as x,ga as t,ha as e,hc as K,ia as w,jb as F,kb as D,lb as V,pa as P,qb as A,rb as z,sa as g,ta as l,v as u,w as _,xb as B}from"./chunk-USIH7JXW.js";function Q(s,C){if(s&1&&(t(0,"div",30)(1,"div",31)(2,"div",32),r(3,"\u{1F4CB}"),e(),t(4,"div",33)(5,"span",34),r(6,"Total Conceptos"),e(),t(7,"span",35),r(8),e()()(),t(9,"div",36)(10,"div",32),r(11,"\u{1F4B0}"),e(),t(12,"div",33)(13,"span",34),r(14,"Ingresos"),e(),t(15,"span",35),r(16),e()()(),t(17,"div",37)(18,"div",32),r(19,"\u2796"),e(),t(20,"div",33)(21,"span",34),r(22,"Descuentos"),e(),t(23,"span",35),r(24),e()()(),t(25,"div",38)(26,"div",32),r(27,"\u{1F3DB}\uFE0F"),e(),t(28,"div",33)(29,"span",34),r(30,"Aportes"),e(),t(31,"span",35),r(32),e()()()()),s&2){let a=l();c(8),f(a.estadisticas.totalConceptos),c(8),f(a.totalIngresos),c(8),f(a.totalDescuentos),c(8),f(a.totalAportes)}}function X(s,C){if(s&1&&(t(0,"small"),r(1),y(2,"date"),e()),s&2){let a=l().$implicit;c(),O("Hasta: ",S(2,1,a.FechaVigenciaFin,"dd/MM/yyyy"))}}function Z(s,C){if(s&1&&(t(0,"div",45)(1,"div",46)(2,"span",47),r(3),e(),t(4,"span"),r(5),e()(),t(6,"div",48)(7,"h4"),r(8),e(),t(9,"div",49),r(10),e(),t(11,"p",50),r(12),e(),t(13,"div",51)(14,"small"),r(15),y(16,"date"),e(),v(17,X,3,4,"small",52),e()()()),s&2){let a=C.$implicit,n=l(2);c(3),f(a.Codigo),c(),I(T("badge badge--",a.Tipo==="Porcentaje"?"info":a.Tipo==="Monto"?"success":"secondary")),c(),O(" ",a.Tipo," "),c(3),f(a.Nombre),c(2),f(n.formatearValorTasa(a.Valor,a.Tipo)),c(2),f(a.Descripcion||"Sin descripci\xF3n"),c(3),O("Vigente desde: ",S(16,10,a.FechaVigenciaInicio,"dd/MM/yyyy")),c(2),x("ngIf",a.FechaVigenciaFin)}}function tt(s,C){if(s&1){let a=P();t(0,"div",53)(1,"p"),r(2,"No hay tasas configurables activas"),e(),t(3,"button",54),g("click",function(){u(a);let o=l(2);return _(o.irAConfiguracion())}),r(4," Configurar Tasas "),e()()}}function et(s,C){if(s&1){let a=P();t(0,"div",39)(1,"div",40)(2,"h3"),r(3,"\u{1F4CA} Tasas y Valores Configurables"),e(),t(4,"button",13),g("click",function(){u(a);let o=l();return _(o.irAConfiguracion())}),r(5," \u2699\uFE0F Ir a Configuraci\xF3n "),e()(),t(6,"div",41)(7,"strong"),r(8,"\u2139\uFE0F Informaci\xF3n:"),e(),r(9,' Estas tasas se utilizan autom\xE1ticamente en los c\xE1lculos de planilla. Para editar sus valores, usa el bot\xF3n "Ir a Configuraci\xF3n" arriba. '),e(),t(10,"div",42),v(11,Z,18,13,"div",43),e(),v(12,tt,5,0,"div",44),e()}if(s&2){let a=l();c(11),x("ngForOf",a.tasas),c(),x("ngIf",a.tasas.length===0)}}function nt(s,C){if(s&1&&(t(0,"option",55),r(1),e()),s&2){let a=C.$implicit;x("value",a),c(),f(a)}}function ot(s,C){if(s&1&&(t(0,"option",55),r(1),e()),s&2){let a=C.$implicit;x("value",a),c(),f(a)}}function it(s,C){if(s&1){let a=P();t(0,"tr")(1,"td",60)(2,"span",61),r(3),e()(),t(4,"td",62)(5,"div",63)(6,"strong"),r(7),e(),t(8,"small"),r(9),e()()(),t(10,"td",64)(11,"span",65),r(12),e()(),t(13,"td",66),r(14),e(),t(15,"td",67)(16,"span",65),r(17),e()(),t(18,"td",68),r(19),e(),t(20,"td",69)(21,"div",70)(22,"button",71),g("click",function(){let o=u(a).$implicit,i=l(2);return _(i.abrirModalEditar(o))}),r(23," \u270F\uFE0F "),e(),t(24,"button",72),g("click",function(){let o=u(a).$implicit,i=l(2);return _(i.duplicarConcepto(o))}),r(25," \u{1F4CB} "),e(),t(26,"button",73),g("click",function(){let o=u(a).$implicit,i=l(2);return _(i.cambiarEstado(o))}),r(27," \u{1F504} "),e(),t(28,"button",74),g("click",function(){let o=u(a).$implicit,i=l(2);return _(i.abrirModalEliminar(o))}),r(29," \u{1F5D1}\uFE0F "),e()()()()}if(s&2){let a=C.$implicit,n=l(2);c(3),f(a.codigo),c(4),f(a.nombre),c(2),f(a.descripcion),c(2),x("ngClass",n.getTipoBadgeClass(a.tipo)),c(),O(" ",a.tipo," "),c(2),f(a.categoria),c(2),x("ngClass",n.getEstadoBadgeClass(a.estado)),c(),O(" ",a.estado," "),c(2),f(a.orden)}}function rt(s,C){if(s&1&&(t(0,"div",56)(1,"div",57)(2,"table",58)(3,"thead")(4,"tr")(5,"th"),r(6,"CODIGO"),e(),t(7,"th"),r(8,"NOMBRE"),e(),t(9,"th"),r(10,"TIPO"),e(),t(11,"th"),r(12,"CATEGORIA"),e(),t(13,"th"),r(14,"ESTADO"),e(),t(15,"th"),r(16,"ORDEN"),e(),t(17,"th"),r(18,"ACCIONES"),e()()(),t(19,"tbody"),v(20,it,30,9,"tr",59),e()()()()),s&2){let a=l();c(20),x("ngForOf",a.conceptosFiltrados)}}function at(s,C){s&1&&(t(0,"div",75),w(1,"div",76),t(2,"p"),r(3,"Cargando conceptos..."),e()())}function ct(s,C){if(s&1){let a=P();t(0,"div",77),g("click",function(){u(a);let o=l();return _(o.cerrarModales())}),t(1,"div",78),g("click",function(o){return u(a),_(o.stopPropagation())}),t(2,"div",79)(3,"h3"),r(4),e(),t(5,"button",80),g("click",function(){u(a);let o=l();return _(o.cerrarModales())}),r(6,"\u274C"),e()(),t(7,"div",81)(8,"form",82)(9,"div",83)(10,"label"),r(11,"Nombre *"),e(),t(12,"input",84),M("ngModelChange",function(o){u(a);let i=l();return h(i.formularioConcepto.nombre,o)||(i.formularioConcepto.nombre=o),_(o)}),e()(),t(13,"div",83)(14,"label"),r(15,"Descripci\xF3n"),e(),t(16,"textarea",85),M("ngModelChange",function(o){u(a);let i=l();return h(i.formularioConcepto.descripcion,o)||(i.formularioConcepto.descripcion=o),_(o)}),e()(),t(17,"div",86)(18,"div",83)(19,"label"),r(20,"Tipo *"),e(),t(21,"select",87),M("ngModelChange",function(o){u(a);let i=l();return h(i.formularioConcepto.tipo,o)||(i.formularioConcepto.tipo=o),_(o)}),t(22,"option",88),r(23,"Ingreso"),e(),t(24,"option",89),r(25,"Descuento"),e(),t(26,"option",90),r(27,"Aporte"),e()()(),t(28,"div",83)(29,"label"),r(30,"Categor\xEDa *"),e(),t(31,"input",91),M("ngModelChange",function(o){u(a);let i=l();return h(i.formularioConcepto.categoria,o)||(i.formularioConcepto.categoria=o),_(o)}),e()()(),t(32,"div",86)(33,"div",83)(34,"label"),r(35,"Estado *"),e(),t(36,"select",92),M("ngModelChange",function(o){u(a);let i=l();return h(i.formularioConcepto.estado,o)||(i.formularioConcepto.estado=o),_(o)}),t(37,"option",93),r(38,"Activo"),e(),t(39,"option",94),r(40,"Inactivo"),e()()(),t(41,"div",83)(42,"label"),r(43,"Orden *"),e(),t(44,"input",95),M("ngModelChange",function(o){u(a);let i=l();return h(i.formularioConcepto.orden,o)||(i.formularioConcepto.orden=o),_(o)}),e(),t(45,"small"),r(46,"Orden de aparici\xF3n en la boleta"),e()()()()(),t(47,"div",96)(48,"button",97),g("click",function(){u(a);let o=l();return _(o.cerrarModales())}),r(49,"Cancelar"),e(),t(50,"button",54),g("click",function(){u(a);let o=l();return _(o.mostrarModalCrear?o.crearConcepto():o.actualizarConcepto())}),r(51),e()()()()}if(s&2){let a=l();c(4),f(a.mostrarModalCrear?"Nuevo Concepto":"Editar Concepto"),c(8),b("ngModel",a.formularioConcepto.nombre),c(4),b("ngModel",a.formularioConcepto.descripcion),c(5),b("ngModel",a.formularioConcepto.tipo),c(10),b("ngModel",a.formularioConcepto.categoria),c(5),b("ngModel",a.formularioConcepto.estado),c(8),b("ngModel",a.formularioConcepto.orden),c(7),O(" ",a.mostrarModalCrear?"Crear":"Actualizar"," ")}}function st(s,C){if(s&1){let a=P();t(0,"div",77),g("click",function(){u(a);let o=l();return _(o.cerrarModales())}),t(1,"div",78),g("click",function(o){return u(a),_(o.stopPropagation())}),t(2,"div",79)(3,"h3"),r(4,"Eliminar Concepto"),e(),t(5,"button",80),g("click",function(){u(a);let o=l();return _(o.cerrarModales())}),r(6,"\u274C"),e()(),t(7,"div",81)(8,"p"),r(9,"\xBFEst\xE1 seguro de eliminar el concepto "),t(10,"strong"),r(11),e(),r(12,"?"),e(),t(13,"p",98),r(14,"Esta acci\xF3n no se puede deshacer."),e()(),t(15,"div",96)(16,"button",97),g("click",function(){u(a);let o=l();return _(o.cerrarModales())}),r(17,"Cancelar"),e(),t(18,"button",99),g("click",function(){u(a);let o=l();return _(o.eliminarConcepto())}),r(19,"Eliminar"),e()()()()}if(s&2){let a=l();c(11),f(a.conceptoAEliminar==null?null:a.conceptoAEliminar.nombre)}}var Ct=(()=>{let C=class C{constructor(n,o){this.http=n,this.router=o,this.apiConceptos="http://localhost:5000/api/conceptos",this.apiCatalogoConceptos="http://localhost:5000/api/catalogo-conceptos",this.apiTasas="http://localhost:5000/api/configuracion-tasas",this.conceptos=[],this.conceptosFiltrados=[],this.estadisticas=null,this.conceptoSeleccionado=null,this.filtros={tipo:"Todos",tipoConcepto:"Todos",estado:"Todos",busqueda:""},this.cargando=!1,this.mostrarModalCrear=!1,this.mostrarModalEditar=!1,this.mostrarModalEliminar=!1,this.mostrarModalFormulario=!1,this.conceptoAEliminar=null,this.mostrarVistaConfig=!1,this.tasas=[],this.tasasDisponibles=[],this.formularioConcepto={nombre:"",descripcion:"",tipo:"Ingreso",categoria:"",orden:0,estado:"Activo"},this.tiposConcepto=["Todos","Ingreso","Descuento","Aporte"],this.estadosConcepto=["Todos","Activo","Inactivo"]}ngOnInit(){this.cargarConceptos(),this.cargarTasas()}cargarTasas(){let n=localStorage.getItem("token"),o=n?{Authorization:`Bearer ${n}`}:{};this.http.get(this.apiTasas,{headers:o}).subscribe({next:i=>{this.tasas=i.filter(d=>d.Activo),this.tasasDisponibles=this.tasas,console.log("[cargarTasas] Tasas activas cargadas:",this.tasas.length)},error:i=>{console.error("[cargarTasas] Error al cargar tasas:",i)}})}cargarConceptos(){this.cargando=!0;let n="",o=[];if(this.filtros.tipo&&this.filtros.tipo!=="Todos"&&o.push(`tipoConcepto=${this.filtros.tipo}`),this.filtros.estado&&this.filtros.estado!=="Todos"){let p=this.filtros.estado==="Activo"?"true":"false";o.push(`activo=${p}`)}o.length>0&&(n="?"+o.join("&")),console.log("\u{1F50D} Cargando conceptos desde cat\xE1logo:",`${this.apiCatalogoConceptos}${n}`);let i=localStorage.getItem("token"),d=i?{Authorization:`Bearer ${i}`}:{};this.http.get(`${this.apiCatalogoConceptos}${n}`,{headers:d}).subscribe({next:p=>{console.log("\u2705 Respuesta del cat\xE1logo de conceptos:",p),p.success&&p.data?(this.conceptos=p.data.map(m=>({conceptoID:m.ConceptoID,codigo:m.Codigo,nombre:m.Nombre,descripcion:m.Descripcion||"",tipo:m.TipoConcepto,categoria:m.Categoria||"",estado:m.Activo?"Activo":"Inactivo",orden:m.Orden||0,usuarioCreacion:m.UsuarioCreacion,fechaCreacion:new Date(m.FechaCreacion),usuarioModificacion:m.UsuarioModificacion,fechaModificacion:m.FechaModificacion?new Date(m.FechaModificacion):void 0})),console.log("\u{1F4CA} Conceptos cargados:",this.conceptos.length)):(console.warn("\u26A0\uFE0F No se recibieron datos del servidor"),this.conceptos=[]),this.aplicarFiltros(),this.cargarEstadisticas(),this.cargando=!1},error:p=>{console.error("\u274C Error al cargar conceptos:",p),alert("Error al cargar los conceptos. Verifique la conexi\xF3n con el servidor."),this.conceptos=[],this.cargando=!1}})}cargarEstadisticas(){if(this.conceptos.length>0){let n=this.conceptos.filter(m=>m.tipo==="Ingreso").length,o=this.conceptos.filter(m=>m.tipo==="Descuento").length,i=this.conceptos.filter(m=>m.tipo==="Aporte").length,d=this.conceptos.filter(m=>m.estado==="Activo").length,p=this.conceptos.filter(m=>m.estado==="Inactivo").length;this.estadisticas={totalConceptos:this.conceptos.length,totalIngresos:n,totalDescuentos:o,totalAportes:i,conceptosActivos:d,conceptosInactivos:p},console.log("\u{1F4CA} Estad\xEDsticas calculadas:",this.estadisticas)}}aplicarFiltros(){let n=[...this.conceptos],o=this.filtros.tipoConcepto||this.filtros.tipo;if(o&&o!=="Todos"&&(n=n.filter(i=>i.tipo===o)),this.filtros.estado&&this.filtros.estado!=="Todos"&&(n=n.filter(i=>i.estado===this.filtros.estado)),this.filtros.busqueda){let i=this.filtros.busqueda.toLowerCase();n=n.filter(d=>d.codigo.toLowerCase().includes(i)||d.nombre.toLowerCase().includes(i)||d.descripcion.toLowerCase().includes(i))}this.conceptosFiltrados=n}filtrar(){this.aplicarFiltros()}limpiarFiltros(){this.filtros={tipo:"Todos",tipoConcepto:"Todos",estado:"Todos",busqueda:""},this.aplicarFiltros()}abrirModalCrear(){this.limpiarFormulario(),this.mostrarModalCrear=!0}abrirModalEditar(n){this.conceptoSeleccionado=n,this.formularioConcepto={nombre:n.nombre,descripcion:n.descripcion,tipo:n.tipo,categoria:n.categoria,orden:n.orden,estado:n.estado},this.mostrarModalEditar=!0}abrirModalEliminar(n){this.conceptoAEliminar=n,this.mostrarModalEliminar=!0}cerrarModales(){this.mostrarModalCrear=!1,this.mostrarModalEditar=!1,this.mostrarModalEliminar=!1,this.mostrarModalFormulario=!1,this.conceptoSeleccionado=null,this.conceptoAEliminar=null,this.limpiarFormulario()}limpiarFormulario(){this.formularioConcepto={nombre:"",descripcion:"",tipo:"Ingreso",categoria:"",orden:0,estado:"Activo"}}crearConcepto(){if(!this.validarFormulario())return;let n=localStorage.getItem("token"),o=n?{Authorization:`Bearer ${n}`}:{};this.http.post(`${this.apiConceptos}`,this.formularioConcepto,{headers:o}).subscribe({next:i=>{console.log("\u2705 Concepto creado:",i),alert("Concepto creado exitosamente"),this.cerrarModales(),this.cargarConceptos(),this.cargarEstadisticas()},error:i=>{console.error("\u274C Error al crear concepto:",i),alert("Error al crear el concepto")}})}actualizarConcepto(){if(!this.validarFormulario()||!this.conceptoSeleccionado)return;let n=localStorage.getItem("token"),o=n?{Authorization:`Bearer ${n}`}:{};this.http.put(`${this.apiConceptos}/${this.conceptoSeleccionado.conceptoID}`,this.formularioConcepto,{headers:o}).subscribe({next:i=>{console.log("\u2705 Concepto actualizado:",i),alert("Concepto actualizado exitosamente"),this.cerrarModales(),this.cargarConceptos(),this.cargarEstadisticas()},error:i=>{console.error("\u274C Error al actualizar concepto:",i),alert("Error al actualizar el concepto")}})}eliminarConcepto(){if(!this.conceptoAEliminar)return;let n=localStorage.getItem("token"),o=n?{Authorization:`Bearer ${n}`}:{};this.http.delete(`${this.apiConceptos}/${this.conceptoAEliminar.conceptoID}`,{headers:o}).subscribe({next:i=>{console.log("\u2705 Concepto eliminado:",i),alert("Concepto eliminado exitosamente"),this.cerrarModales(),this.cargarConceptos(),this.cargarEstadisticas()},error:i=>{console.error("\u274C Error al eliminar concepto:",i),alert("Error al eliminar el concepto")}})}cambiarEstado(n){let o=n.estado==="Activo"?"Inactivo":"Activo",i=localStorage.getItem("token"),d=i?{Authorization:`Bearer ${i}`}:{};this.http.put(`${this.apiConceptos}/${n.conceptoID}/estado`,{estado:o},{headers:d}).subscribe({next:p=>{console.log("\u2705 Estado cambiado:",p),alert(`Concepto ${o.toLowerCase()} exitosamente`),this.cargarConceptos(),this.cargarEstadisticas()},error:p=>{console.error("\u274C Error al cambiar estado:",p),alert("Error al cambiar el estado del concepto")}})}editarConcepto(n){this.conceptoSeleccionado=n,this.formularioConcepto={nombre:n.nombre,descripcion:n.descripcion,tipo:n.tipo,categoria:n.categoria,orden:n.orden,estado:n.estado},this.mostrarModalFormulario=!0}duplicarConcepto(n){let o=localStorage.getItem("token"),i=o?{Authorization:`Bearer ${o}`}:{};this.http.post(`${this.apiConceptos}/${n.conceptoID}/duplicar`,{},{headers:i}).subscribe({next:d=>{console.log("\u2705 Concepto duplicado:",d),alert("Concepto duplicado exitosamente"),this.cargarConceptos(),this.cargarEstadisticas()},error:d=>{console.error("\u274C Error al duplicar concepto:",d),alert("Error al duplicar el concepto")}})}validarFormulario(){return this.formularioConcepto.nombre.trim()?this.formularioConcepto.categoria.trim()?this.formularioConcepto.orden<0?(alert("El orden debe ser mayor o igual a 0"),!1):!0:(alert("La categor\xEDa es requerida"),!1):(alert("El nombre es requerido"),!1)}importarConceptos(){console.log("\u{1F4E5} Importando conceptos..."),alert("Funcionalidad de importaci\xF3n en desarrollo")}exportarConceptos(){console.log("\u{1F4E4} Exportando conceptos..."),alert("Funcionalidad de exportaci\xF3n en desarrollo")}nuevoFormulario(){this.abrirModalCrear()}get totalConceptosActivos(){return this.estadisticas?.conceptosActivos||0}get totalIngresos(){return this.estadisticas?.totalIngresos||0}get totalDescuentos(){return this.estadisticas?.totalDescuentos||0}get totalAportes(){return this.estadisticas?.totalAportes||0}getTipoBadgeClass(n){return this.obtenerClaseTipo(n)}getEstadoBadgeClass(n){return this.obtenerClaseEstado(n)}formatearMoneda(n){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(n)}obtenerClaseTipo(n){switch(n){case"Ingreso":return"tipo-ingreso";case"Descuento":return"tipo-descuento";case"Aporte":return"tipo-aporte";default:return"tipo-default"}}obtenerClaseEstado(n){switch(n){case"Activo":return"estado-activo";case"Inactivo":return"estado-inactivo";default:return"estado-default"}}formatearFecha(n){return n.toLocaleDateString("es-PE")}toggleVistaConfig(){this.mostrarVistaConfig=!this.mostrarVistaConfig}irAConfiguracion(){this.router.navigate(["/configuracion"],{queryParams:{tab:"tasas"}})}formatearValorTasa(n,o){return o==="Porcentaje"?(n*100).toFixed(2)+"%":o==="Monto"?"S/. "+n.toFixed(2):n.toString()}};C.\u0275fac=function(o){return new(o||C)(E(B),E(W))},C.\u0275cmp=k({type:C,selectors:[["app-conceptos"]],decls:54,vars:12,consts:[[1,"conceptos-planillas"],[1,"page-header"],[1,"page-header__left"],[1,"page-title"],[1,"page-title__icon"],[1,"page-subtitle"],[1,"page-subtitle__dots"],[1,"page-subtitle__dot","page-subtitle__dot--large"],[1,"page-subtitle__dot","page-subtitle__dot--medium"],[1,"page-subtitle__dot","page-subtitle__dot--small"],[1,"page-header__right"],[1,"btn","btn--sm","btn--info",3,"click"],[1,"btn","btn--sm","btn--outline",3,"click"],[1,"btn","btn--sm","btn--primary",3,"click"],["class","resumen-general",4,"ngIf"],["class","info-tasas",4,"ngIf"],[1,"filtros-section"],[1,"filtros-header"],[1,"filtros-title"],[1,"filtros-icon"],[1,"filtros-content"],[1,"filtro-group"],[1,"filtro-label"],[1,"filtro-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Buscar por c\xF3digo, nombre...",1,"filtro-input",3,"ngModelChange","input","ngModel"],[1,"filtros-info"],["class","tabla-container",4,"ngIf"],["class","loading",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"resumen-general"],[1,"resumen-card","resumen-card--primary"],[1,"resumen-card__icon"],[1,"resumen-card__content"],[1,"resumen-card__label"],[1,"resumen-card__value"],[1,"resumen-card","resumen-card--success"],[1,"resumen-card","resumen-card--warning"],[1,"resumen-card","resumen-card--info"],[1,"info-tasas"],[1,"info-header"],[1,"alert","alert--info"],[1,"tasas-grid"],["class","tasa-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"tasa-card"],[1,"tasa-card__header"],[1,"tasa-card__codigo"],[1,"tasa-card__body"],[1,"tasa-card__valor"],[1,"tasa-card__descripcion"],[1,"tasa-card__vigencia"],[4,"ngIf"],[1,"empty-state"],[1,"btn","btn--primary",3,"click"],[3,"value"],[1,"tabla-container"],[1,"tabla-scroll"],[1,"tabla"],[4,"ngFor","ngForOf"],[1,"td-codigo"],[1,"codigo-badge"],[1,"td-nombre"],[1,"concepto-info"],[1,"td-tipo"],[1,"badge",3,"ngClass"],[1,"td-categoria"],[1,"td-estado"],[1,"td-orden"],[1,"td-acciones"],[1,"acciones-menu"],["title","Editar",1,"btn-action","btn-action--primary",3,"click"],["title","Duplicar",1,"btn-action","btn-action--info",3,"click"],["title","Cambiar Estado",1,"btn-action","btn-action--warning",3,"click"],["title","Eliminar",1,"btn-action","btn-action--danger",3,"click"],[1,"loading"],[1,"loading-spinner"],[1,"modal",3,"click"],[1,"modal__content",3,"click"],[1,"modal__header"],[1,"btn-close",3,"click"],[1,"modal__body"],[1,"form-concepto"],[1,"form-group"],["type","text","name","nombre","placeholder","Nombre del concepto",3,"ngModelChange","ngModel"],["name","descripcion","placeholder","Descripci\xF3n del concepto",3,"ngModelChange","ngModel"],[1,"form-row"],["name","tipo",3,"ngModelChange","ngModel"],["value","Ingreso"],["value","Descuento"],["value","Aporte"],["type","text","name","categoria","placeholder","Categor\xEDa del concepto",3,"ngModelChange","ngModel"],["name","estado",3,"ngModelChange","ngModel"],["value","Activo"],["value","Inactivo"],["type","number","name","orden","placeholder","0","min","0",3,"ngModelChange","ngModel"],[1,"modal__footer"],[1,"btn","btn--outline",3,"click"],[1,"text-warning"],[1,"btn","btn--danger",3,"click"]],template:function(o,i){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span",4),r(5,"\u{1F4CB}"),e(),r(6," Conceptos de Planilla "),e(),t(7,"p",5)(8,"span",6),w(9,"span",7)(10,"span",8)(11,"span",9),e(),r(12," Gesti\xF3n de ingresos, descuentos y aportes "),e()(),t(13,"div",10)(14,"button",11),g("click",function(){return i.irAConfiguracion()}),r(15," \u{1F4CA} Ver Tasas Configurables "),e(),t(16,"button",12),g("click",function(){return i.importarConceptos()}),r(17," \u{1F4E5} Importar "),e(),t(18,"button",12),g("click",function(){return i.exportarConceptos()}),r(19," \u{1F4E4} Exportar "),e(),t(20,"button",13),g("click",function(){return i.nuevoFormulario()}),r(21," \u2795 Nuevo Concepto "),e()()(),v(22,Q,33,4,"div",14)(23,et,13,2,"div",15),t(24,"div",16)(25,"div",17)(26,"h3",18)(27,"span",19),r(28,"\u{1F50D}"),e(),r(29," Filtros "),e(),t(30,"button",12),g("click",function(){return i.limpiarFiltros()}),r(31," \u274C Limpiar "),e()(),t(32,"div",20)(33,"div",21)(34,"label",22),r(35,"Tipo:"),e(),t(36,"select",23),M("ngModelChange",function(p){return h(i.filtros.tipoConcepto,p)||(i.filtros.tipoConcepto=p),p}),g("change",function(){return i.aplicarFiltros()}),v(37,nt,2,2,"option",24),e()(),t(38,"div",21)(39,"label",22),r(40,"Estado:"),e(),t(41,"select",23),M("ngModelChange",function(p){return h(i.filtros.estado,p)||(i.filtros.estado=p),p}),g("change",function(){return i.aplicarFiltros()}),v(42,ot,2,2,"option",24),e()(),t(43,"div",21)(44,"label",22),r(45,"Buscar:"),e(),t(46,"input",25),M("ngModelChange",function(p){return h(i.filtros.busqueda,p)||(i.filtros.busqueda=p),p}),g("input",function(){return i.aplicarFiltros()}),e()()(),t(47,"div",26)(48,"span"),r(49),e()()(),v(50,rt,21,1,"div",27)(51,at,4,0,"div",28)(52,ct,52,8,"div",29)(53,st,20,1,"div",29),e()),o&2&&(c(22),x("ngIf",i.estadisticas),c(),x("ngIf",i.mostrarVistaConfig),c(13),b("ngModel",i.filtros.tipoConcepto),c(),x("ngForOf",i.tiposConcepto),c(4),b("ngModel",i.filtros.estado),c(),x("ngForOf",i.estadosConcepto),c(4),b("ngModel",i.filtros.busqueda),c(3),O("Mostrando ",i.conceptosFiltrados.length," conceptos"),c(),x("ngIf",!i.cargando),c(),x("ngIf",i.cargando),c(),x("ngIf",i.mostrarModalCrear||i.mostrarModalEditar),c(),x("ngIf",i.mostrarModalEliminar))},dependencies:[z,F,D,V,K,R,U,Y,N,G,H,L,$,J,q,j,A],styles:['.conceptos-planillas[_ngcontent-%COMP%]{padding:24px;width:100%;min-height:100vh}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:32px;padding:18px 24px;background:linear-gradient(135deg,#fff,#f8fafc)!important;border-radius:8px;border:1px solid rgba(34,197,94,.15);box-shadow:0 4px 16px #00000014,0 1px 3px #0000000d,inset 0 1px #ffffffe6;position:relative;overflow:hidden;gap:20px;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#22c55e,#16a34a)}.page-header[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#22c55e,#16a34a);opacity:.6}.page-header__left[_ngcontent-%COMP%]{flex:1;position:relative;z-index:1;padding-left:12px;min-width:0}.page-header__right[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;flex-shrink:0;position:relative;z-index:1}[data-theme=dark][_nghost-%COMP%]   .page-header[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a)!important;border:1px solid rgba(34,197,94,.2);box-shadow:0 4px 16px #0000004d,0 1px 3px #0003,inset 0 1px #ffffff0d}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0 0 8px;font-size:28px;font-weight:700;color:var(--text-1)}.page-title__icon[_ngcontent-%COMP%]{font-size:32px}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:var(--text-2);font-size:14px;display:flex;align-items:center;gap:10px;text-transform:uppercase;position:relative;padding-left:20px}.page-subtitle__dots[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:3px;width:16px;height:20px}.page-subtitle__dot[_ngcontent-%COMP%]{border-radius:50%;background:linear-gradient(135deg,#22c55e,#16a34a);box-shadow:0 0 6px #22c55e80}.page-subtitle__dot--large[_ngcontent-%COMP%]{width:8px;height:8px;margin-left:0}.page-subtitle__dot--medium[_ngcontent-%COMP%]{width:5px;height:5px;margin-left:3px}.page-subtitle__dot--small[_ngcontent-%COMP%]{width:3px;height:3px;margin-left:6px}.resumen-general[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:32px}.resumen-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:24px;border-radius:12px;border:2px solid;transition:all .3s ease;min-height:100px}.resumen-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.resumen-card__icon[_ngcontent-%COMP%]{font-size:36px}.resumen-card__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.resumen-card__label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.resumen-card__value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1}.resumen-card--primary[_ngcontent-%COMP%]{background:#3b82f61a;border-color:#3b82f64d}.resumen-card--primary[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#3b82f6}.resumen-card--success[_ngcontent-%COMP%]{background:#22c55e1a;border-color:#22c55e4d}.resumen-card--success[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:var(--accent)}.resumen-card--info[_ngcontent-%COMP%]{background:#0ea5e91a;border-color:#0ea5e94d}.resumen-card--info[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#0ea5e9}.resumen-card--warning[_ngcontent-%COMP%]{background:#f59e0b1a;border-color:#f59e0b4d}.resumen-card--warning[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#f59e0b}.resumen-card--pending[_ngcontent-%COMP%]{background:#a855f71a;border-color:#a855f74d}.resumen-card--pending[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#a855f7}.resumen-card--cancelled[_ngcontent-%COMP%]{background:#ef44441a;border-color:#ef44444d}.resumen-card--cancelled[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#ef4444}.filtros-section[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:28px;margin-bottom:32px;box-shadow:0 2px 8px #0000001a}.filtros-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.filtros-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-1);margin:0;display:flex;align-items:center;gap:8px}.filtros-icon[_ngcontent-%COMP%]{font-size:18px}.filtros-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:24px;margin-bottom:20px}.filtro-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.filtro-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.filtro-select[_ngcontent-%COMP%], .filtro-input[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:var(--panel-2);color:var(--text-1);font-size:14px;transition:all .2s ease}.filtro-select[_ngcontent-%COMP%]:focus, .filtro-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px #22c55e1a}.filtros-info[_ngcontent-%COMP%]{font-size:14px;color:#22c55e;font-weight:500}.filtros-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#22c55e}.tabla-container[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:8px;overflow:hidden;margin-bottom:32px;box-shadow:0 2px 8px #0000001a}.tabla-scroll[_ngcontent-%COMP%]{overflow-x:auto}.tabla[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;font-size:13px;border-radius:0}.tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#059669!important;border-bottom:2px solid #047857!important}.tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 20px!important;text-align:left;font-weight:700;color:#fff;font-size:12px!important;text-transform:uppercase;letter-spacing:1px;white-space:nowrap;border-radius:0}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--border);transition:background .2s ease}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--panel-2)}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:8px}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:8px}.tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 20px;color:var(--text-1)}.td-loading[_ngcontent-%COMP%], .td-empty[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading-spinner[_ngcontent-%COMP%]{font-size:16px;color:var(--text-2)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:40px 20px}.empty-state__icon[_ngcontent-%COMP%]{font-size:48px;opacity:.5}.empty-state__text[_ngcontent-%COMP%]{font-size:16px;color:var(--text-2);margin:0}.codigo-badge[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;color:var(--accent);background:#22c55e1a;padding:4px 8px;border-radius:6px;font-size:12px}.concepto-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:var(--text-1);margin-bottom:3px}.concepto-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-2);font-size:11px;line-height:1.3}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:#3b82f626;color:#3b82f6;border-radius:6px;font-size:12px;font-weight:600}.badge.tipo-ingreso[_ngcontent-%COMP%]{background:#22c55e26;color:var(--accent)}.badge.tipo-descuento[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b}.badge.tipo-aporte[_ngcontent-%COMP%]{background:#8b5cf626;color:#8b5cf6}.badge.estado-activo[_ngcontent-%COMP%]{background:#22c55e26;color:var(--accent)}.badge.estado-inactivo[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444}.acciones-menu[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.btn-action[_ngcontent-%COMP%]{width:28px;height:28px;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:12px;transition:all .2s ease}.btn-action--primary[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.btn-action--primary[_ngcontent-%COMP%]:hover{background:#3b82f633;transform:scale(1.05)}.btn-action--info[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.btn-action--info[_ngcontent-%COMP%]:hover{background:#8b5cf633;transform:scale(1.05)}.btn-action--warning[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.btn-action--warning[_ngcontent-%COMP%]:hover{background:#f59e0b33;transform:scale(1.05)}.btn-action--danger[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.btn-action--danger[_ngcontent-%COMP%]:hover{background:#ef444433;transform:scale(1.05)}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-2)}.loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border);border-top:3px solid var(--accent);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal__content[_ngcontent-%COMP%]{background:var(--panel);border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;border:1px solid var(--border)}.modal__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid var(--border)}.modal__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-1)}.modal__body[_ngcontent-%COMP%]{padding:20px}.modal__footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;padding:20px;border-top:1px solid var(--border)}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;color:var(--text-2)}.btn-close[_ngcontent-%COMP%]:hover{color:var(--text-1)}.form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:var(--text-1)}.form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:6px;background:var(--panel-2);color:var(--text-1);font-size:14px}.form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px #22c55e1a}.form-concepto[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-concepto[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 768px){.form-concepto[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;text-decoration:none;display:inline-flex;align-items:center;gap:5px}.btn--primary[_ngcontent-%COMP%]{background:var(--accent);color:#fff}.btn--primary[_ngcontent-%COMP%]:hover{background:var(--accent-hover)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:var(--text-1);border:1px solid var(--border)}.btn--outline[_ngcontent-%COMP%]:hover{background:var(--panel-2)}.btn--danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn--danger[_ngcontent-%COMP%]:hover{background:#dc2626}.btn--sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}@media (min-width: 1200px){.resumen-general[_ngcontent-%COMP%], .filtros-content[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 768px){.conceptos-planillas[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px;padding:24px}.page-header__right[_ngcontent-%COMP%]{justify-content:center}.resumen-general[_ngcontent-%COMP%], .filtros-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.tabla-scroll[_ngcontent-%COMP%]{overflow-x:auto}.tabla[_ngcontent-%COMP%]{min-width:800px}}']});let s=C;return s})();export{Ct as ConceptosComponent};
