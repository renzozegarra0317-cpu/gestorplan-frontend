import{a as G,b as y,c as h}from"./chunk-4F4PQCC5.js";import{Ba as z,Ca as b,Fa as o,Ga as m,Ha as C,Ia as T,Ib as B,Ja as F,L as l,La as M,Ma as P,Na as O,Qb as X,T as V,Ub as U,V as A,Xb as W,_ as f,fa as p,ga as n,ha as t,ia as w,jc as q,lb as N,mb as R,nb as L,pa as v,sa as x,ta as d,tb as j,v as _,w as u}from"./chunk-XJZXWVKN.js";var Y=["DNI","Apellido Paterno","Apellido Materno","Nombres","Fecha Nacimiento","Sexo","Celular","Email","Cargo","Area","Tipo Contrato","Fecha Ingreso","Remuneracion Basica","Sistema Pensiones","Banco","Numero Cuenta"],$=["Estado Civil","Telefono","Direccion","Distrito","Gerencia","Regimen Laboral","Fecha Inicio Contrato","Fecha Fin Contrato","Asignacion Familiar","Numero Hijos","CUSPP","Sindicalizado","CCI"];function Z(r,s){if(r&1){let e=v();n(0,"div",35)(1,"div",36),o(2,"\u{1F4C1}"),t(),n(3,"h3",37),o(4,"Arrastra tu archivo aqui"),t(),n(5,"p",38),o(6,"o haz clic para seleccionar"),t(),n(7,"input",39),x("change",function(a){_(e);let c=d(2);return u(c.onFileSelected(a))}),t(),n(8,"label",40)(9,"span",15),o(10,"\u{1F4C2}"),t(),o(11," Seleccionar Archivo "),t(),n(12,"p",41),o(13,"Formatos: .xlsx, .xls, .csv"),t()()}}function ee(r,s){if(r&1){let e=v();n(0,"div",42)(1,"div",43),o(2,"\u{1F4C4}"),t(),n(3,"div",44)(4,"h4",45),o(5),t(),n(6,"p",46),o(7),t()(),n(8,"button",47),x("click",function(){_(e);let a=d(2);return u(a.eliminarArchivo())}),n(9,"span"),o(10,"\u{1F5D1}\uFE0F"),t()()()}if(r&2){let e=d(2);l(5),m(e.archivoSeleccionado.nombre),l(2),T(" ",e.formatearTamano(e.archivoSeleccionado.tamano)," \u2022 Ultima modificacion: ",e.archivoSeleccionado.ultimaModificacion.toLocaleString()," ")}}function te(r,s){r&1&&(n(0,"div",48),w(1,"div",49),n(2,"p",50),o(3,"Procesando archivo..."),t()())}function ne(r,s){if(r&1&&(n(0,"div",57)(1,"span",58),o(2,"\u2713"),t(),n(3,"span",59),o(4),t()()),r&2){let e=s.$implicit;l(4),m(e)}}function oe(r,s){if(r&1&&(n(0,"div",63)(1,"span",58),o(2,"\u2717"),t(),n(3,"span",59),o(4),t()()),r&2){let e=s.$implicit;l(4),m(e)}}function ie(r,s){if(r&1&&(n(0,"div",60)(1,"h3",53),o(2,"\u26A0\uFE0F Columnas Faltantes"),t(),n(3,"div",54),f(4,oe,5,1,"div",61),t(),n(5,"p",62),o(6," \u26A0\uFE0F Faltan columnas obligatorias. Por favor, use la plantilla oficial. "),t()()),r&2){let e=d(3);l(4),p("ngForOf",e.columnasFaltantes)}}function ae(r,s){if(r&1&&(n(0,"div",51)(1,"div",52)(2,"h3",53),o(3,"\u{1F4CA} Columnas Detectadas"),t(),n(4,"div",54),f(5,ne,5,1,"div",55),t()(),f(6,ie,7,1,"div",56),t()),r&2){let e=d(2);l(5),p("ngForOf",e.columnasDetectadas),l(),p("ngIf",e.columnasFaltantes.length>0)}}function re(r,s){if(r&1){let e=v();n(0,"div",25)(1,"div",26)(2,"div",27)(3,"h2",28),o(4,"\u{1F4CB} Instrucciones de Importacion"),t(),n(5,"ul",29)(6,"li"),o(7,"\u2705 Use la plantilla oficial para asegurar compatibilidad"),t(),n(8,"li"),o(9,"\u2705 Complete todas las columnas obligatorias"),t(),n(10,"li"),o(11,"\u2705 Formato de archivo: Excel (.xlsx, .xls) o CSV (.csv)"),t(),n(12,"li"),o(13,"\u2705 Tama\xF1o maximo: 10 MB"),t(),n(14,"li"),o(15,"\u2705 Maximo 1000 trabajadores por archivo"),t(),n(16,"li"),o(17,"\u26A0\uFE0F Verifique que los DNI sean unicos y validos"),t(),n(18,"li"),o(19,"\u26A0\uFE0F Formato de fecha: AAAA-MM-DD (ej: 2025-01-15)"),t(),n(20,"li"),o(21,"\u26A0\uFE0F Email debe ser corporativo (@munilima.gob.pe)"),t()()(),n(22,"div",30),x("dragover",function(a){_(e);let c=d();return u(c.onDragOver(a))})("dragleave",function(a){_(e);let c=d();return u(c.onDragLeave(a))})("drop",function(a){_(e);let c=d();return u(c.onDrop(a))}),f(23,Z,14,0,"div",31)(24,ee,11,3,"div",32)(25,te,4,0,"div",33),t(),f(26,ae,7,2,"div",34),t()()}if(r&2){let e=d();l(22),b("dragging",e.arrastrando),l(),p("ngIf",!e.archivoSeleccionado),l(),p("ngIf",e.archivoSeleccionado&&!e.procesando),l(),p("ngIf",e.procesando),l(),p("ngIf",e.archivoSeleccionado&&e.columnasDetectadas.length>0&&!e.procesando)}}function le(r,s){if(r&1&&(n(0,"tr")(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),o(6),t(),n(7,"td"),o(8),t(),n(9,"td"),o(10),t(),n(11,"td"),o(12),t(),n(13,"td"),o(14),t()()),r&2){let e=s.$implicit;l(2),m(e._fila),l(2),m(e.DNI),l(2),F("",e["Apellido Paterno"]," ",e["Apellido Materno"],", ",e.Nombres),l(2),m(e.Email),l(2),m(e.Cargo),l(2),m(e.Area),l(2),C("S/. ",e["Remuneracion Basica"])}}function ce(r,s){if(r&1&&(n(0,"div",86)(1,"p"),o(2),t()()),r&2){let e=d(2);l(2),C("\u{1F4CC} Mostrando los primeros 10 registros de ",e.datosImportados.length)}}function se(r,s){if(r&1){let e=v();n(0,"div",25)(1,"div",64)(2,"div",65)(3,"h2",66),o(4,"\u{1F441}\uFE0F Vista Previa de Datos"),t(),n(5,"p",67),o(6," Se encontraron "),n(7,"strong"),o(8),t(),o(9," registros "),t()(),n(10,"div",68)(11,"table",69)(12,"thead")(13,"tr")(14,"th"),o(15,"Fila"),t(),n(16,"th"),o(17,"DNI"),t(),n(18,"th"),o(19,"Apellidos y Nombres"),t(),n(20,"th"),o(21,"Email"),t(),n(22,"th"),o(23,"Cargo"),t(),n(24,"th"),o(25,"Area"),t(),n(26,"th"),o(27,"Remuneracion"),t()()(),n(28,"tbody"),f(29,le,15,9,"tr",70),t()()(),f(30,ce,3,1,"div",71),n(31,"div",72)(32,"h3",73),o(33,"\u2699\uFE0F Configuracion de Importacion"),t(),n(34,"div",74)(35,"div",75)(36,"input",76),O("ngModelChange",function(a){_(e);let c=d();return P(c.configuracion.omitirDuplicados,a)||(c.configuracion.omitirDuplicados=a),u(a)}),t(),n(37,"label",77),o(38,"Omitir registros duplicados (por DNI)"),t()(),n(39,"div",75)(40,"input",78),O("ngModelChange",function(a){_(e);let c=d();return P(c.configuracion.actualizarExistentes,a)||(c.configuracion.actualizarExistentes=a),u(a)}),t(),n(41,"label",79),o(42,"Actualizar trabajadores existentes"),t()(),n(43,"div",75)(44,"input",80),O("ngModelChange",function(a){_(e);let c=d();return P(c.configuracion.validarReniec,a)||(c.configuracion.validarReniec=a),u(a)}),t(),n(45,"label",81),o(46,"Validar DNI con RENIEC"),t()(),n(47,"div",75)(48,"input",82),O("ngModelChange",function(a){_(e);let c=d();return P(c.configuracion.enviarNotificaciones,a)||(c.configuracion.enviarNotificaciones=a),u(a)}),t(),n(49,"label",83),o(50,"Enviar notificaciones por email"),t()(),n(51,"div",75)(52,"input",84),O("ngModelChange",function(a){_(e);let c=d();return P(c.configuracion.crearUsuarios,a)||(c.configuracion.crearUsuarios=a),u(a)}),t(),n(53,"label",85),o(54,"Crear usuarios del sistema automaticamente"),t()()()()()()}if(r&2){let e=d();l(8),m(e.datosImportados.length),l(21),p("ngForOf",e.datosImportados.slice(0,10)),l(),p("ngIf",e.datosImportados.length>10),l(6),M("ngModel",e.configuracion.omitirDuplicados),l(4),M("ngModel",e.configuracion.actualizarExistentes),l(4),M("ngModel",e.configuracion.validarReniec),l(4),M("ngModel",e.configuracion.enviarNotificaciones),l(4),M("ngModel",e.configuracion.crearUsuarios)}}function de(r,s){if(r&1&&(n(0,"div",100)(1,"div",101)(2,"div",102),o(3,"\u{1F4CA}"),t(),n(4,"div",103)(5,"span",104),o(6,"Total"),t(),n(7,"span",105),o(8),t()()(),n(9,"div",106)(10,"div",102),o(11,"\u2713"),t(),n(12,"div",103)(13,"span",104),o(14,"Validos"),t(),n(15,"span",105),o(16),t()()(),n(17,"div",107)(18,"div",102),o(19,"\u26A0\uFE0F"),t(),n(20,"div",103)(21,"span",104),o(22,"Advertencias"),t(),n(23,"span",105),o(24),t()()(),n(25,"div",108)(26,"div",102),o(27,"\u2717"),t(),n(28,"div",103)(29,"span",104),o(30,"Errores"),t(),n(31,"span",105),o(32),t()()()()),r&2){let e=d(2);l(8),m(e.resumen.totalRegistros),l(8),m(e.resumen.registrosValidos),l(8),m(e.resumen.registrosConAdvertencia),l(8),m(e.resumen.registrosConError)}}function pe(r,s){if(r&1&&(n(0,"div",114)(1,"span",115),o(2,"\u2717"),t(),n(3,"span",116),o(4),t()()),r&2){let e=s.$implicit;l(4),m(e)}}function me(r,s){if(r&1&&(n(0,"div",117)(1,"span",115),o(2,"\u26A0\uFE0F"),t(),n(3,"span",116),o(4),t()()),r&2){let e=s.$implicit;l(4),m(e)}}function ge(r,s){r&1&&(n(0,"div",118)(1,"span",115),o(2,"\u2713"),t(),n(3,"span",116),o(4,"Sin problemas"),t()())}function _e(r,s){if(r&1&&(n(0,"tr")(1,"td"),o(2),t(),n(3,"td")(4,"span",109),o(5),t()(),n(6,"td"),o(7),t(),n(8,"td"),o(9),t(),n(10,"td")(11,"div",110),f(12,pe,5,1,"div",111)(13,me,5,1,"div",112)(14,ge,5,0,"div",113),t()()()),r&2){let e=s.$implicit,i=d(2);l(2),m(e.fila),l(2),p("ngClass",i.getEstadoBadgeClass(e.estado)),l(),C(" ",e.estado," "),l(2),m(e.dni),l(2),m(e.nombreCompleto),l(3),p("ngForOf",e.errores),l(),p("ngForOf",e.advertencias),l(),p("ngIf",e.errores.length===0&&e.advertencias.length===0)}}function ue(r,s){if(r&1&&(n(0,"div",119)(1,"p",120),o(2," \u26A0\uFE0F "),n(3,"strong"),o(4),t(),o(5," registros con errores no seran importados. Corrija los errores en el archivo Excel y vuelva a importar. "),t()()),r&2){let e=d(2);l(4),m(e.resumen.registrosConError)}}function xe(r,s){if(r&1){let e=v();n(0,"div",25)(1,"div",87)(2,"div",88)(3,"h2",89),o(4,"\u2705 Resultados de Validacion"),t(),f(5,de,33,4,"div",90),t(),n(6,"div",91)(7,"button",92),x("click",function(){_(e);let a=d();return u(a.filtroEstado="Todos")}),o(8),t(),n(9,"button",93),x("click",function(){_(e);let a=d();return u(a.filtroEstado="Valido")}),o(10),t(),n(11,"button",94),x("click",function(){_(e);let a=d();return u(a.filtroEstado="Advertencia")}),o(12),t(),n(13,"button",95),x("click",function(){_(e);let a=d();return u(a.filtroEstado="Error")}),o(14),t(),n(15,"button",96),x("click",function(){_(e);let a=d();return u(a.descargarReporte())}),o(16," \u{1F4C4} Descargar Reporte "),t()(),n(17,"div",97)(18,"table",98)(19,"thead")(20,"tr")(21,"th"),o(22,"Fila"),t(),n(23,"th"),o(24,"Estado"),t(),n(25,"th"),o(26,"DNI"),t(),n(27,"th"),o(28,"Nombre Completo"),t(),n(29,"th"),o(30,"Problemas"),t()()(),n(31,"tbody"),f(32,_e,15,8,"tr",70),t()()(),f(33,ue,6,1,"div",99),t()()}if(r&2){let e=d();l(5),p("ngIf",e.resumen),l(2),b("active",e.filtroEstado==="Todos"),l(),C(" Todos (",e.resultadosValidacion.length,") "),l(),b("active",e.filtroEstado==="Valido"),l(),C(" Validos (",(e.resumen==null?null:e.resumen.registrosValidos)||0,") "),l(),b("active",e.filtroEstado==="Advertencia"),l(),C(" Advertencias (",(e.resumen==null?null:e.resumen.registrosConAdvertencia)||0,") "),l(),b("active",e.filtroEstado==="Error"),l(),C(" Errores (",(e.resumen==null?null:e.resumen.registrosConError)||0,") "),l(18),p("ngForOf",e.resultadosFiltrados),l(),p("ngIf",e.resumen&&e.resumen.registrosConError>0)}}function fe(r,s){if(r&1&&(n(0,"div",128)(1,"div",129)(2,"span",130),o(3,"Registros importados:"),t(),n(4,"span",131),o(5),t()(),n(6,"div",129)(7,"span",130),o(8,"Archivo:"),t(),n(9,"span",131),o(10),t()(),n(11,"div",129)(12,"span",130),o(13,"Fecha:"),t(),n(14,"span",131),o(15),t()()()),r&2){let e=d(2);l(5),m(e.resumen.registrosValidos),l(5),m(e.resumen.archivoNombre),l(5),m(e.resumen.fechaImportacion.toLocaleString())}}function ve(r,s){if(r&1){let e=v();n(0,"div",25)(1,"div",121)(2,"div",122),o(3,"\u2705"),t(),n(4,"h2",123),o(5,"\xA1Importacion Completada!"),t(),n(6,"p",124),o(7,"Los trabajadores han sido importados exitosamente"),t(),f(8,fe,16,3,"div",125),n(9,"div",126)(10,"button",14),x("click",function(){_(e);let a=d();return u(a.volverInicio())}),o(11," \u{1F4E4} Importar Otro Archivo "),t(),n(12,"button",127),x("click",function(){_(e);let a=d();return u(a.volverLista())}),o(13," \u{1F441}\uFE0F Ver Lista de Trabajadores "),t()()()()}if(r&2){let e=d();l(8),p("ngIf",e.resumen)}}function be(r,s){if(r&1){let e=v();n(0,"button",138),x("click",function(){_(e);let a=d(2);return u(a.pasoAnterior())}),o(1," \u2190 Anterior "),t()}}function Ce(r,s){if(r&1){let e=v();n(0,"button",139),x("click",function(){_(e);let a=d(2);return u(a.volverLista())}),o(1," Cancelar "),t()}}function he(r,s){if(r&1){let e=v();n(0,"button",140),x("click",function(){_(e);let a=d(2);return u(a.siguientePaso())}),o(1," Validar Datos \u2192 "),t()}if(r&2){let e=d(2);p("disabled",e.columnasFaltantes.length>0)}}function Me(r,s){if(r&1&&(n(0,"span"),o(1),t()),r&2){let e=d(3);l(),C("\u2713 Importar ",(e.resumen==null?null:e.resumen.registrosValidos)||0," Trabajadores")}}function Pe(r,s){r&1&&(n(0,"span"),o(1,"\u23F3 Importando..."),t())}function Oe(r,s){if(r&1){let e=v();n(0,"button",141),x("click",function(){_(e);let a=d(2);return u(a.importarDatos())}),f(1,Me,2,1,"span",142)(2,Pe,2,0,"span",142),t()}if(r&2){let e=d(2);p("disabled",!e.resumen||e.resumen.registrosValidos===0),l(),p("ngIf",!e.importando),l(),p("ngIf",e.importando)}}function Ee(r,s){if(r&1&&(n(0,"div",143),w(1,"div",49),n(2,"p",50),o(3),t()()),r&2){let e=d(2);l(3),m(e.procesando?"Validando datos...":"Importando trabajadores...")}}function we(r,s){if(r&1&&(n(0,"div",132),f(1,be,2,0,"button",133)(2,Ce,2,0,"button",134)(3,he,2,1,"button",135)(4,Oe,3,3,"button",136)(5,Ee,4,1,"div",137),t()),r&2){let e=d();l(),p("ngIf",e.paso>1&&!e.procesando&&!e.importando),l(),p("ngIf",!e.procesando&&!e.importando),l(),p("ngIf",e.paso===2&&!e.procesando),l(),p("ngIf",e.paso===3&&!e.importando),l(),p("ngIf",e.procesando||e.importando)}}var Fe=(()=>{let s=class s{constructor(i){this.router=i,this.paso=1,this.totalPasos=4,this.procesando=!1,this.importando=!1,this.archivoSeleccionado=null,this.arrastrando=!1,this.datosImportados=[],this.resultadosValidacion=[],this.resumen=null,this.configuracion={omitirDuplicados:!0,actualizarExistentes:!1,validarReniec:!1,enviarNotificaciones:!0,crearUsuarios:!1},this.columnasRequeridas=Y,this.columnasOpcionales=$,this.columnasDetectadas=[],this.columnasFaltantes=[],this.filtroEstado="Todos"}ngOnInit(){}onDragOver(i){i.preventDefault(),i.stopPropagation(),this.arrastrando=!0}onDragLeave(i){i.preventDefault(),i.stopPropagation(),this.arrastrando=!1}onDrop(i){i.preventDefault(),i.stopPropagation(),this.arrastrando=!1;let a=i.dataTransfer?.files;a&&a.length>0&&this.procesarArchivo(a[0])}onFileSelected(i){let a=i.target.files[0];a&&this.procesarArchivo(a)}procesarArchivo(i){let a=[".xlsx",".xls",".csv"],c=i.name.substring(i.name.lastIndexOf(".")).toLowerCase();if(!a.includes(c)){alert("Formato de archivo no permitido. Use Excel (.xlsx, .xls) o CSV (.csv)");return}let g=10*1024*1024;if(i.size>g){alert("El archivo es demasiado grande. Maximo 10MB");return}this.archivoSeleccionado={nombre:i.name,tamano:i.size,tipo:c,ultimaModificacion:new Date(i.lastModified),archivo:i},this.leerArchivo(i)}leerArchivo(i){this.procesando=!0;let a=new FileReader;a.onload=c=>{try{let g=new Uint8Array(c.target.result),D=G(g,{type:"array"}),J=D.Sheets[D.SheetNames[0]],E=h.sheet_to_json(J,{header:1});if(E.length<2){alert("El archivo esta vacio o no tiene datos"),this.procesando=!1;return}this.columnasDetectadas=E[0],this.validarColumnas();let Q=E[0];this.datosImportados=[];for(let S=1;S<E.length;S++){let I=E[S];if(I.length===0||!I[0])continue;let k={};Q.forEach((H,K)=>{k[H]=I[K]||""}),k._fila=S+1,this.datosImportados.push(k)}console.log("Datos importados:",this.datosImportados.length,"registros"),this.procesando=!1,this.paso=2}catch(g){console.error("Error al leer archivo:",g),alert("Error al procesar el archivo. Verifique que el formato sea correcto."),this.procesando=!1}},a.readAsArrayBuffer(i)}validarColumnas(){this.columnasFaltantes=this.columnasRequeridas.filter(i=>!this.columnasDetectadas.includes(i))}eliminarArchivo(){this.archivoSeleccionado=null,this.datosImportados=[],this.columnasDetectadas=[],this.columnasFaltantes=[],this.paso=1}validarDatos(){this.procesando=!0,this.resultadosValidacion=[],setTimeout(()=>{this.datosImportados.forEach(i=>{let a={fila:i._fila,dni:i.DNI||"",nombreCompleto:`${i["Apellido Paterno"]} ${i["Apellido Materno"]}, ${i.Nombres}`,estado:"Valido",errores:[],advertencias:[],datos:i};(!i.DNI||!/^\d{8}$/.test(i.DNI))&&a.errores.push("DNI invalido (debe tener 8 digitos)"),(!i["Apellido Paterno"]||i["Apellido Paterno"].trim()==="")&&a.errores.push("Apellido Paterno es obligatorio"),(!i["Apellido Materno"]||i["Apellido Materno"].trim()==="")&&a.errores.push("Apellido Materno es obligatorio"),(!i.Nombres||i.Nombres.trim()==="")&&a.errores.push("Nombres es obligatorio");let c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;(!i.Email||!c.test(i.Email))&&a.errores.push("Email invalido"),(!i.Celular||!/^9\d{8}$/.test(i.Celular))&&a.errores.push("Celular invalido (debe empezar con 9 y tener 9 digitos)");let g=parseFloat(i["Remuneracion Basica"]);(isNaN(g)||g<1025)&&a.errores.push("Remuneracion invalida (minimo S/. 1,025)"),(!i.Telefono||i.Telefono.trim()==="")&&a.advertencias.push("Telefono fijo no proporcionado"),(!i.Direccion||i.Direccion.trim()==="")&&a.advertencias.push("Direccion no proporcionada"),a.errores.length>0?a.estado="Error":a.advertencias.length>0&&(a.estado="Advertencia"),this.resultadosValidacion.push(a)}),this.calcularResumen(),this.procesando=!1,this.paso=3},1e3)}calcularResumen(){this.resumen={totalRegistros:this.resultadosValidacion.length,registrosValidos:this.resultadosValidacion.filter(i=>i.estado==="Valido").length,registrosConError:this.resultadosValidacion.filter(i=>i.estado==="Error").length,registrosConAdvertencia:this.resultadosValidacion.filter(i=>i.estado==="Advertencia").length,fechaImportacion:new Date,archivoNombre:this.archivoSeleccionado?.nombre||""}}get resultadosFiltrados(){return this.filtroEstado==="Todos"?this.resultadosValidacion:this.resultadosValidacion.filter(i=>i.estado===this.filtroEstado)}importarDatos(){let i=this.resultadosValidacion.filter(a=>a.estado==="Valido"||a.estado==="Advertencia"&&this.configuracion.actualizarExistentes);if(i.length===0){alert("No hay registros validos para importar");return}confirm(`\xBFEsta seguro de importar ${i.length} trabajadores?`)&&(this.importando=!0,setTimeout(()=>{console.log("Importando:",i.length,"registros"),console.log("Configuracion:",this.configuracion),this.importando=!1,this.paso=4},2e3))}descargarPlantilla(){let i=[this.columnasRequeridas,["12345678","GARCIA","PEREZ","JUAN CARLOS","1985-03-15","M","987654321","jgarcia@munilima.gob.pe","Gerente Municipal","Gerencia Municipal","CAS","2025-01-15","8500","AFP Integra","Banco de la Nacion","00123456789"]],a=h.aoa_to_sheet(i),c=h.book_new();h.book_append_sheet(c,a,"Trabajadores");let g=20;a["!cols"]=this.columnasRequeridas.map(()=>({wch:g})),y(c,"Plantilla_Trabajadores_Municipalidad.xlsx")}descargarReporte(){let i=[["REPORTE DE VALIDACION - IMPORTACION DE TRABAJADORES"],[],["Archivo:",this.resumen?.archivoNombre||""],["Fecha:",new Date().toLocaleString()],[],["RESUMEN"],["Total Registros:",this.resumen?.totalRegistros||0],["Validos:",this.resumen?.registrosValidos||0],["Con Errores:",this.resumen?.registrosConError||0],["Con Advertencias:",this.resumen?.registrosConAdvertencia||0],[],["DETALLE DE VALIDACION"],["Fila","DNI","Nombre Completo","Estado","Errores","Advertencias"]];this.resultadosValidacion.forEach(g=>{i.push([g.fila.toString(),g.dni,g.nombreCompleto,g.estado,g.errores.join("; "),g.advertencias.join("; ")])});let a=h.aoa_to_sheet(i),c=h.book_new();h.book_append_sheet(c,a,"Reporte Validacion"),y(c,`Reporte_Validacion_${new Date().getTime()}.xlsx`)}siguientePaso(){this.paso===2?this.validarDatos():this.paso===3?this.importarDatos():this.paso++}pasoAnterior(){this.paso--}volverInicio(){this.paso=1,this.eliminarArchivo()}volverLista(){this.router.navigate(["/trabajadores/lista"])}formatearTamano(i){if(i===0)return"0 Bytes";let a=1024,c=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(i)/Math.log(a));return Math.round(i/Math.pow(a,g)*100)/100+" "+c[g]}getEstadoBadgeClass(i){return{Valido:"badge--valido",Error:"badge--error",Advertencia:"badge--advertencia"}[i]||""}};s.\u0275fac=function(a){return new(a||s)(V(B))},s.\u0275cmp=A({type:s,selectors:[["app-importar"]],decls:52,vars:23,consts:[[1,"importar-datos"],[1,"page-header"],[1,"page-header__left"],[1,"page-header__title-wrap"],[1,"page-title"],[1,"page-title__icon"],[1,"page-subtitle"],[1,"subtitle-dots"],[1,"subtitle-dot","subtitle-dot--1"],[1,"subtitle-dot","subtitle-dot--2"],[1,"subtitle-dot","subtitle-dot--3"],[1,"page-header__right"],[1,"btn-back",3,"click"],[1,"btn-back__icon"],[1,"btn","btn--outline",3,"click"],[1,"btn__icon"],[1,"progress-bar"],[1,"progress-bar__steps"],[1,"progress-step"],[1,"progress-step__circle"],[1,"progress-step__label"],[1,"progress-bar__line"],[1,"progress-bar__fill"],["class","step-content",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"step-content"],[1,"upload-section"],[1,"upload-instructions"],[1,"upload-instructions__title"],[1,"upload-instructions__list"],[1,"dropzone",3,"dragover","dragleave","drop"],["class","dropzone__content",4,"ngIf"],["class","file-selected",4,"ngIf"],["class","loading",4,"ngIf"],["class","columnas-info",4,"ngIf"],[1,"dropzone__content"],[1,"dropzone__icon"],[1,"dropzone__title"],[1,"dropzone__subtitle"],["type","file","id","fileInput","accept",".xlsx,.xls,.csv",1,"dropzone__input",3,"change"],["for","fileInput",1,"btn","btn--primary"],[1,"dropzone__formats"],[1,"file-selected"],[1,"file-selected__icon"],[1,"file-selected__info"],[1,"file-selected__name"],[1,"file-selected__details"],[1,"btn-remove",3,"click"],[1,"loading"],[1,"loading-spinner"],[1,"loading-text"],[1,"columnas-info"],[1,"columnas-info__box"],[1,"columnas-info__title"],[1,"columnas-grid"],["class","columna-item",4,"ngFor","ngForOf"],["class","columnas-info__box columnas-info__box--error",4,"ngIf"],[1,"columna-item"],[1,"columna-item__icon"],[1,"columna-item__name"],[1,"columnas-info__box","columnas-info__box--error"],["class","columna-item columna-item--error",4,"ngFor","ngForOf"],[1,"columnas-info__warning"],[1,"columna-item","columna-item--error"],[1,"preview-section"],[1,"preview-header"],[1,"preview-header__title"],[1,"preview-header__subtitle"],[1,"preview-table-container"],[1,"preview-table"],[4,"ngFor","ngForOf"],["class","preview-note",4,"ngIf"],[1,"configuracion-section"],[1,"configuracion-section__title"],[1,"configuracion-grid"],[1,"config-item"],["type","checkbox","id","omitirDuplicados",3,"ngModelChange","ngModel"],["for","omitirDuplicados"],["type","checkbox","id","actualizarExistentes",3,"ngModelChange","ngModel"],["for","actualizarExistentes"],["type","checkbox","id","validarReniec",3,"ngModelChange","ngModel"],["for","validarReniec"],["type","checkbox","id","enviarNotificaciones",3,"ngModelChange","ngModel"],["for","enviarNotificaciones"],["type","checkbox","id","crearUsuarios",3,"ngModelChange","ngModel"],["for","crearUsuarios"],[1,"preview-note"],[1,"validacion-section"],[1,"validacion-header"],[1,"validacion-header__title"],["class","validacion-resumen",4,"ngIf"],[1,"validacion-filtros"],[1,"filtro-btn",3,"click"],[1,"filtro-btn","filtro-btn--valido",3,"click"],[1,"filtro-btn","filtro-btn--advertencia",3,"click"],[1,"filtro-btn","filtro-btn--error",3,"click"],[1,"btn","btn--sm","btn--outline",2,"margin-left","auto",3,"click"],[1,"validacion-tabla-container"],[1,"validacion-tabla"],["class","validacion-nota",4,"ngIf"],[1,"validacion-resumen"],[1,"resumen-card","resumen-card--total"],[1,"resumen-card__icon"],[1,"resumen-card__content"],[1,"resumen-card__label"],[1,"resumen-card__value"],[1,"resumen-card","resumen-card--valido"],[1,"resumen-card","resumen-card--advertencia"],[1,"resumen-card","resumen-card--error"],[1,"badge",3,"ngClass"],[1,"problemas-list"],["class","problema problema--error",4,"ngFor","ngForOf"],["class","problema problema--warning",4,"ngFor","ngForOf"],["class","problema problema--success",4,"ngIf"],[1,"problema","problema--error"],[1,"problema__icon"],[1,"problema__text"],[1,"problema","problema--warning"],[1,"problema","problema--success"],[1,"validacion-nota"],[1,"validacion-nota__text"],[1,"confirmacion-section"],[1,"confirmacion-icon"],[1,"confirmacion-title"],[1,"confirmacion-subtitle"],["class","confirmacion-resumen",4,"ngIf"],[1,"confirmacion-acciones"],[1,"btn","btn--primary",3,"click"],[1,"confirmacion-resumen"],[1,"confirmacion-stat"],[1,"confirmacion-stat__label"],[1,"confirmacion-stat__value"],[1,"form-actions"],["type","button","class","btn btn--outline",3,"click",4,"ngIf"],["type","button","class","btn btn--ghost",3,"click",4,"ngIf"],["type","button","class","btn btn--primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn--accent",3,"disabled","click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],["type","button",1,"btn","btn--outline",3,"click"],["type","button",1,"btn","btn--ghost",3,"click"],["type","button",1,"btn","btn--primary",3,"click","disabled"],["type","button",1,"btn","btn--accent",3,"click","disabled"],[4,"ngIf"],[1,"loading-overlay"]],template:function(a,c){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"span",5),o(6,"\u{1F4E4}"),t(),o(7," Importar Trabajadores "),t(),n(8,"p",6)(9,"span",7),w(10,"span",8)(11,"span",9)(12,"span",10),t(),o(13," Carga masiva de personal desde Excel o CSV "),t()()(),n(14,"div",11)(15,"button",12),x("click",function(){return c.volverLista()}),n(16,"span",13),o(17,"\u2190"),t(),o(18," Volver a Lista "),t(),n(19,"button",14),x("click",function(){return c.descargarPlantilla()}),n(20,"span",15),o(21,"\u{1F4E5}"),t(),o(22," Descargar Plantilla "),t()()(),n(23,"div",16)(24,"div",17)(25,"div",18)(26,"div",19),o(27,"1"),t(),n(28,"span",20),o(29,"Cargar Archivo"),t()(),n(30,"div",18)(31,"div",19),o(32,"2"),t(),n(33,"span",20),o(34,"Vista Previa"),t()(),n(35,"div",18)(36,"div",19),o(37,"3"),t(),n(38,"span",20),o(39,"Validacion"),t()(),n(40,"div",18)(41,"div",19),o(42,"4"),t(),n(43,"span",20),o(44,"Confirmacion"),t()()(),n(45,"div",21),w(46,"div",22),t()(),f(47,re,27,6,"div",23)(48,se,55,8,"div",23)(49,xe,34,15,"div",23)(50,ve,14,1,"div",23)(51,we,6,5,"div",24),t()),a&2&&(l(25),b("active",c.paso>=1)("completed",c.paso>1),l(5),b("active",c.paso>=2)("completed",c.paso>2),l(5),b("active",c.paso>=3)("completed",c.paso>3),l(5),b("active",c.paso>=4)("completed",c.paso>4),l(6),z("width",(c.paso-1)/(c.totalPasos-1)*100+"%"),l(),p("ngIf",c.paso===1),l(),p("ngIf",c.paso===2),l(),p("ngIf",c.paso===3),l(),p("ngIf",c.paso===4),l(),p("ngIf",c.paso<4))},dependencies:[j,N,R,L,q,X,U,W],styles:['@charset "UTF-8";.importar-datos[_ngcontent-%COMP%]{width:100%;max-width:100%;padding-bottom:40px}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:32px;gap:20px;flex-wrap:wrap;background:#fff;border-radius:4px;border-top:4px solid #22c55e;border-left:4px solid #22c55e;padding:20px 24px;box-shadow:0 1px 3px #0000001a}[data-theme=dark][_nghost-%COMP%]   .page-header[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .page-header[_ngcontent-%COMP%]{background:var(--panel);box-shadow:0 1px 3px #0000004d}[data-theme=light][_nghost-%COMP%]   .page-header[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .page-header[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 3px #0000001a}.page-header__left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex:1}.page-header__title-wrap[_ngcontent-%COMP%]{flex:1}.page-header__right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-shrink:0}.btn-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 16px;border-radius:10px;border:1px solid var(--border);background:var(--panel-2);color:var(--text-1);font-weight:600;cursor:pointer;transition:all .2s ease}.btn-back__icon[_ngcontent-%COMP%]{font-size:18px}.btn-back[_ngcontent-%COMP%]:hover{background:var(--panel);border-color:var(--accent);color:var(--accent)}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:var(--text-1);margin:0 0 8px;display:flex;align-items:center;gap:12px}.page-title__icon[_ngcontent-%COMP%]{font-size:32px}.page-subtitle[_ngcontent-%COMP%]{font-size:15px;color:var(--text-2);margin:0;display:flex;align-items:center;gap:6px}.subtitle-dots[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:2px;margin-right:4px}.subtitle-dot[_ngcontent-%COMP%]{display:block;border-radius:50%;background:#22c55e;flex-shrink:0}.subtitle-dot--1[_ngcontent-%COMP%]{width:8px;height:8px;margin-left:0}.subtitle-dot--2[_ngcontent-%COMP%]{width:6px;height:6px;margin-left:2px}.subtitle-dot--3[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:5px}.progress-bar[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-top:4px solid #22c55e;border-radius:4px;padding:24px;margin-bottom:32px;position:relative}[data-theme=dark][_nghost-%COMP%]   .progress-bar[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:var(--panel)}[data-theme=light][_nghost-%COMP%]   .progress-bar[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:#fff}.progress-bar__steps[_ngcontent-%COMP%]{display:flex;justify-content:space-between;position:relative;z-index:2;margin-bottom:12px}.progress-bar__line[_ngcontent-%COMP%]{position:absolute;top:47px;left:24px;right:24px;height:4px;background:var(--line-soft);border-radius:2px;z-index:1}.progress-bar__fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--accent) 0%,#16a34a 100%);border-radius:2px;transition:width .4s ease;box-shadow:0 0 12px #22c55e66}.progress-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;flex:1;position:relative}.progress-step__circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:var(--panel-2);border:3px solid var(--border);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;color:var(--text-2);transition:all .3s ease;position:relative;z-index:3}.progress-step__label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-2);text-align:center;transition:color .3s ease}.progress-step.active[_ngcontent-%COMP%]   .progress-step__circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent) 0%,#16a34a 100%);border-color:var(--accent);color:#fff;box-shadow:0 0 20px #22c55e80;transform:scale(1.1)}.progress-step.active[_ngcontent-%COMP%]   .progress-step__label[_ngcontent-%COMP%]{color:var(--accent)}.progress-step.completed[_ngcontent-%COMP%]   .progress-step__circle[_ngcontent-%COMP%]{background:var(--accent);border-color:var(--accent);color:#fff}.progress-step.completed[_ngcontent-%COMP%]   .progress-step__circle[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;font-size:20px}.step-content[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:4px;padding:32px;margin-bottom:24px;min-height:400px}[data-theme=dark][_nghost-%COMP%]   .step-content[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .step-content[_ngcontent-%COMP%]{background:var(--panel)}[data-theme=light][_nghost-%COMP%]   .step-content[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .step-content[_ngcontent-%COMP%]{background:#fff}.upload-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:32px}.upload-instructions[_ngcontent-%COMP%]{background:#22c55e0d;border:1px solid rgba(34,197,94,.2);border-radius:4px;padding:24px}[data-theme=dark][_nghost-%COMP%]   .upload-instructions[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .upload-instructions[_ngcontent-%COMP%]{background:#22c55e14}[data-theme=light][_nghost-%COMP%]   .upload-instructions[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .upload-instructions[_ngcontent-%COMP%]{background:#22c55e0d}.upload-instructions__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0 0 16px}.upload-instructions__list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.upload-instructions__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0;font-size:14px;color:var(--text-2);line-height:1.5}.upload-instructions__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid rgba(34,197,94,.1)}.dropzone[_ngcontent-%COMP%]{border:3px dashed var(--border);border-radius:4px;padding:48px;text-align:center;transition:all .3s ease;background:var(--panel-2);min-height:400px;display:flex;align-items:center;justify-content:center}[data-theme=dark][_nghost-%COMP%]   .dropzone[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .dropzone[_ngcontent-%COMP%]{background:var(--panel-2)}[data-theme=light][_nghost-%COMP%]   .dropzone[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .dropzone[_ngcontent-%COMP%]{background:#fff}.dropzone.dragging[_ngcontent-%COMP%]{border-color:var(--accent);background:#22c55e0d;transform:scale(1.02)}.dropzone__content[_ngcontent-%COMP%]{width:100%}.dropzone__icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.dropzone__title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-1);margin:0 0 8px}.dropzone__subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0 0 24px}.dropzone__input[_ngcontent-%COMP%]{display:none}.dropzone__formats[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2);margin-top:12px}.file-selected[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:24px;background:#22c55e1a;border:2px solid rgba(34,197,94,.3);border-radius:12px}.file-selected__icon[_ngcontent-%COMP%]{font-size:48px}.file-selected__info[_ngcontent-%COMP%]{flex:1}.file-selected__name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin:0 0 8px}.file-selected__details[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2);margin:0}.btn-remove[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;border:none;background:#ef44441a;cursor:pointer;transition:all .2s ease;font-size:20px}.btn-remove[_ngcontent-%COMP%]:hover{background:#ef444433;transform:scale(1.1)}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0}.columnas-info[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column;gap:16px}.columnas-info__box[_ngcontent-%COMP%]{padding:20px;background:#22c55e0d;border:1px solid rgba(34,197,94,.2);border-top:4px solid #22c55e;border-radius:4px}.columnas-info__box--error[_ngcontent-%COMP%]{background:#ef44440d;border-color:#ef444433;border-top:4px solid #ef4444}[data-theme=dark][_nghost-%COMP%]   .columnas-info__box[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .columnas-info__box[_ngcontent-%COMP%]{background:#22c55e14}[data-theme=light][_nghost-%COMP%]   .columnas-info__box[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .columnas-info__box[_ngcontent-%COMP%]{background:#22c55e0d}.columnas-info__title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin:0 0 16px}.columnas-info__warning[_ngcontent-%COMP%]{margin-top:12px;padding:12px;background:#ef44441a;border-radius:8px;font-size:14px;color:var(--danger);font-weight:600}.columnas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.columna-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;background:var(--panel);border:1px solid rgba(34,197,94,.2);border-radius:8px;font-size:13px}.columna-item__icon[_ngcontent-%COMP%]{color:var(--accent);font-weight:700}.columna-item__name[_ngcontent-%COMP%]{color:var(--text-1);font-weight:500}.columna-item--error[_ngcontent-%COMP%]{border-color:#ef44444d}.columna-item--error[_ngcontent-%COMP%]   .columna-item__icon[_ngcontent-%COMP%]{color:var(--danger)}.preview-section[_ngcontent-%COMP%]{width:100%}.preview-header[_ngcontent-%COMP%]{margin-bottom:24px}.preview-header__title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-1);margin:0 0 8px}.preview-header__subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0}.preview-header__subtitle[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent);font-weight:700}.preview-table-container[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid var(--border);border-top:4px solid #22c55e;border-radius:4px;margin-bottom:16px}[data-theme=dark][_nghost-%COMP%]   .preview-table-container[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .preview-table-container[_ngcontent-%COMP%]{background:var(--panel)}[data-theme=light][_nghost-%COMP%]   .preview-table-container[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .preview-table-container[_ngcontent-%COMP%]{background:#fff}.preview-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:13px}.preview-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--panel-2)}.preview-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 14px;text-align:left;font-weight:600;color:var(--text-2);font-size:12px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--border)}.preview-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--line-soft)}.preview-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--panel-2)}.preview-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.preview-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 14px;color:var(--text-1)}.preview-note[_ngcontent-%COMP%]{text-align:center;padding:12px;background:#3b82f61a;border-radius:8px}.preview-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--text-2)}.configuracion-section[_ngcontent-%COMP%]{margin-top:32px;padding:24px;background:var(--panel);border:1px solid var(--border);border-top:4px solid #22c55e;border-radius:4px}[data-theme=dark][_nghost-%COMP%]   .configuracion-section[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .configuracion-section[_ngcontent-%COMP%]{background:var(--panel)}[data-theme=light][_nghost-%COMP%]   .configuracion-section[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .configuracion-section[_ngcontent-%COMP%]{background:#fff}.configuracion-section__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0 0 20px}.configuracion-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.config-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(--panel-2);border:1px solid var(--border);border-radius:10px;transition:all .2s ease}.config-item[_ngcontent-%COMP%]:hover{border-color:var(--accent)}.config-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:var(--accent)}.config-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--text-1);cursor:pointer;margin:0;font-weight:500}.validacion-section[_ngcontent-%COMP%]{width:100%}.validacion-header[_ngcontent-%COMP%]{margin-bottom:24px}.validacion-header__title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-1);margin:0 0 20px}.validacion-resumen[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}.resumen-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;border-radius:12px;border:2px solid}.resumen-card__icon[_ngcontent-%COMP%]{font-size:32px}.resumen-card__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.resumen-card__label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.resumen-card__value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;line-height:1}.resumen-card--total[_ngcontent-%COMP%]{background:#3b82f61a;border-color:#3b82f64d}.resumen-card--total[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#3b82f6}.resumen-card--valido[_ngcontent-%COMP%]{background:#22c55e1a;border-color:#22c55e4d}.resumen-card--valido[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:var(--accent)}.resumen-card--advertencia[_ngcontent-%COMP%]{background:#f59e0b1a;border-color:#f59e0b4d}.resumen-card--advertencia[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:var(--warn)}.resumen-card--error[_ngcontent-%COMP%]{background:#ef44441a;border-color:#ef44444d}.resumen-card--error[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:var(--danger)}.validacion-filtros[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px;flex-wrap:wrap}.filtro-btn[_ngcontent-%COMP%]{padding:10px 16px;border-radius:10px;border:1px solid var(--border);background:var(--panel-2);color:var(--text-1);font-weight:600;font-size:14px;cursor:pointer;transition:all .2s ease}.filtro-btn[_ngcontent-%COMP%]:hover{background:var(--panel);border-color:var(--accent)}.filtro-btn.active[_ngcontent-%COMP%]{background:var(--accent);border-color:var(--accent);color:#fff;box-shadow:0 0 16px #22c55e4d}.filtro-btn--valido.active[_ngcontent-%COMP%]{background:var(--accent);border-color:var(--accent)}.filtro-btn--advertencia.active[_ngcontent-%COMP%]{background:var(--warn);border-color:var(--warn)}.filtro-btn--error.active[_ngcontent-%COMP%]{background:var(--danger);border-color:var(--danger)}.validacion-tabla-container[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid var(--border);border-radius:12px;max-height:500px;overflow-y:auto}.validacion-tabla[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:13px}.validacion-tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--panel-2);position:sticky;top:0;z-index:10}.validacion-tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 14px;text-align:left;font-weight:600;color:var(--text-2);font-size:12px;text-transform:uppercase;border-bottom:2px solid var(--border)}.validacion-tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--line-soft)}.validacion-tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--panel-2)}.validacion-tabla[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px;color:var(--text-1);vertical-align:top}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:6px;font-size:12px;font-weight:600}.badge--valido[_ngcontent-%COMP%]{background:#22c55e26;color:var(--accent);border:1px solid rgba(34,197,94,.3)}.badge--advertencia[_ngcontent-%COMP%]{background:#f59e0b26;color:var(--warn);border:1px solid rgba(245,158,11,.3)}.badge--error[_ngcontent-%COMP%]{background:#ef444426;color:var(--danger);border:1px solid rgba(239,68,68,.3)}.problemas-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.problema[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:8px 10px;border-radius:6px;font-size:12px}.problema__icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:14px}.problema__text[_ngcontent-%COMP%]{flex:1;line-height:1.4}.problema--error[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.2);color:var(--danger)}.problema--warning[_ngcontent-%COMP%]{background:#f59e0b1a;border:1px solid rgba(245,158,11,.2);color:var(--warn)}.problema--success[_ngcontent-%COMP%]{background:#22c55e1a;border:1px solid rgba(34,197,94,.2);color:var(--accent)}.validacion-nota[_ngcontent-%COMP%]{margin-top:20px;padding:16px 20px;background:#f59e0b1a;border:2px solid rgba(245,158,11,.3);border-radius:12px}.validacion-nota__text[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--text-1)}.validacion-nota__text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--warn)}.confirmacion-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.confirmacion-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:24px;animation:_ngcontent-%COMP%_bounce 1s ease}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.confirmacion-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--text-1);margin:0 0 12px}.confirmacion-subtitle[_ngcontent-%COMP%]{font-size:16px;color:var(--text-2);margin:0 0 40px}.confirmacion-resumen[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%;max-width:500px;margin-bottom:40px}.confirmacion-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:16px 20px;background:var(--panel-2);border:1px solid var(--border);border-radius:10px}.confirmacion-stat__label[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);font-weight:600}.confirmacion-stat__value[_ngcontent-%COMP%]{font-size:14px;color:var(--text-1);font-weight:700}.confirmacion-acciones[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;justify-content:center}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 24px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;transition:all .2s ease;border:none;white-space:nowrap}.btn__icon[_ngcontent-%COMP%]{font-size:16px}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 0 20px #3b82f666;transform:translateY(-1px)}.btn--accent[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff}.btn--accent[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 0 20px #22c55e66;transform:translateY(-1px)}.btn--accent[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn--outline[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);color:var(--text-1)}.btn--outline[_ngcontent-%COMP%]:hover{background:var(--panel-2);border-color:var(--accent);color:var(--accent)}.btn--ghost[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-2)}.btn--ghost[_ngcontent-%COMP%]:hover{background:var(--panel-2);color:var(--text-1)}.btn--sm[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:24px 32px;background:var(--panel);border:1px solid var(--border);border-radius:16px;flex-wrap:wrap;position:relative}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:140px}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0b1220f2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;border-radius:16px;z-index:100}@media (max-width: 1200px){.upload-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.validacion-resumen[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header__left[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:stretch}.page-header__right[_ngcontent-%COMP%]{width:100%}.btn-back[_ngcontent-%COMP%]{width:100%;justify-content:center}.progress-bar[_ngcontent-%COMP%]{padding:16px}.progress-bar__steps[_ngcontent-%COMP%]{gap:8px}.progress-bar__line[_ngcontent-%COMP%]{display:none}.progress-step__circle[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px}.progress-step__label[_ngcontent-%COMP%]{font-size:11px}.step-content[_ngcontent-%COMP%]{padding:20px}.dropzone[_ngcontent-%COMP%]{padding:32px 20px}.validacion-resumen[_ngcontent-%COMP%]{grid-template-columns:1fr}.validacion-filtros[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.validacion-filtros[_ngcontent-%COMP%]   .filtro-btn[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{padding:16px;flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.confirmacion-acciones[_ngcontent-%COMP%]{flex-direction:column;width:100%}.confirmacion-acciones[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}[data-theme=light][_nghost-%COMP%]   .upload-instructions[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .upload-instructions[_ngcontent-%COMP%]{background:#2563eb0d;border-color:#2563eb33}[data-theme=light][_nghost-%COMP%]   .file-selected[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .file-selected[_ngcontent-%COMP%]{background:#2563eb1a;border-color:#2563eb4d}[data-theme=light][_nghost-%COMP%]   .resumen-card--valido[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .resumen-card--valido[_ngcontent-%COMP%]{background:#2563eb1a;border-color:#2563eb4d}[data-theme=light][_nghost-%COMP%]   .resumen-card--valido[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .resumen-card--valido[_ngcontent-%COMP%]   .resumen-card__value[_ngcontent-%COMP%]{color:#2563eb}']});let r=s;return r})();export{Fe as ImportarComponent};
