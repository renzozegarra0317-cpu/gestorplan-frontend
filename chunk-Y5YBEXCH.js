import{a as P}from"./chunk-MPWYS2KC.js";import{$a as q,Aa as N,Ba as W,Ca as D,Ea as U,Fa as r,Ga as v,Gb as ce,Ha as O,Ia as B,Ib as se,L as d,La as g,Ma as p,Na as _,Oa as z,Qb as le,Ra as j,Rb as de,Sa as X,T as I,Ta as G,Ub as me,V as Z,Xb as ue,Za as R,Zb as ge,_ as w,_a as H,a as F,ab as Y,b as L,bc as pe,cc as _e,d as Q,dc as Ce,ec as fe,fa as C,fc as xe,ga as n,gb as $,gc as he,h as T,ha as i,ia as E,ic as be,kc as ve,lb as ee,mb as te,nb as ne,pa as b,qb as ie,sa as u,sb as oe,ta as c,tb as ae,v as s,w as l,x as V,y as A,zb as re}from"./chunk-KKTR3JM6.js";var J={planillas:{monedaPorDefecto:"PEN",simboloMoneda:"S/.",tipoCambio:3.75,actualizarTipoCambioAuto:!0,diasDelMes:30,horasPorDia:8,redondeoDecimales:2,redondeoTipo:"normal",conceptosFijos:[],formulas:[],calcularHorasExtrasAuto:!0,aplicarRetencionAutomatica:!0,generarBoletasAuto:!0,diaCierrePlanilla:25,diaPagoPlanilla:30,afpPorDefecto:"PRIMA",comisionAFP:{},porcentajeONP:13,montoAsignacionFamiliar:102.5,permitirPlanillasCerradas:!1,historicoMesesMaximo:12}},Me=["PRIMA","INTEGRA","PROFUTURO","HABITAT"],we=["Banco de la Naci\xF3n","BCP","Interbank","BBVA","Scotiabank","Banco Pichincha"],Ee=[{codigo:"PEN",nombre:"Soles",simbolo:"S/."},{codigo:"USD",nombre:"D\xF3lares",simbolo:"$"}];var Se=()=>({updateOn:"blur"}),Oe=(m,f)=>({"role-card--super":m,"role-card--admin":f}),ye=()=>({}),Ve=(m,f)=>({"rol-badge--superadmin":m,"rol-badge--admin":f}),De=m=>({username:m});function Te(m,f){if(m&1){let t=b();n(0,"div",37)(1,"div",38),r(2,"\u26A0\uFE0F"),i(),n(3,"div",39)(4,"strong"),r(5,"Hay cambios sin guardar"),i(),n(6,"p"),r(7,"Recuerde guardar los cambios antes de salir de esta secci\xF3n"),i()(),n(8,"div",40)(9,"button",41),u("click",function(){s(t);let e=c();return l(e.cancelarCambios())}),r(10,"Cancelar"),i()()()}}function ke(m,f){if(m&1){let t=b();n(0,"button",42),u("click",function(){let e=s(t).$implicit,a=c();return l(a.cambiarTab(e.id))}),n(1,"span",43),r(2),i(),n(3,"span",44),r(4),i()()}if(m&2){let t=f.$implicit,o=c();D("active",o.tabActiva===t.id),d(2),v(t.icon),d(2),v(t.nombre)}}function Fe(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F3E2} Datos de la Empresa/Municipalidad"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F4CB} Informaci\xF3n General"),i(),n(6,"div",49)(7,"div",50)(8,"label",51),r(9,"Raz\xF3n Social *"),i(),n(10,"input",52),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.razonSocial,e)||(a.configuracion.empresa.razonSocial=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(11,"div",53)(12,"label",51),r(13,"Nombre Comercial"),i(),n(14,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.nombreComercial,e)||(a.configuracion.empresa.nombreComercial=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(15,"div",53)(16,"label",51),r(17,"RUC *"),i(),n(18,"input",55),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.ruc,e)||(a.configuracion.empresa.ruc=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(19,"div",50)(20,"label",51),r(21,"Direcci\xF3n"),i(),n(22,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.direccion,e)||(a.configuracion.empresa.direccion=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(23,"div",53)(24,"label",51),r(25,"Distrito"),i(),n(26,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.distrito,e)||(a.configuracion.empresa.distrito=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(27,"div",53)(28,"label",51),r(29,"Provincia"),i(),n(30,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.provincia,e)||(a.configuracion.empresa.provincia=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(31,"div",53)(32,"label",51),r(33,"Departamento"),i(),n(34,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.departamento,e)||(a.configuracion.empresa.departamento=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(35,"div",53)(36,"label",51),r(37,"Pa\xEDs"),i(),n(38,"input",56),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.pais,e)||(a.configuracion.empresa.pais=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()(),n(39,"div",47)(40,"h3",48),r(41,"\u{1F4DE} Contacto"),i(),n(42,"div",49)(43,"div",53)(44,"label",51),r(45,"Tel\xE9fono"),i(),n(46,"input",57),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.telefono,e)||(a.configuracion.empresa.telefono=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(47,"div",53)(48,"label",51),r(49,"Celular"),i(),n(50,"input",58),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.celular,e)||(a.configuracion.empresa.celular=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(51,"div",53)(52,"label",51),r(53,"Email"),i(),n(54,"input",59),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.email,e)||(a.configuracion.empresa.email=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(55,"div",53)(56,"label",51),r(57,"Sitio Web"),i(),n(58,"input",60),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.web,e)||(a.configuracion.empresa.web=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()(),n(59,"div",47)(60,"h3",48),r(61,"\u{1F465} Autoridades"),i(),n(62,"div",49)(63,"div",53)(64,"label",51),r(65,"Alcalde"),i(),n(66,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.alcalde,e)||(a.configuracion.empresa.alcalde=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(67,"div",53)(68,"label",51),r(69,"Gerente Municipal"),i(),n(70,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.gerenteMunicipal,e)||(a.configuracion.empresa.gerenteMunicipal=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(71,"div",53)(72,"label",51),r(73,"Gerente de RRHH"),i(),n(74,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.gerenteRRHH,e)||(a.configuracion.empresa.gerenteRRHH=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(75,"div",53)(76,"label",51),r(77,"Periodo de Gesti\xF3n"),i(),n(78,"input",61),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.periodoGestion,e)||(a.configuracion.empresa.periodoGestion=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()(),n(79,"div",47)(80,"h3",48),r(81,"\u{1F4C4} Informaci\xF3n Legal"),i(),n(82,"div",49)(83,"div",53)(84,"label",51),r(85,"Actividad Econ\xF3mica"),i(),n(86,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.actividadEconomica,e)||(a.configuracion.empresa.actividadEconomica=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(87,"div",53)(88,"label",51),r(89,"C\xF3digo CIIU"),i(),n(90,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.codigoCIIU,e)||(a.configuracion.empresa.codigoCIIU=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(91,"div",53)(92,"label",51),r(93,"Tipo de Contribuyente"),i(),n(94,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.tipoContribuyente,e)||(a.configuracion.empresa.tipoContribuyente=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(95,"div",53)(96,"label",51),r(97,"R\xE9gimen Tributario"),i(),n(98,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.empresa.regimenTributario,e)||(a.configuracion.empresa.regimenTributario=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.empresa.razonSocial),d(4),g("ngModel",t.configuracion.empresa.nombreComercial),d(4),g("ngModel",t.configuracion.empresa.ruc),d(4),g("ngModel",t.configuracion.empresa.direccion),d(4),g("ngModel",t.configuracion.empresa.distrito),d(4),g("ngModel",t.configuracion.empresa.provincia),d(4),g("ngModel",t.configuracion.empresa.departamento),d(4),g("ngModel",t.configuracion.empresa.pais),d(8),g("ngModel",t.configuracion.empresa.telefono),d(4),g("ngModel",t.configuracion.empresa.celular),d(4),g("ngModel",t.configuracion.empresa.email),d(4),g("ngModel",t.configuracion.empresa.web),d(8),g("ngModel",t.configuracion.empresa.alcalde),d(4),g("ngModel",t.configuracion.empresa.gerenteMunicipal),d(4),g("ngModel",t.configuracion.empresa.gerenteRRHH),d(4),g("ngModel",t.configuracion.empresa.periodoGestion),d(8),g("ngModel",t.configuracion.empresa.actividadEconomica),d(4),g("ngModel",t.configuracion.empresa.codigoCIIU),d(4),g("ngModel",t.configuracion.empresa.tipoContribuyente),d(4),g("ngModel",t.configuracion.empresa.regimenTributario)}}function Ae(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F4B0} Configuraci\xF3n de Planillas"),i(),n(3,"div",62)(4,"div",63),r(5,"\u{1F4A1}"),i(),n(6,"div",64)(7,"strong"),r(8,"Importante:"),i(),r(9," Los porcentajes de AFP, ONP, Asignaci\xF3n Familiar y descuentos se configuran en la pesta\xF1a "),n(10,"strong"),r(11,'"\u{1F4CA} Tasas y Conceptos"'),i(),r(12," para mejor control y trazabilidad. "),i()(),n(13,"div",47)(14,"h3",48),r(15,"\u{1F9EE} Par\xE1metros de C\xE1lculo"),i(),n(16,"div",49)(17,"div",53)(18,"label",51),r(19," D\xEDas del Mes "),n(20,"span",65),r(21,"\u2139\uFE0F"),i()(),n(22,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.diasDelMes,e)||(a.configuracion.planillas.diasDelMes=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(23,"option",67),r(24,"30 d\xEDas (Est\xE1ndar)"),i(),n(25,"option",68),r(26,"D\xEDas reales del mes"),i()(),n(27,"small",69)(28,"strong"),r(29,"Ejemplo:"),i(),r(30," Sueldo S/.3,000 por 15 d\xEDas \u2192 Con 30 d\xEDas: S/.1,500.00 | Con d\xEDas reales (31): S/.1,451.61 "),i()(),n(31,"div",53)(32,"label",51),r(33," Horas por D\xEDa Laboral "),n(34,"span",70),r(35,"\u2139\uFE0F"),i()(),n(36,"input",71),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.horasPorDia,e)||(a.configuracion.planillas.horasPorDia=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(37,"small",69),r(38,"Usado para calcular pago por hora y horas extras"),i()(),n(39,"div",53)(40,"label",51),r(41," Decimales en Montos "),n(42,"span",72),r(43,"\u2139\uFE0F"),i()(),n(44,"input",73),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.redondeoDecimales,e)||(a.configuracion.planillas.redondeoDecimales=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(45,"small",69),r(46,"Recomendado: 2 decimales (S/. 1,234.56)"),i()(),n(47,"div",53)(48,"label",51),r(49," Tipo de Redondeo "),n(50,"span",74),r(51,"\u2139\uFE0F"),i()(),n(52,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.redondeoTipo,e)||(a.configuracion.planillas.redondeoTipo=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(53,"option",75),r(54,"Normal (Matem\xE1tico)"),i(),n(55,"option",76),r(56,"Siempre hacia arriba"),i(),n(57,"option",77),r(58,"Siempre hacia abajo"),i()(),n(59,"small",69),r(60,"Normal redondea S/. 10.125 \u2192 S/. 10.13"),i()()()(),n(61,"div",47)(62,"h3",48),r(63,"\u{1F4C5} Fechas Importantes"),i(),n(64,"div",49)(65,"div",53)(66,"label",51),r(67," D\xEDa de Cierre de Planilla "),n(68,"span",78),r(69,"\u2139\uFE0F"),i()(),n(70,"input",79),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.diaCierrePlanilla,e)||(a.configuracion.planillas.diaCierrePlanilla=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(71,"small",69),r(72," Ej: "),n(73,"strong"),r(74,"25"),i(),r(75," = La planilla se cierra el d\xEDa 25 de cada mes "),i()(),n(76,"div",53)(77,"label",51),r(78," D\xEDa de Pago de Planilla "),n(79,"span",80),r(80,"\u2139\uFE0F"),i()(),n(81,"input",79),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.diaPagoPlanilla,e)||(a.configuracion.planillas.diaPagoPlanilla=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(82,"small",69),r(83," Ej: "),n(84,"strong"),r(85,"30"),i(),r(86," = El pago se efect\xFAa el d\xEDa 30 de cada mes "),i()()()(),n(87,"div",47)(88,"h3",48),r(89,"\u2699\uFE0F Automatizaci\xF3n de Procesos"),i(),n(90,"div",81)(91,"label",82)(92,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.calcularHorasExtrasAuto,e)||(a.configuracion.planillas.calcularHorasExtrasAuto=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(93,"span")(94,"strong"),r(95,"Calcular horas extras autom\xE1ticamente"),i(),n(96,"small",84),r(97," El sistema detecta y calcula autom\xE1ticamente las horas extras seg\xFAn asistencias "),i()()(),n(98,"label",82)(99,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.aplicarRetencionAutomatica,e)||(a.configuracion.planillas.aplicarRetencionAutomatica=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(100,"span")(101,"strong"),r(102,"Aplicar descuentos autom\xE1ticamente"),i(),n(103,"small",84),r(104," Aplica descuentos por tardanzas, faltas y otros seg\xFAn las tasas configuradas "),i()()(),n(105,"label",82)(106,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.planillas.generarBoletasAuto,e)||(a.configuracion.planillas.generarBoletasAuto=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(107,"span")(108,"strong"),r(109,"Generar boletas autom\xE1ticamente"),i(),n(110,"small",84),r(111," Crea autom\xE1ticamente las boletas de pago al cerrar la planilla mensual "),i()()()()()()}if(m&2){let t=c();d(22),g("ngModel",t.configuracion.planillas.diasDelMes),d(),C("value",30),d(13),g("ngModel",t.configuracion.planillas.horasPorDia),d(8),g("ngModel",t.configuracion.planillas.redondeoDecimales),d(8),g("ngModel",t.configuracion.planillas.redondeoTipo),d(18),g("ngModel",t.configuracion.planillas.diaCierrePlanilla),d(11),g("ngModel",t.configuracion.planillas.diaPagoPlanilla),d(11),g("ngModel",t.configuracion.planillas.calcularHorasExtrasAuto),d(7),g("ngModel",t.configuracion.planillas.aplicarRetencionAutomatica),d(7),g("ngModel",t.configuracion.planillas.generarBoletasAuto)}}function Ie(m,f){if(m&1&&(n(0,"h3",99)(1,"span",100),r(2),i(),r(3),i()),m&2){let t=c().$implicit;d(2),O(" ",t==="AFP"||t==="AFP - Fondo de Pensiones"?"\u{1F3E6}":t==="ONP"||t==="ONP - Sistema de Pensiones"?"\u{1F3DB}\uFE0F":t==="EsSalud"||t==="Salud"?"\u{1F3E5}":t==="Renta"||t==="Renta de 5ta Categor\xEDa"?"\u{1F4BC}":t==="APORTES"||t==="Aportes"?"\u{1F4B0}":t==="SCTR"?"\u{1F6E1}\uFE0F":t==="SEGUROS"?"\u{1F512}":"\u{1F4CC}"," "),d(),O(" ",t," ")}}function We(m,f){if(m&1){let t=b();n(0,"div",101)(1,"span",100),r(2),i(),n(3,"input",102,1),_("ngModelChange",function(e){s(t);let a=c(3);return p(a.categoriaNombreEditando,e)||(a.categoriaNombreEditando=e),l(e)}),u("keyup.enter",function(){s(t);let e=c().$implicit,a=c(2);return l(a.guardarNombreCategoria(e))})("keyup.escape",function(){s(t);let e=c(3);return l(e.cancelarEdicionCategoria())})("focus",function(){s(t);let e=N(4);return l(e.select())}),i(),n(5,"button",103),u("click",function(){s(t);let e=c().$implicit,a=c(2);return l(a.guardarNombreCategoria(e))}),r(6),i(),n(7,"button",104),u("click",function(){s(t);let e=c(3);return l(e.cancelarEdicionCategoria())}),r(8," \u2715 "),i()()}if(m&2){let t=c().$implicit,o=c(2);d(2),O(" ",t==="AFP"||t==="AFP - Fondo de Pensiones"?"\u{1F3E6}":t==="ONP"||t==="ONP - Sistema de Pensiones"?"\u{1F3DB}\uFE0F":t==="EsSalud"||t==="Salud"?"\u{1F3E5}":t==="Renta"||t==="Renta de 5ta Categor\xEDa"?"\u{1F4BC}":t==="APORTES"||t==="Aportes"?"\u{1F4B0}":t==="SCTR"?"\u{1F6E1}\uFE0F":t==="SEGUROS"?"\u{1F512}":"\u{1F4CC}"," "),d(),g("ngModel",o.categoriaNombreEditando),C("disabled",o.guardandoNombreCategoria),d(2),C("disabled",o.guardandoNombreCategoria||!o.categoriaNombreEditando.trim()),d(),O(" ",o.guardandoNombreCategoria?"\u23F3":"\u2713"," "),d(),C("disabled",o.guardandoNombreCategoria)}}function Re(m,f){if(m&1){let t=b();n(0,"button",105),u("click",function(){s(t);let e=c().$implicit,a=c(2);return l(a.iniciarEdicionCategoria(e))}),r(1," \u270F\uFE0F Editar "),i()}}function Le(m,f){if(m&1&&(n(0,"small",129),r(1),i()),m&2){let t=c().$implicit;d(),v(t.Descripcion)}}function Ne(m,f){if(m&1&&(n(0,"small",130)(1,"span",122),r(2,"Hasta:"),i(),r(3),R(4,"date"),i()),m&2){let t=c().$implicit;d(3),O(" ",q(4,1,t.FechaVigenciaFin,"dd/MM/yyyy")," ")}}function Ue(m,f){m&1&&(n(0,"small",131)(1,"span",122),r(2,"Vigencia:"),i(),r(3," Indefinida "),i())}function Be(m,f){if(m&1){let t=b();n(0,"tr",114)(1,"td")(2,"code",115),r(3),i()(),n(4,"td")(5,"div",116)(6,"span",117),r(7),i(),w(8,Le,2,1,"small",118),i()(),n(9,"td")(10,"span",119),r(11),i()(),n(12,"td")(13,"span"),r(14),i()(),n(15,"td")(16,"div",120)(17,"small",121)(18,"span",122),r(19,"Desde:"),i(),r(20),R(21,"date"),i(),w(22,Ne,5,4,"small",123)(23,Ue,4,0,"small",124),i()(),n(24,"td")(25,"span",125),r(26),i()(),n(27,"td")(28,"div",126)(29,"button",127),u("click",function(){let e=s(t).$implicit,a=c(4);return l(a.editarTasa(e))}),r(30," \u270F\uFE0F "),i(),n(31,"button",128),u("click",function(){let e=s(t).$implicit,a=c(4);return l(a.eliminarTasa(e))}),r(32," \u{1F5D1}\uFE0F "),i()()()()}if(m&2){let t=f.$implicit,o=c(4);d(3),v(t.Codigo),d(4),v(t.Nombre),d(),C("ngIf",t.Descripcion),d(3),v(o.formatearValorTasa(t.Valor,t.TipoValor)),d(2),U(z("badge badge--",t.TipoValor==="Porcentaje"?"info":t.TipoValor==="Monto"?"success":t.TipoValor==="Cantidad"?"warning":"secondary")),d(),O(" ",t.TipoValor," "),d(6),O(" ",q(21,16,t.FechaVigenciaInicio,"dd/MM/yyyy")," "),d(2),C("ngIf",t.FechaVigenciaFin),d(),C("ngIf",!t.FechaVigenciaFin),d(2),D("badge--success",t.Activo)("badge--danger",!t.Activo),d(),O(" ",t.Activo?"\u2713 Activo":"\u2717 Inactivo"," ")}}function ze(m,f){if(m&1&&(n(0,"div",106)(1,"table",107)(2,"thead")(3,"tr")(4,"th",108),r(5,"C\xF3digo"),i(),n(6,"th",109),r(7,"Nombre"),i(),n(8,"th",110),r(9,"Valor"),i(),n(10,"th",111),r(11,"Tipo"),i(),n(12,"th",112),r(13,"Vigencia"),i(),n(14,"th",111),r(15,"Estado"),i(),n(16,"th",111),r(17,"Acciones"),i()()(),n(18,"tbody"),w(19,Be,33,19,"tr",113),i()()()),m&2){let t=c().$implicit,o=c(2);d(19),C("ngForOf",o.tasasCategorizadas[t])}}function je(m,f){m&1&&(n(0,"div",132)(1,"div",133),r(2,"\u{1F4ED}"),i(),n(3,"p",134),r(4,"No hay tasas en esta categor\xEDa"),i()())}function Ge(m,f){if(m&1&&(n(0,"div",90)(1,"div",91)(2,"div",92),w(3,Ie,4,2,"h3",93)(4,We,9,6,"div",94)(5,Re,2,0,"button",95),n(6,"span",96),r(7),i()()(),w(8,ze,20,1,"div",97)(9,je,5,0,"div",98),i()),m&2){let t=f.$implicit,o=c(2);d(3),C("ngIf",o.categoriaEditando!==t),d(),C("ngIf",o.categoriaEditando===t),d(),C("ngIf",o.categoriaEditando!==t),d(2),O("",o.tasasCategorizadas[t].length," tasa(s)"),d(),C("ngIf",o.tasasCategorizadas[t].length>0),d(),C("ngIf",o.tasasCategorizadas[t].length===0)}}function He(m,f){if(m&1){let t=b();n(0,"div",85)(1,"div",5)(2,"div",6)(3,"h1",7)(4,"span",8),r(5,"\u{1F4CA}"),i(),r(6," Tasas y Conceptos Configurables "),i(),n(7,"p",9),r(8,"Gesti\xF3n de tasas para c\xE1lculos de planilla"),i()(),n(9,"div",14)(10,"button",15),u("click",function(){s(t);let e=c();return l(e.cargarTasas())}),r(11," \u{1F504} Actualizar "),i(),n(12,"button",86),u("click",function(){s(t);let e=c();return l(e.nuevaTasa())}),r(13," \u2795 Nueva Tasa "),i()()(),n(14,"div",62)(15,"div",63),r(16,"\u2139\uFE0F"),i(),n(17,"div",64)(18,"strong"),r(19,"Informaci\xF3n Importante"),i(),n(20,"ul",87)(21,"li"),r(22,"Las tasas configurables se utilizan autom\xE1ticamente en los c\xE1lculos de planilla."),i(),n(23,"li"),r(24,"Los cambios afectan solo a las planillas futuras, no a las ya generadas."),i(),n(25,"li"),r(26,"Las tasas pueden tener vigencia temporal usando las fechas de inicio y fin."),i(),n(27,"li"),r(28,"El sistema selecciona autom\xE1ticamente la tasa vigente seg\xFAn la fecha actual."),i()()()(),n(29,"div",88),w(30,Ge,10,6,"div",89),i()()}if(m&2){let t=c();d(30),C("ngForOf",t.Object.keys(t.tasasCategorizadas))}}function qe(m,f){if(m&1&&(n(0,"option",67),r(1),i()),m&2){let t=f.$implicit;C("value",t),d(),v(t)}}function Ye(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F381} Configuraci\xF3n de Beneficios"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F4B0} CTS (Compensaci\xF3n por Tiempo de Servicios)"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Tasa de Inter\xE9s (%)"),i(),n(10,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.tasaInteres,e)||(a.configuracion.beneficios.cts.tasaInteres=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(11,"div",53)(12,"label",51),r(13,"Banco Depositario"),i(),n(14,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.bancoDepositario,e)||(a.configuracion.beneficios.cts.bancoDepositario=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),w(15,qe,2,2,"option",136),i()(),n(16,"div",53)(17,"label",51),r(18,"D\xEDas por A\xF1o"),i(),n(19,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.diasPorAnio,e)||(a.configuracion.beneficios.cts.diasPorAnio=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(20,"div",53)(21,"label",51),r(22,"Meses Promedio Horas Extras"),i(),n(23,"input",138),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.mesesPromedioHorasExtras,e)||(a.configuracion.beneficios.cts.mesesPromedioHorasExtras=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(24,"div",53)(25,"label",51),r(26,"D\xEDa Dep\xF3sito Mayo"),i(),n(27,"input",79),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.fechaDepositoMayo,e)||(a.configuracion.beneficios.cts.fechaDepositoMayo=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(28,"div",53)(29,"label",51),r(30,"D\xEDa Dep\xF3sito Noviembre"),i(),n(31,"input",79),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.fechaDepositoNoviembre,e)||(a.configuracion.beneficios.cts.fechaDepositoNoviembre=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(32,"div",50)(33,"label",82)(34,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.incluirGratificacionesEnCalculo,e)||(a.configuracion.beneficios.cts.incluirGratificacionesEnCalculo=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(35,"span"),r(36,"Incluir gratificaciones en el c\xE1lculo"),i()()(),n(37,"div",50)(38,"label",82)(39,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.incluirHorasExtrasEnCalculo,e)||(a.configuracion.beneficios.cts.incluirHorasExtrasEnCalculo=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(40,"span"),r(41,"Incluir horas extras en el c\xE1lculo"),i()()(),n(42,"div",50)(43,"label",82)(44,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.cts.generarDepositosAuto,e)||(a.configuracion.beneficios.cts.generarDepositosAuto=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(45,"span"),r(46,"Generar dep\xF3sitos autom\xE1ticamente"),i()()()()(),n(47,"div",47)(48,"h3",48),r(49,"\u{1F381} Gratificaciones"),i(),n(50,"div",49)(51,"div",53)(52,"label",51),r(53,"Bonificaci\xF3n Extraordinaria (%)"),i(),n(54,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.gratificaciones.porcentajeBonificacionExtraordinaria,e)||(a.configuracion.beneficios.gratificaciones.porcentajeBonificacionExtraordinaria=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(55,"div",53)(56,"label",51),r(57,"Mes Gratificaci\xF3n Julio"),i(),n(58,"input",138),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.gratificaciones.mesGratificacionJulio,e)||(a.configuracion.beneficios.gratificaciones.mesGratificacionJulio=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(59,"div",53)(60,"label",51),r(61,"Mes Gratificaci\xF3n Diciembre"),i(),n(62,"input",138),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.gratificaciones.mesGratificacionDiciembre,e)||(a.configuracion.beneficios.gratificaciones.mesGratificacionDiciembre=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(63,"div",50)(64,"label",82)(65,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.gratificaciones.aplicarRetencionRenta,e)||(a.configuracion.beneficios.gratificaciones.aplicarRetencionRenta=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(66,"span"),r(67,"Aplicar retenci\xF3n de renta 5ta"),i()()()()(),n(68,"div",47)(69,"h3",48),r(70,"\u{1F3D6}\uFE0F Vacaciones"),i(),n(71,"div",49)(72,"div",53)(73,"label",51),r(74,"D\xEDas por A\xF1o"),i(),n(75,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.diasPorAnio,e)||(a.configuracion.beneficios.vacaciones.diasPorAnio=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(76,"div",53)(77,"label",51),r(78,"D\xEDas M\xEDnimo Continuo"),i(),n(79,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.diasMinimoContinuo,e)||(a.configuracion.beneficios.vacaciones.diasMinimoContinuo=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(80,"div",53)(81,"label",51),r(82,"D\xEDas M\xE1ximo Fraccionamiento"),i(),n(83,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.diasMaximoFraccionamiento,e)||(a.configuracion.beneficios.vacaciones.diasMaximoFraccionamiento=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(84,"div",53)(85,"label",51),r(86,"D\xEDas Anticipaci\xF3n Solicitud"),i(),n(87,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.diasAnticipacionSolicitud,e)||(a.configuracion.beneficios.vacaciones.diasAnticipacionSolicitud=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(88,"div",53)(89,"label",51),r(90,"A\xF1os M\xE1ximos Acumulaci\xF3n"),i(),n(91,"input",139),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.aniosMaximosAcumulacion,e)||(a.configuracion.beneficios.vacaciones.aniosMaximosAcumulacion=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(92,"div",50)(93,"label",82)(94,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.permitirFraccionamiento,e)||(a.configuracion.beneficios.vacaciones.permitirFraccionamiento=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(95,"span"),r(96,"Permitir fraccionamiento de vacaciones"),i()()(),n(97,"div",50)(98,"label",82)(99,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.permitirAcumulacion,e)||(a.configuracion.beneficios.vacaciones.permitirAcumulacion=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(100,"span"),r(101,"Permitir acumulaci\xF3n de vacaciones"),i()()(),n(102,"div",50)(103,"label",82)(104,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.vacaciones.generarRecordAutomatico,e)||(a.configuracion.beneficios.vacaciones.generarRecordAutomatico=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(105,"span"),r(106,"Generar record vacacional autom\xE1tico"),i()()()()(),n(107,"div",47)(108,"h3",48),r(109,"\u{1F4BC} Utilidades"),i(),n(110,"div",49)(111,"div",53)(112,"label",51),r(113,"% Distribuci\xF3n a Trabajadores"),i(),n(114,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.utilidades.porcentajeDistribucionTrabajadores,e)||(a.configuracion.beneficios.utilidades.porcentajeDistribucionTrabajadores=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(115,"div",53)(116,"label",51),r(117,"% Por D\xEDas"),i(),n(118,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.utilidades.porcentajePorDias,e)||(a.configuracion.beneficios.utilidades.porcentajePorDias=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(119,"div",53)(120,"label",51),r(121,"% Por Remuneraci\xF3n"),i(),n(122,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.utilidades.porcentajePorRemuneracion,e)||(a.configuracion.beneficios.utilidades.porcentajePorRemuneracion=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(123,"div",53)(124,"label",51),r(125,"D\xEDas A\xF1o Completo"),i(),n(126,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.utilidades.diasAnioCompleto,e)||(a.configuracion.beneficios.utilidades.diasAnioCompleto=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(127,"div",50)(128,"label",82)(129,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.beneficios.utilidades.aplicarRenta5ta,e)||(a.configuracion.beneficios.utilidades.aplicarRenta5ta=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(130,"span"),r(131,"Aplicar Renta 5ta Categor\xEDa"),i()()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.beneficios.cts.tasaInteres),d(4),g("ngModel",t.configuracion.beneficios.cts.bancoDepositario),d(),C("ngForOf",t.bancosDisponibles),d(4),g("ngModel",t.configuracion.beneficios.cts.diasPorAnio),d(4),g("ngModel",t.configuracion.beneficios.cts.mesesPromedioHorasExtras),d(4),g("ngModel",t.configuracion.beneficios.cts.fechaDepositoMayo),d(4),g("ngModel",t.configuracion.beneficios.cts.fechaDepositoNoviembre),d(3),g("ngModel",t.configuracion.beneficios.cts.incluirGratificacionesEnCalculo),d(5),g("ngModel",t.configuracion.beneficios.cts.incluirHorasExtrasEnCalculo),d(5),g("ngModel",t.configuracion.beneficios.cts.generarDepositosAuto),d(10),g("ngModel",t.configuracion.beneficios.gratificaciones.porcentajeBonificacionExtraordinaria),d(4),g("ngModel",t.configuracion.beneficios.gratificaciones.mesGratificacionJulio),d(4),g("ngModel",t.configuracion.beneficios.gratificaciones.mesGratificacionDiciembre),d(3),g("ngModel",t.configuracion.beneficios.gratificaciones.aplicarRetencionRenta),d(10),g("ngModel",t.configuracion.beneficios.vacaciones.diasPorAnio),d(4),g("ngModel",t.configuracion.beneficios.vacaciones.diasMinimoContinuo),d(4),g("ngModel",t.configuracion.beneficios.vacaciones.diasMaximoFraccionamiento),d(4),g("ngModel",t.configuracion.beneficios.vacaciones.diasAnticipacionSolicitud),d(4),g("ngModel",t.configuracion.beneficios.vacaciones.aniosMaximosAcumulacion),d(3),g("ngModel",t.configuracion.beneficios.vacaciones.permitirFraccionamiento),d(5),g("ngModel",t.configuracion.beneficios.vacaciones.permitirAcumulacion),d(5),g("ngModel",t.configuracion.beneficios.vacaciones.generarRecordAutomatico),d(10),g("ngModel",t.configuracion.beneficios.utilidades.porcentajeDistribucionTrabajadores),d(4),g("ngModel",t.configuracion.beneficios.utilidades.porcentajePorDias),d(4),g("ngModel",t.configuracion.beneficios.utilidades.porcentajePorRemuneracion),d(4),g("ngModel",t.configuracion.beneficios.utilidades.diasAnioCompleto),d(3),g("ngModel",t.configuracion.beneficios.utilidades.aplicarRenta5ta)}}function Je(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F4C5} Configuraci\xF3n de Asistencia"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u23F0 Tolerancias"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Minutos Tolerancia Tardanza"),i(),n(10,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.minutosToleranciaTardanza,e)||(a.configuracion.asistencia.minutosToleranciaTardanza=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(11,"div",53)(12,"label",51),r(13,"Tardanzas M\xE1ximas por Mes"),i(),n(14,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.tardanzasMaximasMes,e)||(a.configuracion.asistencia.tardanzasMaximasMes=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(15,"div",53)(16,"label",51),r(17,"Faltas M\xE1ximas por Mes"),i(),n(18,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.faltasMaximasMes,e)||(a.configuracion.asistencia.faltasMaximasMes=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()(),n(19,"div",47)(20,"h3",48),r(21,"\u{1F522} Tipo de Marcaci\xF3n"),i(),n(22,"div",49)(23,"div",53)(24,"label",51),r(25,"Sistema de Marcaci\xF3n"),i(),n(26,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.tipoMarcacion,e)||(a.configuracion.asistencia.tipoMarcacion=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(27,"option",140),r(28,"Biom\xE9trico"),i(),n(29,"option",141),r(30,"Manual"),i(),n(31,"option",142),r(32,"Mixto"),i()()(),n(33,"div",50)(34,"label",82)(35,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.requiereJustificacionTardanza,e)||(a.configuracion.asistencia.requiereJustificacionTardanza=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(36,"span"),r(37,"Requiere justificaci\xF3n para tardanzas"),i()()(),n(38,"div",50)(39,"label",82)(40,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.requiereJustificacionFalta,e)||(a.configuracion.asistencia.requiereJustificacionFalta=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(41,"span"),r(42,"Requiere justificaci\xF3n para faltas"),i()()()()(),n(43,"div",47)(44,"h3",48),r(45,"\u23F1\uFE0F Horas Extras"),i(),n(46,"div",49)(47,"div",53)(48,"label",51),r(49,"Porcentaje HE al 25%"),i(),n(50,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.porcentajeHE25,e)||(a.configuracion.asistencia.porcentajeHE25=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(51,"div",53)(52,"label",51),r(53,"Porcentaje HE al 35%"),i(),n(54,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.porcentajeHE35,e)||(a.configuracion.asistencia.porcentajeHE35=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(55,"div",53)(56,"label",51),r(57,"Porcentaje HE al 100%"),i(),n(58,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.porcentajeHE100,e)||(a.configuracion.asistencia.porcentajeHE100=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(59,"div",50)(60,"label",82)(61,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.permitirHorasExtras,e)||(a.configuracion.asistencia.permitirHorasExtras=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(62,"span"),r(63,"Permitir horas extras"),i()()(),n(64,"div",50)(65,"label",82)(66,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.requiereAprobacionHE,e)||(a.configuracion.asistencia.requiereAprobacionHE=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(67,"span"),r(68,"Requiere aprobaci\xF3n de horas extras"),i()()()()(),n(69,"div",47)(70,"h3",48),r(71,"\u{1F4CA} Reportes"),i(),n(72,"div",81)(73,"label",82)(74,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.generarReportesDiarios,e)||(a.configuracion.asistencia.generarReportesDiarios=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(75,"span"),r(76,"Generar reportes diarios autom\xE1ticamente"),i()(),n(77,"label",82)(78,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.asistencia.enviarAlertasTardanzas,e)||(a.configuracion.asistencia.enviarAlertasTardanzas=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(79,"span"),r(80,"Enviar alertas de tardanzas"),i()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.asistencia.minutosToleranciaTardanza),d(4),g("ngModel",t.configuracion.asistencia.tardanzasMaximasMes),d(4),g("ngModel",t.configuracion.asistencia.faltasMaximasMes),d(8),g("ngModel",t.configuracion.asistencia.tipoMarcacion),d(9),g("ngModel",t.configuracion.asistencia.requiereJustificacionTardanza),d(5),g("ngModel",t.configuracion.asistencia.requiereJustificacionFalta),d(10),g("ngModel",t.configuracion.asistencia.porcentajeHE25),d(4),g("ngModel",t.configuracion.asistencia.porcentajeHE35),d(4),g("ngModel",t.configuracion.asistencia.porcentajeHE100),d(3),g("ngModel",t.configuracion.asistencia.permitirHorasExtras),d(5),g("ngModel",t.configuracion.asistencia.requiereAprobacionHE),d(8),g("ngModel",t.configuracion.asistencia.generarReportesDiarios),d(4),g("ngModel",t.configuracion.asistencia.enviarAlertasTardanzas)}}function Ke(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F465} Configuraci\xF3n de RRHH"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F4CA} Evaluaci\xF3n de Desempe\xF1o"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Periodo de Evaluaci\xF3n"),i(),n(10,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.rrhh.periodoEvaluacionDesempeno,e)||(a.configuracion.rrhh.periodoEvaluacionDesempeno=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(11,"option",143),r(12,"Mensual"),i(),n(13,"option",144),r(14,"Trimestral"),i(),n(15,"option",145),r(16,"Semestral"),i(),n(17,"option",146),r(18,"Anual"),i()()(),n(19,"div",53)(20,"label",51),r(21,"Fecha de Reuni\xF3n de Evaluaci\xF3n"),i(),n(22,"input",147),u("ngModelChange",function(e){s(t);let a=c();return l(a.onFechaReunionEvaluacionChange(e))}),i(),n(23,"small",69),r(24,"Fecha de la pr\xF3xima reuni\xF3n de evaluaci\xF3n de desempe\xF1o"),i()(),n(25,"div",50)(26,"label",82)(27,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.rrhh.permitirAutoevaluacion,e)||(a.configuracion.rrhh.permitirAutoevaluacion=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(28,"span"),r(29,"Permitir autoevaluaci\xF3n"),i()()()()(),n(30,"div",47)(31,"h3",48),r(32,"\u{1F393} Capacitaciones"),i(),n(33,"div",49)(34,"div",53)(35,"label",51),r(36,"Horas Capacitaci\xF3n Anual"),i(),n(37,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.rrhh.horasCapacitacionAnual,e)||(a.configuracion.rrhh.horasCapacitacionAnual=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(38,"div",53)(39,"label",51),r(40,"Presupuesto Capacitaci\xF3n (S/.)"),i(),n(41,"input",148),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.rrhh.presupuestoCapacitacion,e)||(a.configuracion.rrhh.presupuestoCapacitacion=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()(),n(42,"div",47)(43,"h3",48),r(44,"\u{1F514} Notificaciones"),i(),n(45,"div",81)(46,"label",82)(47,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.rrhh.notificarCumpleanos,e)||(a.configuracion.rrhh.notificarCumpleanos=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(48,"span"),r(49,"Notificar cumplea\xF1os de trabajadores"),i()(),n(50,"label",82)(51,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.rrhh.notificarAniversarios,e)||(a.configuracion.rrhh.notificarAniversarios=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(52,"span"),r(53,"Notificar aniversarios laborales"),i()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.rrhh.periodoEvaluacionDesempeno),d(12),C("ngModel",t.formatearFechaParaDateInput(t.configuracion.rrhh.fechaReunionEvaluacion))("ngModelOptions",j(8,Se)),d(5),g("ngModel",t.configuracion.rrhh.permitirAutoevaluacion),d(10),g("ngModel",t.configuracion.rrhh.horasCapacitacionAnual),d(4),g("ngModel",t.configuracion.rrhh.presupuestoCapacitacion),d(6),g("ngModel",t.configuracion.rrhh.notificarCumpleanos),d(4),g("ngModel",t.configuracion.rrhh.notificarAniversarios)}}function Qe(m,f){if(m&1){let t=b();n(0,"button",154),u("click",function(){let e=s(t).$implicit,a=c(2);return l(a.cambiarSubseccion(e.id))}),n(1,"span",155),r(2),i(),n(3,"span",156),r(4),i(),n(5,"span",157),r(6),i()()}if(m&2){let t=f.$implicit,o=c(2);D("active",o.subseccionActiva===t.id),d(2),v(t.icon),d(2),v(t.nombre),d(2),v(t.count)}}function Ze(m,f){if(m&1){let t=b();n(0,"button",173),u("click",function(){s(t);let e=c(3);return l(e.eliminarCargosSeleccionados())}),r(1),i()}if(m&2){let t=c(3);C("disabled",t.cargosSeleccionados.length===0),d(),O(" \u{1F5D1}\uFE0F Eliminar Seleccionados (",t.cargosSeleccionados.length,") ")}}function Xe(m,f){if(m&1){let t=b();n(0,"tr")(1,"td",174)(2,"input",166),u("change",function(){let e=s(t).$implicit,a=c(3);return l(a.toggleSeleccionCargo(e.CargoID))}),i()(),n(3,"td")(4,"code"),r(5),i()(),n(6,"td")(7,"strong"),r(8),i()(),n(9,"td"),r(10),i(),n(11,"td")(12,"span",175),r(13," Activo "),i()(),n(14,"td",176)(15,"div",177)(16,"button",15),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.abrirModalEditarCargo(e))}),r(17," \u270F\uFE0F Editar "),i(),n(18,"button",178),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.eliminarCargo(e))}),r(19," \u{1F5D1}\uFE0F Eliminar "),i()()()()}if(m&2){let t=f.$implicit,o=c(3);d(2),C("checked",o.estaCargoSeleccionado(t.CargoID)),d(3),v(t.CargoID),d(3),v(t.Nombre),d(2),v(t.Descripcion||"Sin descripci\xF3n")}}function $e(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"h3"),r(3,"\u{1F454} Gesti\xF3n de Cargos"),i(),n(4,"div",160),w(5,Ze,2,2,"button",161),n(6,"button",162),u("click",function(){s(t);let e=c(2);return l(e.abrirModalNuevoCargo())}),r(7," \u2795 Nuevo Cargo "),i()()(),n(8,"div",163)(9,"table",164)(10,"thead")(11,"tr")(12,"th",165)(13,"input",166),u("change",function(){s(t);let e=c(2);return l(e.toggleTodosCargos())}),i()(),n(14,"th",167),r(15,"C\xF3digo"),i(),n(16,"th",168),r(17,"Nombre"),i(),n(18,"th",169),r(19,"Descripci\xF3n"),i(),n(20,"th",170),r(21,"Estado"),i(),n(22,"th",171),r(23,"Acciones"),i()()(),n(24,"tbody"),w(25,Xe,20,4,"tr",172),i()()()()}if(m&2){let t=c(2);d(5),C("ngIf",t.cargosSeleccionados.length>0),d(8),C("checked",t.todosCargosSeleccionados),d(12),C("ngForOf",t.cargos)}}function et(m,f){if(m&1){let t=b();n(0,"tr")(1,"td")(2,"code"),r(3),i()(),n(4,"td")(5,"strong"),r(6),i()(),n(7,"td"),r(8),i(),n(9,"td")(10,"span",175),r(11," Activo "),i()(),n(12,"td",176)(13,"div",177)(14,"button",15),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.editarGerencia(e))}),r(15," \u270F\uFE0F Editar "),i(),n(16,"button",178),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.eliminarGerencia(e))}),r(17," \u{1F5D1}\uFE0F Eliminar "),i()()()()}if(m&2){let t=f.$implicit;d(3),v(t.GerenciaID),d(3),v(t.Nombre),d(2),v(t.Descripcion||"Sin descripci\xF3n")}}function tt(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"h3"),r(3,"\u{1F3DB}\uFE0F Gesti\xF3n de Gerencias"),i(),n(4,"button",162),u("click",function(){s(t);let e=c(2);return l(e.nuevaGerencia())}),r(5," \u2795 Nueva Gerencia "),i()(),n(6,"div",163)(7,"table",164)(8,"thead")(9,"tr")(10,"th",167),r(11,"C\xF3digo"),i(),n(12,"th",168),r(13,"Nombre"),i(),n(14,"th",169),r(15,"Descripci\xF3n"),i(),n(16,"th",170),r(17,"Estado"),i(),n(18,"th",171),r(19,"Acciones"),i()()(),n(20,"tbody"),w(21,et,18,3,"tr",172),i()()()()}if(m&2){let t=c(2);d(21),C("ngForOf",t.gerencias)}}function nt(m,f){if(m&1){let t=b();n(0,"tr")(1,"td")(2,"code"),r(3),i()(),n(4,"td")(5,"strong"),r(6),i()(),n(7,"td"),r(8),i(),n(9,"td")(10,"span",175),r(11," Activo "),i()(),n(12,"td",176)(13,"div",177)(14,"button",15),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.editarSubgerencia(e))}),r(15," \u270F\uFE0F Editar "),i(),n(16,"button",178),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.eliminarSubgerencia(e))}),r(17," \u{1F5D1}\uFE0F Eliminar "),i()()()()}if(m&2){let t=f.$implicit;d(3),v(t.SubgerenciaID),d(3),v(t.Nombre),d(2),v(t.GerenciaNombre)}}function it(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"h3"),r(3,"\u{1F3E2} Gesti\xF3n de Subgerencias"),i(),n(4,"button",162),u("click",function(){s(t);let e=c(2);return l(e.nuevaSubgerencia())}),r(5," \u2795 Nueva Subgerencia "),i()(),n(6,"div",163)(7,"table",164)(8,"thead")(9,"tr")(10,"th",167),r(11,"C\xF3digo"),i(),n(12,"th",168),r(13,"Nombre"),i(),n(14,"th",169),r(15,"Gerencia"),i(),n(16,"th",170),r(17,"Estado"),i(),n(18,"th",171),r(19,"Acciones"),i()()(),n(20,"tbody"),w(21,nt,18,3,"tr",172),i()()()()}if(m&2){let t=c(2);d(21),C("ngForOf",t.subgerencias)}}function ot(m,f){if(m&1){let t=b();n(0,"tr")(1,"td")(2,"code"),r(3),i()(),n(4,"td")(5,"strong"),r(6),i()(),n(7,"td"),r(8),i(),n(9,"td")(10,"span",175),r(11," Activo "),i()(),n(12,"td",176)(13,"div",177)(14,"button",15),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.editarUnidad(e))}),r(15," \u270F\uFE0F Editar "),i(),n(16,"button",178),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.eliminarUnidad(e))}),r(17," \u{1F5D1}\uFE0F Eliminar "),i()()()()}if(m&2){let t=f.$implicit;d(3),v(t.UnidadID),d(3),v(t.Nombre),d(2),v(t.SubgerenciaNombre)}}function at(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"h3"),r(3,"\u{1F3E2} Gesti\xF3n de Unidades"),i(),n(4,"button",162),u("click",function(){s(t);let e=c(2);return l(e.nuevaUnidad())}),r(5," \u2795 Nueva Unidad "),i()(),n(6,"div",163)(7,"table",164)(8,"thead")(9,"tr")(10,"th",167),r(11,"C\xF3digo"),i(),n(12,"th",168),r(13,"Nombre"),i(),n(14,"th",169),r(15,"Subgerencia"),i(),n(16,"th",170),r(17,"Estado"),i(),n(18,"th",171),r(19,"Acciones"),i()()(),n(20,"tbody"),w(21,ot,18,3,"tr",172),i()()()()}if(m&2){let t=c(2);d(21),C("ngForOf",t.unidades)}}function rt(m,f){if(m&1){let t=b();n(0,"tr")(1,"td")(2,"code"),r(3),i()(),n(4,"td")(5,"strong"),r(6),i()(),n(7,"td"),r(8),i(),n(9,"td")(10,"span",175),r(11," Activo "),i()(),n(12,"td",176)(13,"div",177)(14,"button",15),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.abrirModalEditarTipoContrato(e))}),r(15," \u270F\uFE0F Editar "),i(),n(16,"button",178),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.eliminarTipoContrato(e))}),r(17," \u{1F5D1}\uFE0F Eliminar "),i()()()()}if(m&2){let t=f.$implicit;d(3),v(t.Codigo),d(3),v(t.Nombre),d(2),v(t.Descripcion||"Sin descripci\xF3n")}}function ct(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"h3"),r(3,"\u{1F4CB} Gesti\xF3n de Tipos de Contrato"),i(),n(4,"button",162),u("click",function(){s(t);let e=c(2);return l(e.abrirModalNuevoTipoContrato())}),r(5," \u2795 Nuevo Tipo "),i()(),n(6,"div",163)(7,"table",164)(8,"thead")(9,"tr")(10,"th",167),r(11,"C\xF3digo"),i(),n(12,"th",168),r(13,"Nombre"),i(),n(14,"th",169),r(15,"Descripci\xF3n"),i(),n(16,"th",170),r(17,"Estado"),i(),n(18,"th",171),r(19,"Acciones"),i()()(),n(20,"tbody"),w(21,rt,18,3,"tr",172),i()()()()}if(m&2){let t=c(2);d(21),C("ngForOf",t.tiposContrato)}}function st(m,f){if(m&1){let t=b();n(0,"tr")(1,"td",179)(2,"code"),r(3),i()(),n(4,"td",180)(5,"strong"),r(6),i()(),n(7,"td",181),r(8),i(),n(9,"td",182)(10,"span",175),r(11," Activo "),i()(),n(12,"td",176)(13,"div",177)(14,"button",15),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.abrirModalEditarRegimenLaboral(e))}),r(15," \u270F\uFE0F Editar "),i(),n(16,"button",178),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.eliminarRegimenLaboral(e))}),r(17," \u{1F5D1}\uFE0F Eliminar "),i()()()()}if(m&2){let t=f.$implicit;d(3),v(t.Codigo),d(3),v(t.Nombre),d(2),v(t.Descripcion||"Sin descripci\xF3n")}}function lt(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"h3"),r(3,"\u2696\uFE0F Gesti\xF3n de Reg\xEDmenes Laborales"),i(),n(4,"button",162),u("click",function(){s(t);let e=c(2);return l(e.abrirModalNuevoRegimenLaboral())}),r(5," \u2795 Nuevo R\xE9gimen "),i()(),n(6,"div",163)(7,"table",164)(8,"thead")(9,"tr")(10,"th",167),r(11,"C\xF3digo"),i(),n(12,"th",168),r(13,"Nombre"),i(),n(14,"th",169),r(15,"Descripci\xF3n"),i(),n(16,"th",170),r(17,"Estado"),i(),n(18,"th",171),r(19,"Acciones"),i()()(),n(20,"tbody"),w(21,st,18,3,"tr",172),i()()()()}if(m&2){let t=c(2);d(21),C("ngForOf",t.regimenesLaborales)}}function dt(m,f){if(m&1){let t=b();n(0,"tr")(1,"td",179)(2,"code"),r(3),i()(),n(4,"td",180)(5,"strong"),r(6),i()(),n(7,"td",181),r(8),i(),n(9,"td",182)(10,"span",175),r(11," Activo "),i()(),n(12,"td",176)(13,"div",177)(14,"button",15),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.abrirModalEditarCondicionLaboral(e))}),r(15," \u270F\uFE0F Editar "),i(),n(16,"button",178),u("click",function(){let e=s(t).$implicit,a=c(3);return l(a.eliminarCondicionLaboral(e))}),r(17," \u{1F5D1}\uFE0F Eliminar "),i()()()()}if(m&2){let t=f.$implicit;d(3),v(t.Codigo),d(3),v(t.Nombre),d(2),v(t.Descripcion||"Sin descripci\xF3n")}}function mt(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"h3"),r(3,"\u{1F4CC} Gesti\xF3n de Condiciones Laborales"),i(),n(4,"button",162),u("click",function(){s(t);let e=c(2);return l(e.abrirModalNuevoCondicionLaboral())}),r(5," \u2795 Nueva Condici\xF3n Laboral "),i()(),n(6,"div",163)(7,"table",164)(8,"thead")(9,"tr")(10,"th",167),r(11,"C\xF3digo"),i(),n(12,"th",168),r(13,"Nombre"),i(),n(14,"th",169),r(15,"Descripci\xF3n"),i(),n(16,"th",170),r(17,"Estado"),i(),n(18,"th",171),r(19,"Acciones"),i()()(),n(20,"tbody"),w(21,dt,18,3,"tr",172),i()()()()}if(m&2){let t=c(2);d(21),C("ngForOf",t.condicionesLaborales)}}function ut(m,f){if(m&1&&(n(0,"div",45)(1,"h2",46),r(2,"\u{1F5C2}\uFE0F Administraci\xF3n de Datos Maestros"),i(),n(3,"p",149),r(4,"Gesti\xF3n centralizada de todos los datos maestros del sistema (cargos, \xE1reas, gerencias, etc.)"),i(),n(5,"div",150),w(6,Qe,7,5,"button",151),i(),n(7,"div",152),w(8,$e,26,3,"div",153)(9,tt,22,1,"div",153)(10,it,22,1,"div",153)(11,at,22,1,"div",153)(12,ct,22,1,"div",153)(13,lt,22,1,"div",153)(14,mt,22,1,"div",153),i()()),m&2){let t=c();d(6),C("ngForOf",t.subseccionesDatosMaestros),d(2),C("ngIf",t.subseccionActiva==="cargos"),d(),C("ngIf",t.subseccionActiva==="gerencias"),d(),C("ngIf",t.subseccionActiva==="subgerencias"),d(),C("ngIf",t.subseccionActiva==="unidades"),d(),C("ngIf",t.subseccionActiva==="tipos-contrato"),d(),C("ngIf",t.subseccionActiva==="regimenes-laborales"),d(),C("ngIf",t.subseccionActiva==="condiciones-laborales")}}function gt(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F3DB}\uFE0F Configuraci\xF3n Tributaria"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F3DB}\uFE0F SUNAT"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Usuario SUNAT"),i(),n(10,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.usuarioSUNAT,e)||(a.configuracion.tributario.usuarioSUNAT=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(11,"div",53)(12,"label",51),r(13,"Clave SUNAT"),i(),n(14,"input",183),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.claveSUNAT,e)||(a.configuracion.tributario.claveSUNAT=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(15,"div",53)(16,"label",51),r(17,"Versi\xF3n PLAME"),i(),n(18,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.versionPLAME,e)||(a.configuracion.tributario.versionPLAME=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(19,"div",53)(20,"label",51),r(21,"Ruta PLAME"),i(),n(22,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.rutaPLAME,e)||(a.configuracion.tributario.rutaPLAME=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(23,"div",50)(24,"label",82)(25,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.generarArchivosPLAMEAuto,e)||(a.configuracion.tributario.generarArchivosPLAMEAuto=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(26,"span"),r(27,"Generar archivos PLAME autom\xE1ticamente"),i()()(),n(28,"div",50)(29,"label",82)(30,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.generarPDTAuto,e)||(a.configuracion.tributario.generarPDTAuto=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(31,"span"),r(32,"Generar PDT autom\xE1ticamente"),i()()()()(),n(33,"div",47)(34,"h3",48),r(35,"\u{1F4B5} UIT y Renta 5ta"),i(),n(36,"div",49)(37,"div",53)(38,"label",51),r(39,"UIT Actual (S/.)"),i(),n(40,"input",184),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.uitActual,e)||(a.configuracion.tributario.uitActual=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(41,"div",53)(42,"label",51),r(43,"Deducci\xF3n M\xEDnima (UIT)"),i(),n(44,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.deduccionMinima,e)||(a.configuracion.tributario.deduccionMinima=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()(),n(45,"div",47)(46,"h3",48),r(47,"\u{1F3E5} EsSalud y Aportes"),i(),n(48,"div",49)(49,"div",53)(50,"label",51),r(51,"Tasa EsSalud (%)"),i(),n(52,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.tasaEsSalud,e)||(a.configuracion.tributario.tasaEsSalud=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(53,"div",53)(54,"label",51),r(55,"Tarifa SCTR (%)"),i(),n(56,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.tarifaSCTR,e)||(a.configuracion.tributario.tarifaSCTR=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(57,"div",53)(58,"label",51),r(59,"Tasa ONP (%)"),i(),n(60,"input",135),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.tributario.tasaONP,e)||(a.configuracion.tributario.tasaONP=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.tributario.usuarioSUNAT),d(4),g("ngModel",t.configuracion.tributario.claveSUNAT),d(4),g("ngModel",t.configuracion.tributario.versionPLAME),d(4),g("ngModel",t.configuracion.tributario.rutaPLAME),d(3),g("ngModel",t.configuracion.tributario.generarArchivosPLAMEAuto),d(5),g("ngModel",t.configuracion.tributario.generarPDTAuto),d(10),g("ngModel",t.configuracion.tributario.uitActual),d(4),g("ngModel",t.configuracion.tributario.deduccionMinima),d(8),g("ngModel",t.configuracion.tributario.tasaEsSalud),d(4),g("ngModel",t.configuracion.tributario.tarifaSCTR),d(4),g("ngModel",t.configuracion.tributario.tasaONP)}}function pt(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F510} Configuraci\xF3n de Seguridad"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F511} Pol\xEDticas de Contrase\xF1as"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Longitud M\xEDnima"),i(),n(10,"input",185),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.longitudMinimaPassword,e)||(a.configuracion.seguridad.longitudMinimaPassword=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(11,"div",53)(12,"label",51),r(13,"D\xEDas Expiraci\xF3n"),i(),n(14,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.diasExpiracionPassword,e)||(a.configuracion.seguridad.diasExpiracionPassword=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(15,"div",53)(16,"label",51),r(17,"Intentos Fallidos para Bloqueo"),i(),n(18,"input",186),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.bloquearTrasIntentosFallidos,e)||(a.configuracion.seguridad.bloquearTrasIntentosFallidos=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(19,"div",50)(20,"label",82)(21,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.requiereCaracteresEspeciales,e)||(a.configuracion.seguridad.requiereCaracteresEspeciales=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(22,"span"),r(23,"Requiere caracteres especiales"),i()()(),n(24,"div",50)(25,"label",82)(26,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.requiereNumeros,e)||(a.configuracion.seguridad.requiereNumeros=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(27,"span"),r(28,"Requiere n\xFAmeros"),i()()(),n(29,"div",50)(30,"label",82)(31,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.requiereMayusculas,e)||(a.configuracion.seguridad.requiereMayusculas=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(32,"span"),r(33,"Requiere may\xFAsculas"),i()()()()(),n(34,"div",47)(35,"h3",48),r(36,"\u23F1\uFE0F Sesiones"),i(),n(37,"div",49)(38,"div",53)(39,"label",51),r(40,"Tiempo M\xE1ximo Sesi\xF3n (minutos)"),i(),n(41,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.tiempoMaximoSesion,e)||(a.configuracion.seguridad.tiempoMaximoSesion=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(42,"div",53)(43,"label",51),r(44,"Minutos Inactividad"),i(),n(45,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.minutosInactividad,e)||(a.configuracion.seguridad.minutosInactividad=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(46,"div",53)(47,"label",51),r(48,"Sesiones Simult\xE1neas"),i(),n(49,"input",139),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.sesionesSimultaneas,e)||(a.configuracion.seguridad.sesionesSimultaneas=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(50,"div",50)(51,"label",82)(52,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.cerrarSesionInactividad,e)||(a.configuracion.seguridad.cerrarSesionInactividad=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(53,"span"),r(54,"Cerrar sesi\xF3n por inactividad"),i()()(),n(55,"div",50)(56,"label",82)(57,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.permitirRecordarDispositivo,e)||(a.configuracion.seguridad.permitirRecordarDispositivo=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(58,"span"),r(59,"Permitir recordar dispositivo"),i()()()()(),n(60,"div",47)(61,"h3",48),r(62,"\u{1F4CB} Auditor\xEDa"),i(),n(63,"div",49)(64,"div",53)(65,"label",51),r(66,"Nivel de Auditor\xEDa"),i(),n(67,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.nivelAuditoria,e)||(a.configuracion.seguridad.nivelAuditoria=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(68,"option",187),r(69,"B\xE1sico"),i(),n(70,"option",188),r(71,"Medio"),i(),n(72,"option",189),r(73,"Completo"),i()()(),n(74,"div",53)(75,"label",51),r(76,"D\xEDas Retenci\xF3n Logs"),i(),n(77,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.diasRetencionLogs,e)||(a.configuracion.seguridad.diasRetencionLogs=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(78,"div",50)(79,"label",82)(80,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.registrarCambios,e)||(a.configuracion.seguridad.registrarCambios=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(81,"span"),r(82,"Registrar todos los cambios"),i()()(),n(83,"div",50)(84,"label",82)(85,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.seguridad.autenticacionDosFactores,e)||(a.configuracion.seguridad.autenticacionDosFactores=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(86,"span"),r(87,"Autenticaci\xF3n de dos factores"),i()()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.seguridad.longitudMinimaPassword),d(4),g("ngModel",t.configuracion.seguridad.diasExpiracionPassword),d(4),g("ngModel",t.configuracion.seguridad.bloquearTrasIntentosFallidos),d(3),g("ngModel",t.configuracion.seguridad.requiereCaracteresEspeciales),d(5),g("ngModel",t.configuracion.seguridad.requiereNumeros),d(5),g("ngModel",t.configuracion.seguridad.requiereMayusculas),d(10),g("ngModel",t.configuracion.seguridad.tiempoMaximoSesion),d(4),g("ngModel",t.configuracion.seguridad.minutosInactividad),d(4),g("ngModel",t.configuracion.seguridad.sesionesSimultaneas),d(3),g("ngModel",t.configuracion.seguridad.cerrarSesionInactividad),d(5),g("ngModel",t.configuracion.seguridad.permitirRecordarDispositivo),d(10),g("ngModel",t.configuracion.seguridad.nivelAuditoria),d(10),g("ngModel",t.configuracion.seguridad.diasRetencionLogs),d(3),g("ngModel",t.configuracion.seguridad.registrarCambios),d(5),g("ngModel",t.configuracion.seguridad.autenticacionDosFactores)}}function _t(m,f){if(m&1){let t=b();n(0,"button",154),u("click",function(){s(t);let e=c(3);return l(e.subseccionActiva="roles")}),n(1,"span",155),r(2,"\u{1F451}"),i(),n(3,"span",192),r(4,"Roles y Permisos"),i()()}if(m&2){let t=c(3);D("active",t.subseccionActiva==="roles")}}function Ct(m,f){if(m&1){let t=b();n(0,"button",154),u("click",function(){s(t);let e=c(3);return l(e.subseccionActiva="usuarios")}),n(1,"span",155),r(2,"\u{1F465}"),i(),n(3,"span",192),r(4,"Usuarios"),i()()}if(m&2){let t=c(3);D("active",t.subseccionActiva==="usuarios")}}function ft(m,f){if(m&1&&(n(0,"div",150),w(1,_t,5,2,"button",191)(2,Ct,5,2,"button",191),i()),m&2){let t=c(2);d(),C("ngIf",t.puedeVerRoles()),d(),C("ngIf",t.puedeVerUsuarios())}}function xt(m,f){if(m&1&&(n(0,"div",217)(1,"span",218),r(2),i()()),m&2){let t=c().$implicit,o=c(4);d(2),B(" ",o.contarPermisosActivos(t)," / ",o.contarPermisosTotales(t)," permisos ")}}function ht(m,f){if(m&1&&(n(0,"span",225),r(1),R(2,"titlecase"),i()),m&2){let t=f.$implicit,o=c().$implicit,e=c(2).$implicit;D("active",e.permisos[o]&&e.permisos[o][t]===!0),d(),O(" ",H(2,3,t)," ")}}function bt(m,f){if(m&1&&(n(0,"div",221)(1,"div",222),r(2),R(3,"titlecase"),i(),n(4,"div",223),w(5,ht,3,5,"span",224),i()()),m&2){let t=f.$implicit,o=c(2).$implicit,e=c(4);d(2),v(H(3,2,t)),d(3),C("ngForOf",e.Object.keys(o.permisos[t]||j(4,ye)))}}function vt(m,f){if(m&1&&(n(0,"div",219),w(1,bt,6,5,"div",220),i()),m&2){let t=c().$implicit,o=c(4);d(),C("ngForOf",o.Object.keys(t.permisos))}}function Mt(m,f){m&1&&(n(0,"div",226)(1,"p",227),r(2,"Sin permisos configurados"),i()())}function wt(m,f){if(m&1){let t=b();n(0,"div",204)(1,"div",205)(2,"div",206),r(3,"\u{1F451}"),i(),n(4,"div",207)(5,"h4",208),r(6),i(),n(7,"p",209),r(8),i(),w(9,xt,3,2,"div",210),i(),n(10,"div",211)(11,"button",212),u("click",function(){let e=s(t).$implicit,a=c(4);return l(a.abrirModalEditarRol(e))}),r(12," \u270F\uFE0F "),i(),n(13,"button",213),u("click",function(){let e=s(t).$implicit,a=c(4);return l(a.eliminarRol(e))}),r(14," \u{1F5D1}\uFE0F "),i()()(),n(15,"div",214),w(16,vt,2,1,"div",215)(17,Mt,3,0,"div",216),i()()}if(m&2){let t=f.$implicit,o=c(4);C("ngClass",G(6,Oe,o.getRolDisplayName(t.nombre)==="Super Administrador",t.nombre&&(t.nombre.toUpperCase()==="ADMIN"||t.nombre.toUpperCase()==="ADMIN_NORMAL"||t.nombre==="Administrador"))),d(6),v(o.getRolDisplayName(t.nombre)),d(2),v(t.descripcion||"Sin descripci\xF3n"),d(),C("ngIf",t.permisos),d(7),C("ngIf",t.permisos&&o.Object.keys(t.permisos).length>0),d(),C("ngIf",!t.permisos||o.Object.keys(t.permisos).length===0)}}function Et(m,f){if(m&1&&(n(0,"div",201)(1,"div",202),w(2,wt,18,9,"div",203),i()()),m&2){let t=c(3);d(2),C("ngForOf",t.roles)}}function Pt(m,f){m&1&&(n(0,"div",228),E(1,"div",229),n(2,"p"),r(3,"Cargando roles..."),i()())}function St(m,f){if(m&1){let t=b();n(0,"div",158)(1,"div",159)(2,"div",193)(3,"h3",194),r(4,"\u{1F451} Gesti\xF3n de Roles"),i(),n(5,"p",195),r(6,"Crear, editar y administrar roles del sistema con sus respectivos permisos"),i()(),n(7,"div",196)(8,"button",197),u("click",function(){s(t);let e=c(2);return l(e.abrirModalCrearRol())}),n(9,"span",198),r(10,"\u2795"),i(),n(11,"span",199),r(12,"Nuevo Rol"),i()()()(),w(13,Et,3,1,"div",200)(14,Pt,4,0,"ng-template",null,2,Y),i()}if(m&2){let t=N(15),o=c(2);d(13),C("ngIf",!o.rolesCargando)("ngIfElse",t)}}function Ot(m,f){if(m&1){let t=b();n(0,"button",197),u("click",function(){s(t);let e=c(3);return l(e.abrirModalNuevoUsuario())}),n(1,"span",198),r(2,"\u2795"),i(),n(3,"span",199),r(4,"Nuevo Usuario"),i()()}}function yt(m,f){if(m&1){let t=b();n(0,"button",251),u("click",function(){s(t);let e=c().$implicit,a=c(4);return l(a.abrirModalEliminarUsuario(e))}),n(1,"span",198),r(2,"\u{1F5D1}\uFE0F"),i(),n(3,"span",199),r(4,"Eliminar"),i()()}}function Vt(m,f){if(m&1){let t=b();n(0,"button",252),u("click",function(){s(t);let e=c().$implicit,a=c(4);return l(a.abrirModalResetearPassword(e))}),n(1,"span",198),r(2,"\u{1F504}"),i(),n(3,"span",199),r(4,"Resetear"),i()()}}function Dt(m,f){if(m&1){let t=b();n(0,"div",237)(1,"div",235)(2,"div",238)(3,"div",239)(4,"span",240),r(5),i(),n(6,"span",241),r(7),i()(),n(8,"div",242)(9,"div",243),r(10),i(),n(11,"div",244),r(12),i()()()(),n(13,"div",235)(14,"span",245),r(15),i()(),n(16,"div",235)(17,"span",246),r(18," Activo "),i()(),n(19,"div",235)(20,"span",247),r(21),i()(),n(22,"div",235)(23,"div",248)(24,"button",15),u("click",function(){let e=s(t).$implicit,a=c(4);return l(a.abrirModalEditarUsuario(e))}),n(25,"span",198),r(26,"\u270F\uFE0F"),i(),n(27,"span",199),r(28,"Editar"),i()(),n(29,"button",15),u("click",function(){let e=s(t).$implicit,a=c(4);return l(a.abrirModalCambiarPassword(e))}),n(30,"span",198),r(31,"\u{1F511}"),i(),n(32,"span",199),r(33,"Contrase\xF1a"),i()(),w(34,yt,5,0,"button",249)(35,Vt,5,0,"button",250),i()()()}if(m&2){let t=f.$implicit,o=c(4);d(3),W("background-color",o.getColorAvatar(t)),d(2),v(o.getInicialesUsuario(t)),d(2),v(o.getIconoRol(t.rol)),d(3),v(t.username),d(2),v(t.email||"Sin email"),d(2),U(z("rol-badge rol-badge--",t.rol==null?null:t.rol.toLowerCase())),C("ngClass",G(14,Ve,o.getRolDisplayName(t.rol)==="Super Administrador",t.rol&&(t.rol.toUpperCase()==="ADMIN"||t.rol.toUpperCase()==="ADMIN_NORMAL"||t.rol==="Administrador"))),d(),O(" ",o.getRolDisplayName(t.rol)," "),d(6),v(o.formatearFecha(t.ultimoAcceso)||"Nunca"),d(13),C("ngIf",o.isAdmin),d(),C("ngIf",o.isAdmin)}}function Tt(m,f){if(m&1&&(n(0,"div",232)(1,"div",233)(2,"div",234)(3,"div",235),r(4,"Usuario"),i(),n(5,"div",235),r(6,"Rol"),i(),n(7,"div",235),r(8,"Estado"),i(),n(9,"div",235),r(10,"\xDAltimo Acceso"),i(),n(11,"div",235),r(12,"Acciones"),i()(),w(13,Dt,36,17,"div",236),i()()),m&2){let t=c(3);d(13),C("ngForOf",t.usuarios)}}function kt(m,f){m&1&&(n(0,"div",228),E(1,"div",229),n(2,"p"),r(3,"Cargando usuarios..."),i()())}function Ft(m,f){if(m&1&&(n(0,"div",158)(1,"div",159)(2,"div",193)(3,"h3",194),r(4,"\u{1F465} Gesti\xF3n de Usuarios"),i(),n(5,"p",195),r(6,"Administrar usuarios del sistema y cambiar contrase\xF1as"),i()(),n(7,"div",196),w(8,Ot,5,0,"button",230),i()(),w(9,Tt,14,1,"div",231)(10,kt,4,0,"ng-template",null,3,Y),i()),m&2){let t=N(11),o=c(2);d(8),C("ngIf",o.isAdmin),d(),C("ngIf",!o.usuariosCargando)("ngIfElse",t)}}function At(m,f){if(m&1&&(n(0,"div",45)(1,"h2",46),r(2,"\u{1F451} Administraci\xF3n de Roles y Usuarios"),i(),n(3,"p",149),r(4,"Gesti\xF3n completa de roles, permisos y usuarios del sistema"),i(),w(5,ft,3,2,"div",190),n(6,"div",152),w(7,St,16,2,"div",153)(8,Ft,12,3,"div",153),i()()),m&2){let t=c();d(5),C("ngIf",t.puedeVerRoles()||t.puedeVerUsuarios()),d(2),C("ngIf",t.subseccionActiva==="roles"),d(),C("ngIf",t.subseccionActiva==="usuarios")}}function It(m,f){if(m&1){let t=b();n(0,"div",253)(1,"div",254)(2,"div",255)(3,"h3"),r(4,"\u{1F5D1}\uFE0F Eliminar usuario"),i(),n(5,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalEliminarUsuario())}),r(6,"\u2716"),i()(),n(7,"div",256)(8,"p")(9,"strong"),r(10,"\u26A0\uFE0F ADVERTENCIA:"),i(),r(11," Esta acci\xF3n eliminar\xE1 permanentemente el usuario de la base de datos. Esta acci\xF3n no se puede deshacer."),i(),n(12,"p")(13,"strong"),r(14,"Usuario:"),i(),r(15),i(),n(16,"div",53)(17,"label",51),r(18,"Escriba "),n(19,"strong"),r(20,"ELIMINAR"),i(),r(21," para confirmar"),i(),n(22,"input",257),_("ngModelChange",function(e){s(t);let a=c();return p(a.confirmacionEliminar,e)||(a.confirmacionEliminar=e),l(e)}),i()()(),n(23,"div",258)(24,"button",259),u("click",function(){s(t);let e=c();return l(e.cerrarModalEliminarUsuario())}),r(25,"Cancelar"),i(),n(26,"button",260),u("click",function(){s(t);let e=c();return l(e.eliminarUsuarioConfirmado())}),r(27,"Eliminar definitivamente"),i()()()()}if(m&2){let t=c();d(15),B(" ",t.usuarioAEliminar==null?null:t.usuarioAEliminar.username," (",(t.usuarioAEliminar==null?null:t.usuarioAEliminar.email)||"sin email",")"),d(7),g("ngModel",t.confirmacionEliminar)}}function Wt(m,f){m&1&&(n(0,"div",268),E(1,"div",269),i())}function Rt(m,f){m&1&&(n(0,"div",270),V(),n(1,"svg",271),E(2,"circle",272)(3,"path",273),i()())}function Lt(m,f){m&1&&(n(0,"p",274),r(1," El usuario ha sido eliminado permanentemente de la base de datos. "),i())}function Nt(m,f){m&1&&(n(0,"p",274),r(1," Eliminando usuario... "),i())}function Ut(m,f){if(m&1){let t=b();n(0,"div",261),u("click",function(){s(t);let e=c();return l(e.cerrarModalExitoEliminacion())}),n(1,"div",262),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",263),w(3,Wt,2,0,"div",264)(4,Rt,4,0,"div",265),n(5,"h3",266),r(6,"Usuario eliminado exitosamente"),i(),w(7,Lt,2,0,"p",267)(8,Nt,2,0,"p",267),i()()()}if(m&2){let t=c();d(3),C("ngIf",t.eliminandoUsuario),d(),C("ngIf",t.eliminacionCompletada),d(3),C("ngIf",t.eliminacionCompletada),d(),C("ngIf",t.eliminandoUsuario)}}function Bt(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F4E7} Configuraci\xF3n de Notificaciones"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F4E7} Servidor SMTP"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Servidor SMTP"),i(),n(10,"input",275),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.servidorSMTP,e)||(a.configuracion.notificaciones.servidorSMTP=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(11,"div",53)(12,"label",51),r(13,"Puerto SMTP"),i(),n(14,"input",276),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.puertoSMTP,e)||(a.configuracion.notificaciones.puertoSMTP=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(15,"div",53)(16,"label",51),r(17,"Usuario Email"),i(),n(18,"input",277),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.usuarioEmail,e)||(a.configuracion.notificaciones.usuarioEmail=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(19,"div",53)(20,"label",51),r(21,"Contrase\xF1a Email"),i(),n(22,"input",183),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.passwordEmail,e)||(a.configuracion.notificaciones.passwordEmail=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(23,"div",53)(24,"label",51),r(25,"Email Remitente"),i(),n(26,"input",277),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.emailRemitente,e)||(a.configuracion.notificaciones.emailRemitente=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(27,"div",53)(28,"label",51),r(29,"Nombre Remitente"),i(),n(30,"input",54),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.nombreRemitente,e)||(a.configuracion.notificaciones.nombreRemitente=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(31,"div",50)(32,"label",82)(33,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.usarSSL,e)||(a.configuracion.notificaciones.usarSSL=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(34,"span"),r(35,"Usar SSL/TLS"),i()()(),n(36,"div",50)(37,"button",32),u("click",function(){s(t);let e=c();return l(e.probarConexionSMTP())}),r(38," \u{1F527} Probar Conexi\xF3n SMTP "),i()()()(),n(39,"div",47)(40,"h3",48),r(41,"\u{1F514} Tipos de Notificaciones"),i(),n(42,"div",81)(43,"label",82)(44,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.notificarNuevoPlanilla,e)||(a.configuracion.notificaciones.notificarNuevoPlanilla=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(45,"span"),r(46,"Notificar nueva planilla"),i()(),n(47,"label",82)(48,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.notificarPagoRealizado,e)||(a.configuracion.notificaciones.notificarPagoRealizado=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(49,"span"),r(50,"Notificar pago realizado"),i()(),n(51,"label",82)(52,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.notificarCumpleanos,e)||(a.configuracion.notificaciones.notificarCumpleanos=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(53,"span"),r(54,"Notificar cumplea\xF1os"),i()(),n(55,"label",82)(56,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.notificarVencimientos,e)||(a.configuracion.notificaciones.notificarVencimientos=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(57,"span"),r(58,"Notificar vencimientos"),i()(),n(59,"label",82)(60,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.notificarTardanzas,e)||(a.configuracion.notificaciones.notificarTardanzas=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(61,"span"),r(62,"Notificar tardanzas"),i()()()(),n(63,"div",47)(64,"h3",48),r(65,"\u{1F4C5} Res\xFAmenes"),i(),n(66,"div",81)(67,"label",82)(68,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.resumenDiario,e)||(a.configuracion.notificaciones.resumenDiario=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(69,"span"),r(70,"Resumen diario"),i()(),n(71,"label",82)(72,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.resumenSemanal,e)||(a.configuracion.notificaciones.resumenSemanal=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(73,"span"),r(74,"Resumen semanal"),i()(),n(75,"label",82)(76,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.notificaciones.resumenMensual,e)||(a.configuracion.notificaciones.resumenMensual=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(77,"span"),r(78,"Resumen mensual"),i()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.notificaciones.servidorSMTP),d(4),g("ngModel",t.configuracion.notificaciones.puertoSMTP),d(4),g("ngModel",t.configuracion.notificaciones.usuarioEmail),d(4),g("ngModel",t.configuracion.notificaciones.passwordEmail),d(4),g("ngModel",t.configuracion.notificaciones.emailRemitente),d(4),g("ngModel",t.configuracion.notificaciones.nombreRemitente),d(3),g("ngModel",t.configuracion.notificaciones.usarSSL),d(11),g("ngModel",t.configuracion.notificaciones.notificarNuevoPlanilla),d(4),g("ngModel",t.configuracion.notificaciones.notificarPagoRealizado),d(4),g("ngModel",t.configuracion.notificaciones.notificarCumpleanos),d(4),g("ngModel",t.configuracion.notificaciones.notificarVencimientos),d(4),g("ngModel",t.configuracion.notificaciones.notificarTardanzas),d(8),g("ngModel",t.configuracion.notificaciones.resumenDiario),d(4),g("ngModel",t.configuracion.notificaciones.resumenSemanal),d(4),g("ngModel",t.configuracion.notificaciones.resumenMensual)}}function zt(m,f){if(m&1){let t=b();n(0,"label",82)(1,"input",280),_("ngModelChange",function(e){let a=s(t).$implicit,x=c(2);return p(x.modulosHabilitados[a.id],e)||(x.modulosHabilitados[a.id]=e),l(e)}),i(),n(2,"span"),r(3),i()()}if(m&2){let t=f.$implicit,o=c(2);d(),g("ngModel",o.modulosHabilitados[t.id]),d(2),v(t.nombre)}}function jt(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F9E9} M\xF3dulos del Sistema"),i(),n(3,"p",195),r(4,"Activa o desactiva m\xF3dulos visibles para administradores normales. T\xFA, como Super Administrador, siempre ver\xE1s todos."),i(),n(5,"div",47)(6,"h3",48),r(7,"M\xF3dulos disponibles"),i(),n(8,"div",81),w(9,zt,4,2,"label",278),i(),n(10,"div",279)(11,"button",197),u("click",function(){s(t);let e=c();return l(e.guardarModulosHabilitados())}),r(12,"\u{1F4BE} Guardar"),i()()()()}if(m&2){let t=c();d(9),C("ngForOf",t.tabs)}}function Gt(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F3A8} Personalizaci\xF3n del Sistema"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F3A8} Tema y Colores"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Tema"),i(),n(10,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.tema,e)||(a.configuracion.personalizacion.tema=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(11,"option",281),r(12,"Claro"),i(),n(13,"option",282),r(14,"Oscuro"),i(),n(15,"option",283),r(16,"Autom\xE1tico"),i()()(),n(17,"div",53)(18,"label",51),r(19,"Color Primario"),i(),n(20,"input",284),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.colorPrimario,e)||(a.configuracion.personalizacion.colorPrimario=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(21,"div",53)(22,"label",51),r(23,"Color Secundario"),i(),n(24,"input",284),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.colorSecundario,e)||(a.configuracion.personalizacion.colorSecundario=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(25,"div",53)(26,"label",51),r(27,"Color Accent"),i(),n(28,"input",284),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.colorAccent,e)||(a.configuracion.personalizacion.colorAccent=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(29,"div",53)(30,"label",51),r(31,"Tama\xF1o de Fuente"),i(),n(32,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.tamanioFuente,e)||(a.configuracion.personalizacion.tamanioFuente=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(33,"option",285),r(34,"Peque\xF1o"),i(),n(35,"option",286),r(36,"Mediano"),i(),n(37,"option",287),r(38,"Grande"),i()()(),n(39,"div",50)(40,"button",197),u("click",function(){s(t);let e=c();return l(e.aplicarPersonalizacion())}),r(41," \u{1F3A8} Aplicar Cambios Visuales "),i()()()(),n(42,"div",47)(43,"h3",48),r(44,"\u{1F4CB} Formatos"),i(),n(45,"div",49)(46,"div",53)(47,"label",51),r(48,"Formato de Fecha"),i(),n(49,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.formatoFecha,e)||(a.configuracion.personalizacion.formatoFecha=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(50,"option",288),r(51,"DD/MM/YYYY"),i(),n(52,"option",289),r(53,"MM/DD/YYYY"),i(),n(54,"option",290),r(55,"YYYY-MM-DD"),i()()(),n(56,"div",53)(57,"label",51),r(58,"Formato de Hora"),i(),n(59,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.formatoHora,e)||(a.configuracion.personalizacion.formatoHora=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(60,"option",291),r(61,"24 horas (HH:mm)"),i(),n(62,"option",292),r(63,"12 horas (hh:mm a)"),i()()(),n(64,"div",53)(65,"label",51),r(66,"Separador Decimal"),i(),n(67,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.separadorDecimal,e)||(a.configuracion.personalizacion.separadorDecimal=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(68,"option",293),r(69,"Punto (.)"),i(),n(70,"option",294),r(71,"Coma (,)"),i()()(),n(72,"div",53)(73,"label",51),r(74,"Separador de Miles"),i(),n(75,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.separadorMiles,e)||(a.configuracion.personalizacion.separadorMiles=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(76,"option",294),r(77,"Coma (,)"),i(),n(78,"option",293),r(79,"Punto (.)"),i(),n(80,"option",295),r(81,"Espacio ( )"),i()()(),n(82,"div",53)(83,"label",51),r(84,"Idioma"),i(),n(85,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.idioma,e)||(a.configuracion.personalizacion.idioma=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(86,"option",296),r(87,"Espa\xF1ol"),i(),n(88,"option",297),r(89,"English"),i(),n(90,"option",298),r(91,"Quechua"),i()()()()(),n(92,"div",47)(93,"h3",48),r(94,"\u2699\uFE0F Opciones de Interfaz"),i(),n(95,"div",81)(96,"label",82)(97,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.animaciones,e)||(a.configuracion.personalizacion.animaciones=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(98,"span"),r(99,"Animaciones"),i()(),n(100,"label",82)(101,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.sonidos,e)||(a.configuracion.personalizacion.sonidos=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(102,"span"),r(103,"Sonidos"),i()(),n(104,"label",82)(105,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.modoAccesibilidad,e)||(a.configuracion.personalizacion.modoAccesibilidad=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(106,"span"),r(107,"Modo Accesibilidad"),i()(),n(108,"label",82)(109,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.personalizacion.incluirLogoEnReportes,e)||(a.configuracion.personalizacion.incluirLogoEnReportes=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(110,"span"),r(111,"Incluir logo en reportes"),i()()()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.personalizacion.tema),d(10),g("ngModel",t.configuracion.personalizacion.colorPrimario),d(4),g("ngModel",t.configuracion.personalizacion.colorSecundario),d(4),g("ngModel",t.configuracion.personalizacion.colorAccent),d(4),g("ngModel",t.configuracion.personalizacion.tamanioFuente),d(17),g("ngModel",t.configuracion.personalizacion.formatoFecha),d(10),g("ngModel",t.configuracion.personalizacion.formatoHora),d(8),g("ngModel",t.configuracion.personalizacion.separadorDecimal),d(8),g("ngModel",t.configuracion.personalizacion.separadorMiles),d(10),g("ngModel",t.configuracion.personalizacion.idioma),d(12),g("ngModel",t.configuracion.personalizacion.animaciones),d(4),g("ngModel",t.configuracion.personalizacion.sonidos),d(4),g("ngModel",t.configuracion.personalizacion.modoAccesibilidad),d(4),g("ngModel",t.configuracion.personalizacion.incluirLogoEnReportes)}}function Ht(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F4BE} Configuraci\xF3n de Backup"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F504} Backup Autom\xE1tico"),i(),n(6,"div",49)(7,"div",53)(8,"label",51),r(9,"Frecuencia"),i(),n(10,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.frecuenciaBackup,e)||(a.configuracion.backup.frecuenciaBackup=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(11,"option",299),r(12,"Diario"),i(),n(13,"option",300),r(14,"Semanal"),i(),n(15,"option",143),r(16,"Mensual"),i()()(),n(17,"div",53)(18,"label",51),r(19,"Hora de Ejecuci\xF3n"),i(),n(20,"input",301),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.horaBackup,e)||(a.configuracion.backup.horaBackup=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(21,"div",53)(22,"label",51),r(23,"D\xEDas de Retenci\xF3n"),i(),n(24,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.diasRetencionBackup,e)||(a.configuracion.backup.diasRetencionBackup=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(25,"div",53)(26,"label",51),r(27,"Backups M\xE1ximos a Almacenar"),i(),n(28,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.backupsMaximosAlmacenar,e)||(a.configuracion.backup.backupsMaximosAlmacenar=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(29,"div",50)(30,"label",51),r(31,"Ruta de Backup Local"),i(),n(32,"input",302),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.rutaBackupLocal,e)||(a.configuracion.backup.rutaBackupLocal=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()(),n(33,"div",81)(34,"label",82)(35,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.backupAutomatico,e)||(a.configuracion.backup.backupAutomatico=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(36,"span"),r(37,"Backup autom\xE1tico activo"),i()(),n(38,"label",82)(39,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.comprimirBackups,e)||(a.configuracion.backup.comprimirBackups=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(40,"span"),r(41,"Comprimir backups"),i()(),n(42,"label",82)(43,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.encriptarBackups,e)||(a.configuracion.backup.encriptarBackups=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(44,"span"),r(45,"Encriptar backups"),i()(),n(46,"label",82)(47,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.notificarBackupExitoso,e)||(a.configuracion.backup.notificarBackupExitoso=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(48,"span"),r(49,"Notificar backup exitoso"),i()(),n(50,"label",82)(51,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.notificarBackupFallido,e)||(a.configuracion.backup.notificarBackupFallido=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(52,"span"),r(53,"Notificar backup fallido"),i()(),n(54,"label",82)(55,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.backup.permitirRestauracion,e)||(a.configuracion.backup.permitirRestauracion=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(56,"span"),r(57,"Permitir restauraci\xF3n de backups"),i()()()(),n(58,"div",303)(59,"button",197),u("click",function(){s(t);let e=c();return l(e.ejecutarBackupManual())}),r(60," \u{1F4BE} Crear Backup Ahora "),i(),n(61,"button",32),u("click",function(){s(t);let e=c();return l(e.restaurarBackup())}),r(62," \u21A9\uFE0F Restaurar Backup "),i()()()}if(m&2){let t=c();d(10),g("ngModel",t.configuracion.backup.frecuenciaBackup),d(10),g("ngModel",t.configuracion.backup.horaBackup),d(4),g("ngModel",t.configuracion.backup.diasRetencionBackup),d(4),g("ngModel",t.configuracion.backup.backupsMaximosAlmacenar),d(4),g("ngModel",t.configuracion.backup.rutaBackupLocal),d(3),g("ngModel",t.configuracion.backup.backupAutomatico),d(4),g("ngModel",t.configuracion.backup.comprimirBackups),d(4),g("ngModel",t.configuracion.backup.encriptarBackups),d(4),g("ngModel",t.configuracion.backup.notificarBackupExitoso),d(4),g("ngModel",t.configuracion.backup.notificarBackupFallido),d(4),g("ngModel",t.configuracion.backup.permitirRestauracion)}}function qt(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u2699\uFE0F Configuraci\xF3n del Sistema"),i(),n(3,"div",304)(4,"div",305)(5,"span",306),r(6,"Versi\xF3n del Sistema:"),i(),n(7,"span",307),r(8),i()(),n(9,"div",305)(10,"span",306),r(11,"\xDAltima Actualizaci\xF3n:"),i(),n(12,"span",307),r(13),i()()(),n(14,"div",47)(15,"h3",48),r(16,"\u26A1 Performance y L\xEDmites"),i(),n(17,"div",49)(18,"div",53)(19,"label",51),r(20,"Registros por P\xE1gina"),i(),n(21,"input",308),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.registrosPorPagina,e)||(a.configuracion.sistema.registrosPorPagina=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(22,"div",53)(23,"label",51),r(24,"Tama\xF1o M\xE1ximo Archivo (MB)"),i(),n(25,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.tamanioMaximoArchivo,e)||(a.configuracion.sistema.tamanioMaximoArchivo=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(26,"div",53)(27,"label",51),r(28,"Tiempo de Cach\xE9 (segundos)"),i(),n(29,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.tiempoCache,e)||(a.configuracion.sistema.tiempoCache=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(30,"div",53)(31,"label",51),r(32,"Trabajadores M\xE1ximos"),i(),n(33,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.trabajadoresMaximos,e)||(a.configuracion.sistema.trabajadoresMaximos=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()()(),n(34,"div",81)(35,"label",82)(36,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.cacheDatos,e)||(a.configuracion.sistema.cacheDatos=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(37,"span"),r(38,"Cach\xE9 de datos activo"),i()(),n(39,"label",82)(40,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.optimizarConsultas,e)||(a.configuracion.sistema.optimizarConsultas=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(41,"span"),r(42,"Optimizar consultas autom\xE1ticamente"),i()(),n(43,"label",82)(44,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.optimizarDBAutomatico,e)||(a.configuracion.sistema.optimizarDBAutomatico=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(45,"span"),r(46,"Optimizar base de datos autom\xE1ticamente"),i()(),n(47,"label",82)(48,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.verificarActualizacionesAuto,e)||(a.configuracion.sistema.verificarActualizacionesAuto=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(49,"span"),r(50,"Verificar actualizaciones autom\xE1ticamente"),i()()()(),n(51,"div",47)(52,"h3",48),r(53,"\u{1F4CB} Logs"),i(),n(54,"div",49)(55,"div",53)(56,"label",51),r(57,"Nivel de Logs"),i(),n(58,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.nivelLogs,e)||(a.configuracion.sistema.nivelLogs=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),n(59,"option",309),r(60,"Error"),i(),n(61,"option",310),r(62,"Warning"),i(),n(63,"option",311),r(64,"Info"),i(),n(65,"option",312),r(66,"Debug"),i()()(),n(67,"div",50)(68,"label",51),r(69,"Ruta de Logs"),i(),n(70,"input",313),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.rutaLogs,e)||(a.configuracion.sistema.rutaLogs=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(71,"div",50)(72,"label",82)(73,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.guardarLogsEnArchivo,e)||(a.configuracion.sistema.guardarLogsEnArchivo=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(74,"span"),r(75,"Guardar logs en archivo"),i()()()()(),n(76,"div",47)(77,"h3",48),r(78,"\u{1F527} API"),i(),n(79,"div",49)(80,"div",53)(81,"label",51),r(82,"API Key"),i(),n(83,"div",314)(84,"input",315),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.apiKey,e)||(a.configuracion.sistema.apiKey=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(85,"button",32),u("click",function(){s(t);let e=c();return l(e.generarAPIKey())}),r(86," \u{1F511} Generar "),i()()(),n(87,"div",53)(88,"label",51),r(89,"Rate Limit (req/min)"),i(),n(90,"input",137),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.rateLimitAPI,e)||(a.configuracion.sistema.rateLimitAPI=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(91,"div",50)(92,"label",82)(93,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.sistema.apiHabilitada,e)||(a.configuracion.sistema.apiHabilitada=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(94,"span"),r(95,"API habilitada"),i()()()()(),n(96,"div",316)(97,"button",32),u("click",function(){s(t);let e=c();return l(e.limpiarCache())}),r(98," \u{1F5D1}\uFE0F Limpiar Cach\xE9 "),i(),n(99,"button",32),u("click",function(){s(t);let e=c();return l(e.optimizarBaseDatos())}),r(100," \u26A1 Optimizar Base de Datos "),i(),n(101,"button",32),u("click",function(){s(t);let e=c();return l(e.verificarActualizaciones())}),r(102," \u{1F504} Verificar Actualizaciones "),i()()()}if(m&2){let t=c();d(8),v(t.configuracion.sistema.versionSistema),d(5),v(t.configuracion.sistema!=null&&t.configuracion.sistema.fechaActualizacion?t.formatearFecha(t.configuracion.sistema.fechaActualizacion):"No disponible"),d(8),g("ngModel",t.configuracion.sistema.registrosPorPagina),d(4),g("ngModel",t.configuracion.sistema.tamanioMaximoArchivo),d(4),g("ngModel",t.configuracion.sistema.tiempoCache),d(4),g("ngModel",t.configuracion.sistema.trabajadoresMaximos),d(3),g("ngModel",t.configuracion.sistema.cacheDatos),d(4),g("ngModel",t.configuracion.sistema.optimizarConsultas),d(4),g("ngModel",t.configuracion.sistema.optimizarDBAutomatico),d(4),g("ngModel",t.configuracion.sistema.verificarActualizacionesAuto),d(10),g("ngModel",t.configuracion.sistema.nivelLogs),d(12),g("ngModel",t.configuracion.sistema.rutaLogs),d(3),g("ngModel",t.configuracion.sistema.guardarLogsEnArchivo),d(11),g("ngModel",t.configuracion.sistema.apiKey),d(6),g("ngModel",t.configuracion.sistema.rateLimitAPI),d(3),g("ngModel",t.configuracion.sistema.apiHabilitada)}}function Yt(m,f){if(m&1){let t=b();n(0,"div",45)(1,"h2",46),r(2,"\u{1F517} Integraciones"),i(),n(3,"div",47)(4,"h3",48),r(5,"\u{1F3E6} Bancos"),i(),n(6,"div",81)(7,"label",82)(8,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarBancoNacion,e)||(a.configuracion.integraciones.integrarBancoNacion=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(9,"span"),r(10,"Banco de la Naci\xF3n"),i()(),n(11,"label",82)(12,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarBCP,e)||(a.configuracion.integraciones.integrarBCP=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(13,"span"),r(14,"BCP"),i()(),n(15,"label",82)(16,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarInterbank,e)||(a.configuracion.integraciones.integrarInterbank=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(17,"span"),r(18,"Interbank"),i()()()(),n(19,"div",47)(20,"h3",48),r(21,"\u{1F3DB}\uFE0F Gobierno"),i(),n(22,"div",81)(23,"label",82)(24,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarSUNAT,e)||(a.configuracion.integraciones.integrarSUNAT=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(25,"span"),r(26,"SUNAT"),i()(),n(27,"label",82)(28,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarEsSalud,e)||(a.configuracion.integraciones.integrarEsSalud=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(29,"span"),r(30,"EsSalud"),i()(),n(31,"label",82)(32,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarRENIEC,e)||(a.configuracion.integraciones.integrarRENIEC=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(33,"span"),r(34,"RENIEC"),i()(),n(35,"label",82)(36,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarAFP,e)||(a.configuracion.integraciones.integrarAFP=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(37,"span"),r(38,"AFP"),i()()()(),n(39,"div",47)(40,"h3",48),r(41,"\u{1F5A5}\uFE0F Biom\xE9trico"),i(),n(42,"div",49)(43,"div",53)(44,"label",51),r(45,"Modelo de Dispositivo"),i(),n(46,"input",317),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.modeloBiometrico,e)||(a.configuracion.integraciones.modeloBiometrico=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(47,"div",53)(48,"label",51),r(49,"IP del Dispositivo"),i(),n(50,"input",318),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.ipBiometrico,e)||(a.configuracion.integraciones.ipBiometrico=e),l(e)}),u("input",function(){s(t);let e=c();return l(e.detectarCambios())}),i()(),n(51,"div",50)(52,"label",82)(53,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.configuracion.integraciones.integrarBiometrico,e)||(a.configuracion.integraciones.integrarBiometrico=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.detectarCambios())}),i(),n(54,"span"),r(55,"Integrar con dispositivo biom\xE9trico"),i()()(),n(56,"div",50)(57,"button",32),u("click",function(){s(t);let e=c();return l(e.probarIntegracion("Biom\xE9trico"))}),r(58," \u{1F527} Probar Conexi\xF3n "),i()()()()()}if(m&2){let t=c();d(8),g("ngModel",t.configuracion.integraciones.integrarBancoNacion),d(4),g("ngModel",t.configuracion.integraciones.integrarBCP),d(4),g("ngModel",t.configuracion.integraciones.integrarInterbank),d(8),g("ngModel",t.configuracion.integraciones.integrarSUNAT),d(4),g("ngModel",t.configuracion.integraciones.integrarEsSalud),d(4),g("ngModel",t.configuracion.integraciones.integrarRENIEC),d(4),g("ngModel",t.configuracion.integraciones.integrarAFP),d(10),g("ngModel",t.configuracion.integraciones.modeloBiometrico),d(4),g("ngModel",t.configuracion.integraciones.ipBiometrico),d(3),g("ngModel",t.configuracion.integraciones.integrarBiometrico)}}function Jt(m,f){m&1&&(n(0,"div",319)(1,"div",320),E(2,"div",321),n(3,"p"),r(4,"Cargando configuraci\xF3n..."),i()()())}function Kt(m,f){if(m&1){let t=b();n(0,"div",364)(1,"input",365),_("ngModelChange",function(e){s(t);let a=c(2);return p(a.nuevaCategoria,e)||(a.nuevaCategoria=e),l(e)}),u("input",function(){s(t);let e=c(2);return l(e.onNuevaCategoriaChange())}),i(),n(2,"small",69),r(3,"\u{1F4A1} Escriba el nombre de la nueva categor\xEDa (se convertir\xE1 autom\xE1ticamente a may\xFAsculas)"),i()()}if(m&2){let t=c(2);d(),g("ngModel",t.nuevaCategoria)}}function Qt(m,f){if(m&1&&(n(0,"option",67),r(1),i()),m&2){let t=f.$implicit;C("value",t.nombre||t.NombreCargo),d(),O(" ",t.nombre||t.NombreCargo," ")}}function Zt(m,f){if(m&1){let t=b();n(0,"div",50)(1,"label",51),r(2,"\u{1F4A1} Atajo R\xE1pido: Seleccionar Cargo"),i(),n(3,"select",66),_("ngModelChange",function(e){s(t);let a=c(2);return p(a.cargoSeleccionado,e)||(a.cargoSeleccionado=e),l(e)}),u("change",function(){s(t);let e=c(2);return l(e.onCargoSeleccionado())}),n(4,"option",347),r(5,"-- Seleccionar cargo para Renta 5ta --"),i(),w(6,Qt,2,2,"option",136),i(),n(7,"small",69),r(8,"Selecciona un cargo y se llenar\xE1 autom\xE1ticamente el c\xF3digo, nombre y descripci\xF3n"),i()()}if(m&2){let t=c(2);d(3),g("ngModel",t.cargoSeleccionado),d(3),C("ngForOf",t.cargosDisponibles)}}function Xt(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalTasa())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4),i(),n(5,"button",324),u("click",function(){s(t);let e=c();return l(e.cerrarModalTasa())}),r(6,"\u2715"),i()(),n(7,"div",256)(8,"div",49)(9,"div",50)(10,"label",51),r(11,"Categor\xEDa *"),i(),n(12,"div",325)(13,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.Categoria,e)||(a.tasaEditando.Categoria=e),l(e)}),u("change",function(e){s(t);let a=c();return l(a.onCategoriaChange(e))}),n(14,"option",326),r(15,"\u2795 Crear Nueva Categor\xEDa..."),i(),n(16,"option",327),r(17,"AFP - Fondo de Pensiones"),i(),n(18,"option",328),r(19,"ONP - Sistema de Pensiones"),i(),n(20,"option",329),r(21,"Salud (EsSalud)"),i(),n(22,"option",330),r(23,"Seguros"),i(),n(24,"option",331),r(25,"SCTR - Seguro Complementario"),i(),n(26,"option",332),r(27,"Renta de 5ta Categor\xEDa"),i(),n(28,"option",333),r(29,"Renta"),i(),n(30,"option",334),r(31,"Bonificaciones"),i(),n(32,"option",335),r(33,"Bonificaciones (Sistema)"),i(),n(34,"option",336),r(35,"Ingresos"),i(),n(36,"option",337),r(37,"Asignaci\xF3n Familiar"),i(),n(38,"option",338),r(39,"Descuentos por Asistencia"),i(),n(40,"option",339),r(41,"Descuentos"),i(),n(42,"option",340),r(43,"Sindical"),i(),n(44,"option",341),r(45,"Pr\xE9stamos"),i(),n(46,"option",342),r(47,"Aportes"),i(),n(48,"option",343),r(49,"Otros - Conceptos Generales"),i(),n(50,"option",344),r(51,"Otros Descuentos"),i()(),w(52,Kt,4,1,"div",345),i(),n(53,"small",69),r(54,"\u{1F4A1} La categor\xEDa determina el prefijo del c\xF3digo"),i()(),n(55,"div",50)(56,"label",51),r(57,"Tipo de Tasa "),n(58,"span",346),r(59,"(Opcional)"),i()(),n(60,"select",66),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.TipoTasa,e)||(a.tasaEditando.TipoTasa=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.onTipoTasaChange())}),n(61,"option",347),r(62,"-- Seleccionar tipo (o dejar en blanco para detecci\xF3n autom\xE1tica) --"),i(),n(63,"option",348),r(64,"\u2796 Descuento (Se resta del sueldo del trabajador)"),i(),n(65,"option",349),r(66,"\u2795 Ingreso (Se suma al sueldo del trabajador)"),i(),n(67,"option",350),r(68,"\u{1F3E2} Aporte del Empleador (Costo para la empresa, no afecta el sueldo)"),i()(),n(69,"small",69),r(70," \u{1F4A1} "),n(71,"strong"),r(72,"Opcional:"),i(),r(73," Si no seleccionas, el sistema detectar\xE1 autom\xE1ticamente el tipo seg\xFAn el nombre, categor\xEDa o c\xF3digo de la tasa. "),E(74,"br"),n(75,"strong"),r(76,"Palabras clave para detecci\xF3n autom\xE1tica:"),i(),E(77,"br"),r(78," \u2022 "),n(79,"strong"),r(80,"Descuento:"),i(),r(81,' "descuento", "cuota", "retenci\xF3n", "pr\xE9stamo", "sindical", "falta", "tardanza" '),E(82,"br"),r(83," \u2022 "),n(84,"strong"),r(85,"Ingreso:"),i(),r(86,' "bono", "bonificaci\xF3n", "compensaci\xF3n", "premio", "gratificaci\xF3n", "extra" '),E(87,"br"),r(88," \u2022 "),n(89,"strong"),r(90,"Aporte:"),i(),r(91,' "aporte", "essalud", "sctr", "seguro vida", "empleador" '),i()(),w(92,Zt,9,2,"div",351),n(93,"div",50)(94,"label",51),r(95,"Nombre de la Tasa *"),i(),n(96,"input",352),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.Nombre,e)||(a.tasaEditando.Nombre=e),l(e)}),u("ngModelChange",function(){s(t);let e=c();return l(e.generarCodigoTasa())}),i(),n(97,"small",69),r(98,"\u{1F4A1} Escribe el nombre y el c\xF3digo se generar\xE1 autom\xE1ticamente"),i()(),n(99,"div",50)(100,"label",51),r(101,"C\xF3digo (Generado Autom\xE1ticamente)"),i(),n(102,"input",353),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.Codigo,e)||(a.tasaEditando.Codigo=e),l(e)}),i(),n(103,"small",69),r(104,"\u2705 El c\xF3digo se genera autom\xE1ticamente seg\xFAn la categor\xEDa y el nombre"),i()(),n(105,"div",53)(106,"label",51),r(107,"Valor *"),i(),n(108,"input",354),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.Valor,e)||(a.tasaEditando.Valor=e),l(e)}),i(),n(109,"small",69),r(110,"Para porcentajes usa decimal (ej: 0.1137 = 11.37%)"),i()(),n(111,"div",53)(112,"label",51),r(113,"Tipo *"),i(),n(114,"select",355),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.TipoValor,e)||(a.tasaEditando.TipoValor=e),l(e)}),n(115,"option",356),r(116,"Porcentaje"),i(),n(117,"option",357),r(118,"Monto"),i(),n(119,"option",358),r(120,"Factor"),i(),n(121,"option",359),r(122,"Cantidad"),i()()(),n(123,"div",50)(124,"label",51),r(125,"Descripci\xF3n"),i(),n(126,"textarea",360),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.Descripcion,e)||(a.tasaEditando.Descripcion=e),l(e)}),i()(),n(127,"div",53)(128,"label",51),r(129,"Fecha Vigencia Inicio *"),i(),n(130,"input",361),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.FechaVigenciaInicio,e)||(a.tasaEditando.FechaVigenciaInicio=e),l(e)}),i()(),n(131,"div",53)(132,"label",51),r(133,"Fecha Vigencia Fin"),i(),n(134,"input",361),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.FechaVigenciaFin,e)||(a.tasaEditando.FechaVigenciaFin=e),l(e)}),i(),n(135,"small",69),r(136,"Dejar vac\xEDo para vigencia indefinida"),i()(),n(137,"div",50)(138,"label",82)(139,"input",280),_("ngModelChange",function(e){s(t);let a=c();return p(a.tasaEditando.Activo,e)||(a.tasaEditando.Activo=e),l(e)}),i(),n(140,"span"),r(141,"Activo"),i()()()()(),n(142,"div",258)(143,"button",362),u("click",function(){s(t);let e=c();return l(e.cerrarModalTasa())}),r(144," \u2715 Cancelar "),i(),n(145,"button",363),u("click",function(){s(t);let e=c();return l(e.guardarTasa())}),r(146),i()()()()}if(m&2){let t=c();d(4),v(t.tasaEditando!=null&&t.tasaEditando.ConfigID?"Editar Tasa":"Nueva Tasa"),d(9),D("form-select--custom",t.categoriaEsPersonalizada),g("ngModel",t.tasaEditando.Categoria),d(39),C("ngIf",t.categoriaEsPersonalizada),d(8),g("ngModel",t.tasaEditando.TipoTasa),d(32),C("ngIf",!t.tasaEditando.ConfigID&&t.esCategoriaRenta()),d(4),g("ngModel",t.tasaEditando.Nombre),d(6),g("ngModel",t.tasaEditando.Codigo),C("disabled",!0),d(6),g("ngModel",t.tasaEditando.Valor),d(6),g("ngModel",t.tasaEditando.TipoValor),d(12),g("ngModel",t.tasaEditando.Descripcion),d(4),g("ngModel",t.tasaEditando.FechaVigenciaInicio),d(4),g("ngModel",t.tasaEditando.FechaVigenciaFin),d(5),g("ngModel",t.tasaEditando.Activo),d(6),C("disabled",t.guardando),d(),O(" ",t.guardando?"\u23F3 Guardando...":"\u{1F4BE} Guardar Tasa"," ")}}function $t(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalEliminarTasa())}),n(1,"div",366),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",367)(3,"h3",368),r(4,"\u26A0\uFE0F Eliminar o Desactivar Tasa"),i(),n(5,"button",369),u("click",function(){s(t);let e=c();return l(e.cerrarModalEliminarTasa())}),r(6,"\u2715"),i()(),n(7,"div",370)(8,"div",371)(9,"div",63),r(10,"\u26A0\uFE0F"),i(),n(11,"div",64)(12,"strong"),r(13,"\xBFQu\xE9 deseas hacer con esta tasa?"),i(),n(14,"p",372)(15,"strong"),r(16),i(),E(17,"br"),n(18,"code",373),r(19),i()()()(),n(20,"div",374)(21,"div",375)(22,"h4",376)(23,"span",377),r(24,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"),i(),r(25," Marcar como Inactiva (Recomendado) "),i(),n(26,"ul",378)(27,"li"),r(28,"\u2705 La tasa se conserva en el historial"),i(),n(29,"li"),r(30,"\u2705 No se usar\xE1 en futuros c\xE1lculos"),i(),n(31,"li"),r(32,"\u2705 Se puede reactivar despu\xE9s"),i(),n(33,"li"),r(34,"\u2705 Las planillas antiguas mantienen la referencia"),i()()(),n(35,"div",379)(36,"h4",380)(37,"span",377),r(38,"\u{1F5D1}\uFE0F"),i(),r(39," Eliminar Definitivamente "),i(),n(40,"ul",378)(41,"li"),r(42,"\u274C La tasa se borra permanentemente"),i(),n(43,"li"),r(44,"\u274C No se puede recuperar"),i(),n(45,"li"),r(46,"\u26A0\uFE0F Puede afectar reportes hist\xF3ricos"),i(),n(47,"li"),r(48,"\u26A0\uFE0F Solo usar si fue creada por error"),i()()()()(),n(49,"div",381)(50,"button",382),u("click",function(){s(t);let e=c();return l(e.cerrarModalEliminarTasa())}),r(51," \u2715 Cancelar "),i(),n(52,"button",383),u("click",function(){s(t);let e=c();return l(e.desactivarTasa())}),r(53),i(),n(54,"button",384),u("click",function(){s(t);let e=c();return l(e.eliminarTasaDefinitivamente())}),r(55),i()()()()}if(m&2){let t=c();d(16),v(t.tasaAEliminar==null?null:t.tasaAEliminar.Nombre),d(3),v(t.tasaAEliminar==null?null:t.tasaAEliminar.Codigo),d(33),C("disabled",t.guardando),d(),O(" ",t.guardando?"\u23F3 Procesando...":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F Desactivar"," "),d(),C("disabled",t.guardando),d(),O(" ",t.guardando?"\u23F3 Procesando...":"\u{1F5D1}\uFE0F Eliminar"," ")}}function en(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalRegimenLaboral())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4),i(),n(5,"button",385),u("click",function(){s(t);let e=c();return l(e.cerrarModalRegimenLaboral())}),r(6," \u2715 "),i()(),n(7,"div",256)(8,"div",49)(9,"div",53)(10,"label",51),r(11,"C\xF3digo *"),i(),n(12,"input",386),_("ngModelChange",function(e){s(t);let a=c();return p(a.regimenLaboralForm.codigo,e)||(a.regimenLaboralForm.codigo=e),l(e)}),i(),n(13,"small",387),r(14,"M\xE1ximo 20 caracteres. Se genera autom\xE1ticamente si se deja vac\xEDo."),i()(),n(15,"div",53)(16,"label",51),r(17,"Nombre *"),i(),n(18,"input",388),_("ngModelChange",function(e){s(t);let a=c();return p(a.regimenLaboralForm.nombre,e)||(a.regimenLaboralForm.nombre=e),l(e)}),i()(),n(19,"div",50)(20,"label",51),r(21,"Descripci\xF3n *"),i(),n(22,"textarea",389),_("ngModelChange",function(e){s(t);let a=c();return p(a.regimenLaboralForm.descripcion,e)||(a.regimenLaboralForm.descripcion=e),l(e)}),i()(),n(23,"div",50)(24,"label",51),r(25,"Base Normativa *"),i(),n(26,"input",390),_("ngModelChange",function(e){s(t);let a=c();return p(a.regimenLaboralForm.baseNormativa,e)||(a.regimenLaboralForm.baseNormativa=e),l(e)}),i()()()(),n(27,"div",258)(28,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalRegimenLaboral())}),r(29," \u2715 Cancelar "),i(),n(30,"button",363),u("click",function(){s(t);let e=c();return l(e.guardarRegimenLaboral())}),r(31),i()()()()}if(m&2){let t=c();d(4),v(t.regimenLaboralEditando!=null&&t.regimenLaboralEditando.RegimenID?"Editar R\xE9gimen Laboral":"Nuevo R\xE9gimen Laboral"),d(8),g("ngModel",t.regimenLaboralForm.codigo),d(6),g("ngModel",t.regimenLaboralForm.nombre),d(4),g("ngModel",t.regimenLaboralForm.descripcion),d(4),g("ngModel",t.regimenLaboralForm.baseNormativa),d(4),C("disabled",t.guardandoRegimenLaboral),d(),O(" ",t.guardandoRegimenLaboral?"\u23F3 Guardando...":"\u{1F4BE} Guardar R\xE9gimen"," ")}}function tn(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalTipoContrato())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4),i(),n(5,"button",385),u("click",function(){s(t);let e=c();return l(e.cerrarModalTipoContrato())}),r(6," \u2715 "),i()(),n(7,"div",256)(8,"div",49)(9,"div",53)(10,"label",51),r(11,"C\xF3digo *"),i(),n(12,"input",391),_("ngModelChange",function(e){s(t);let a=c();return p(a.tipoContratoForm.codigo,e)||(a.tipoContratoForm.codigo=e),l(e)}),i(),n(13,"small",387),r(14,"M\xE1ximo 20 caracteres. Se genera autom\xE1ticamente si se deja vac\xEDo."),i()(),n(15,"div",53)(16,"label",51),r(17,"Nombre *"),i(),n(18,"input",392),_("ngModelChange",function(e){s(t);let a=c();return p(a.tipoContratoForm.nombre,e)||(a.tipoContratoForm.nombre=e),l(e)}),i()(),n(19,"div",50)(20,"label",51),r(21,"Descripci\xF3n"),i(),n(22,"textarea",393),_("ngModelChange",function(e){s(t);let a=c();return p(a.tipoContratoForm.descripcion,e)||(a.tipoContratoForm.descripcion=e),l(e)}),i()()()(),n(23,"div",258)(24,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalTipoContrato())}),r(25," \u2715 Cancelar "),i(),n(26,"button",363),u("click",function(){s(t);let e=c();return l(e.guardarTipoContrato())}),r(27),i()()()()}if(m&2){let t=c();d(4),v(t.tipoContratoEditando!=null&&t.tipoContratoEditando.TipoContratoID?"Editar Tipo de Contrato":"Nuevo Tipo de Contrato"),d(8),g("ngModel",t.tipoContratoForm.codigo),d(6),g("ngModel",t.tipoContratoForm.nombre),d(4),g("ngModel",t.tipoContratoForm.descripcion),d(4),C("disabled",t.guardandoTipoContrato),d(),O(" ",t.guardandoTipoContrato?"\u23F3 Guardando...":"\u{1F4BE} Guardar Tipo de Contrato"," ")}}function nn(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalCondicionLaboral())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4),i(),n(5,"button",385),u("click",function(){s(t);let e=c();return l(e.cerrarModalCondicionLaboral())}),r(6," \u2715 "),i()(),n(7,"div",256)(8,"div",49)(9,"div",53)(10,"label",51),r(11,"C\xF3digo *"),i(),n(12,"input",394),_("ngModelChange",function(e){s(t);let a=c();return p(a.condicionLaboralForm.codigo,e)||(a.condicionLaboralForm.codigo=e),l(e)}),i(),n(13,"small",387),r(14,"M\xE1ximo 50 caracteres. Ejemplos: NOMBRADO, CONTRATADO, EMPLEADO_CONFIANZA"),i()(),n(15,"div",53)(16,"label",51),r(17,"Nombre *"),i(),n(18,"input",395),_("ngModelChange",function(e){s(t);let a=c();return p(a.condicionLaboralForm.nombre,e)||(a.condicionLaboralForm.nombre=e),l(e)}),i()(),n(19,"div",50)(20,"label",51),r(21,"Descripci\xF3n"),i(),n(22,"textarea",396),_("ngModelChange",function(e){s(t);let a=c();return p(a.condicionLaboralForm.descripcion,e)||(a.condicionLaboralForm.descripcion=e),l(e)}),r(23,"          "),i()()()(),n(24,"div",258)(25,"button",397),u("click",function(){s(t);let e=c();return l(e.cerrarModalCondicionLaboral())}),r(26," Cancelar "),i(),n(27,"button",363),u("click",function(){s(t);let e=c();return l(e.guardarCondicionLaboral())}),r(28),i()()()()}if(m&2){let t=c();d(4),v(t.condicionLaboralEditando!=null&&t.condicionLaboralEditando.CondicionID?"Editar Condici\xF3n Laboral":"Nueva Condici\xF3n Laboral"),d(8),g("ngModel",t.condicionLaboralForm.codigo),d(6),g("ngModel",t.condicionLaboralForm.nombre),d(4),g("ngModel",t.condicionLaboralForm.descripcion),d(3),C("disabled",t.guardandoCondicionLaboral),d(2),C("disabled",t.guardandoCondicionLaboral||!(t.condicionLaboralForm.nombre!=null&&t.condicionLaboralForm.nombre.trim())||!(t.condicionLaboralForm.codigo!=null&&t.condicionLaboralForm.codigo.trim())),d(),O(" ",t.guardandoCondicionLaboral?"Guardando...":t.condicionLaboralEditando?"Actualizar Condici\xF3n":"Guardar Condici\xF3n Laboral"," ")}}function on(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalCargo())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4),i(),n(5,"button",385),u("click",function(){s(t);let e=c();return l(e.cerrarModalCargo())}),r(6," \u2715 "),i()(),n(7,"div",256)(8,"div",49)(9,"div",50)(10,"label",51),r(11,"Nombre *"),i(),n(12,"input",398),_("ngModelChange",function(e){s(t);let a=c();return p(a.cargoForm.nombre,e)||(a.cargoForm.nombre=e),l(e)}),i()(),n(13,"div",50)(14,"label",51),r(15,"Descripci\xF3n"),i(),n(16,"textarea",399),_("ngModelChange",function(e){s(t);let a=c();return p(a.cargoForm.descripcion,e)||(a.cargoForm.descripcion=e),l(e)}),i()()()(),n(17,"div",258)(18,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalCargo())}),r(19," \u2715 Cancelar "),i(),n(20,"button",363),u("click",function(){s(t);let e=c();return l(e.guardarCargo())}),r(21),i()()()()}if(m&2){let t=c();d(4),v(t.cargoEditando!=null&&t.cargoEditando.CargoID?"Editar Cargo":"Nuevo Cargo"),d(8),g("ngModel",t.cargoForm.nombre),d(4),g("ngModel",t.cargoForm.descripcion),d(4),C("disabled",t.guardandoCargo),d(),O(" ",t.guardandoCargo?"\u23F3 Guardando...":"\u{1F4BE} Guardar Cargo"," ")}}function an(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalRol())}),n(1,"div",400),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4),i(),n(5,"button",324),u("click",function(){s(t);let e=c();return l(e.cerrarModalRol())}),r(6,"\u2715"),i()(),n(7,"div",256)(8,"div",49)(9,"div",53)(10,"label",51),r(11,"Nombre del Rol *"),i(),n(12,"input",401),_("ngModelChange",function(e){s(t);let a=c();return p(a.rolForm.nombre,e)||(a.rolForm.nombre=e),l(e)}),i()(),n(13,"div",50)(14,"label",51),r(15,"Descripci\xF3n"),i(),n(16,"textarea",402),_("ngModelChange",function(e){s(t);let a=c();return p(a.rolForm.descripcion,e)||(a.rolForm.descripcion=e),l(e)}),i()()(),n(17,"div",403)(18,"h4",404),r(19,"\u{1F510} Configurar Permisos"),i(),n(20,"p",405),r(21,"Selecciona los permisos que tendr\xE1 este rol en cada m\xF3dulo del sistema"),i(),n(22,"div",406)(23,"div",407)(24,"div",408)(25,"span",409),r(26,"\u{1F465}"),i(),n(27,"span",410),r(28,"Trabajadores"),i()(),n(29,"div",411)(30,"label",412)(31,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("trabajadores","ver"))}),i(),E(32,"span",413),r(33," Ver trabajadores "),i(),n(34,"label",412)(35,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("trabajadores","crear"))}),i(),E(36,"span",413),r(37," Crear trabajadores "),i(),n(38,"label",412)(39,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("trabajadores","editar"))}),i(),E(40,"span",413),r(41," Editar trabajadores "),i(),n(42,"label",412)(43,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("trabajadores","eliminar"))}),i(),E(44,"span",413),r(45," Eliminar trabajadores "),i()()(),n(46,"div",407)(47,"div",408)(48,"span",409),r(49,"\u{1F4B0}"),i(),n(50,"span",410),r(51,"Planillas"),i()(),n(52,"div",411)(53,"label",412)(54,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("planillas","ver"))}),i(),E(55,"span",413),r(56," Ver planillas "),i(),n(57,"label",412)(58,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("planillas","crear"))}),i(),E(59,"span",413),r(60," Crear planillas "),i(),n(61,"label",412)(62,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("planillas","editar"))}),i(),E(63,"span",413),r(64," Editar planillas "),i(),n(65,"label",412)(66,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("planillas","eliminar"))}),i(),E(67,"span",413),r(68," Eliminar planillas "),i()()(),n(69,"div",407)(70,"div",408)(71,"span",409),r(72,"\u{1F4CA}"),i(),n(73,"span",410),r(74,"Reportes"),i()(),n(75,"div",411)(76,"label",412)(77,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("reportes","ver"))}),i(),E(78,"span",413),r(79," Ver reportes "),i(),n(80,"label",412)(81,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("reportes","exportar"))}),i(),E(82,"span",413),r(83," Exportar reportes "),i()()(),n(84,"div",407)(85,"div",408)(86,"span",409),r(87,"\u2699\uFE0F"),i(),n(88,"span",410),r(89,"Configuraci\xF3n"),i()(),n(90,"div",411)(91,"label",412)(92,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("configuracion","ver"))}),i(),E(93,"span",413),r(94," Ver configuraci\xF3n "),i(),n(95,"label",412)(96,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("configuracion","editar"))}),i(),E(97,"span",413),r(98," Editar configuraci\xF3n "),i()()(),n(99,"div",407)(100,"div",408)(101,"span",409),r(102,"\u{1F4C5}"),i(),n(103,"span",410),r(104,"Asistencia"),i()(),n(105,"div",411)(106,"label",412)(107,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("asistencia","ver"))}),i(),E(108,"span",413),r(109," Ver asistencia "),i(),n(110,"label",412)(111,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("asistencia","editar"))}),i(),E(112,"span",413),r(113," Editar asistencia "),i()()(),n(114,"div",407)(115,"div",408)(116,"span",409),r(117,"\u{1F381}"),i(),n(118,"span",410),r(119,"Beneficios"),i()(),n(120,"div",411)(121,"label",412)(122,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("beneficios","ver"))}),i(),E(123,"span",413),r(124," Ver beneficios "),i(),n(125,"label",412)(126,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("beneficios","editar"))}),i(),E(127,"span",413),r(128," Editar beneficios "),i()()(),n(129,"div",407)(130,"div",408)(131,"span",409),r(132,"\u{1F4B5}"),i(),n(133,"span",410),r(134,"Pr\xE9stamos"),i()(),n(135,"div",411)(136,"label",412)(137,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("prestamos","ver"))}),i(),E(138,"span",413),r(139," Ver pr\xE9stamos "),i(),n(140,"label",412)(141,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("prestamos","crear"))}),i(),E(142,"span",413),r(143," Crear pr\xE9stamos "),i(),n(144,"label",412)(145,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("prestamos","editar"))}),i(),E(146,"span",413),r(147," Editar pr\xE9stamos "),i(),n(148,"label",412)(149,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("prestamos","eliminar"))}),i(),E(150,"span",413),r(151," Eliminar pr\xE9stamos "),i()()(),n(152,"div",407)(153,"div",408)(154,"span",409),r(155,"\u{1F464}"),i(),n(156,"span",410),r(157,"Usuarios"),i()(),n(158,"div",411)(159,"label",412)(160,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("usuarios","ver"))}),i(),E(161,"span",413),r(162," Ver usuarios "),i(),n(163,"label",412)(164,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("usuarios","crear"))}),i(),E(165,"span",413),r(166," Crear usuarios "),i(),n(167,"label",412)(168,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("usuarios","editar"))}),i(),E(169,"span",413),r(170," Editar usuarios "),i(),n(171,"label",412)(172,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("usuarios","eliminar"))}),i(),E(173,"span",413),r(174," Eliminar usuarios "),i()()(),n(175,"div",407)(176,"div",408)(177,"span",409),r(178,"\u{1F451}"),i(),n(179,"span",410),r(180,"Roles"),i()(),n(181,"div",411)(182,"label",412)(183,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("roles","ver"))}),i(),E(184,"span",413),r(185," Ver roles "),i(),n(186,"label",412)(187,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("roles","crear"))}),i(),E(188,"span",413),r(189," Crear roles "),i(),n(190,"label",412)(191,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("roles","editar"))}),i(),E(192,"span",413),r(193," Editar roles "),i(),n(194,"label",412)(195,"input",166),u("change",function(){s(t);let e=c();return l(e.togglePermiso("roles","eliminar"))}),i(),E(196,"span",413),r(197," Eliminar roles "),i()()()()()(),n(198,"div",258)(199,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalRol())}),r(200," \u2715 Cancelar "),i(),n(201,"button",363),u("click",function(){s(t);let e=c();return l(e.guardarRol())}),r(202),i()()()()}if(m&2){let t=c();d(4),v(t.rolEditando?"\u270F\uFE0F Editar Rol":"\u2795 Crear Nuevo Rol"),d(8),g("ngModel",t.rolForm.nombre),d(4),g("ngModel",t.rolForm.descripcion),d(15),C("checked",t.tienePermiso("trabajadores","ver")),d(4),C("checked",t.tienePermiso("trabajadores","crear")),d(4),C("checked",t.tienePermiso("trabajadores","editar")),d(4),C("checked",t.tienePermiso("trabajadores","eliminar")),d(11),C("checked",t.tienePermiso("planillas","ver")),d(4),C("checked",t.tienePermiso("planillas","crear")),d(4),C("checked",t.tienePermiso("planillas","editar")),d(4),C("checked",t.tienePermiso("planillas","eliminar")),d(11),C("checked",t.tienePermiso("reportes","ver")),d(4),C("checked",t.tienePermiso("reportes","exportar")),d(11),C("checked",t.tienePermiso("configuracion","ver")),d(4),C("checked",t.tienePermiso("configuracion","editar")),d(11),C("checked",t.tienePermiso("asistencia","ver")),d(4),C("checked",t.tienePermiso("asistencia","editar")),d(11),C("checked",t.tienePermiso("beneficios","ver")),d(4),C("checked",t.tienePermiso("beneficios","editar")),d(11),C("checked",t.tienePermiso("prestamos","ver")),d(4),C("checked",t.tienePermiso("prestamos","crear")),d(4),C("checked",t.tienePermiso("prestamos","editar")),d(4),C("checked",t.tienePermiso("prestamos","eliminar")),d(11),C("checked",t.tienePermiso("usuarios","ver")),d(4),C("checked",t.tienePermiso("usuarios","crear")),d(4),C("checked",t.tienePermiso("usuarios","editar")),d(4),C("checked",t.tienePermiso("usuarios","eliminar")),d(11),C("checked",t.tienePermiso("roles","ver")),d(4),C("checked",t.tienePermiso("roles","crear")),d(4),C("checked",t.tienePermiso("roles","editar")),d(4),C("checked",t.tienePermiso("roles","eliminar")),d(6),C("disabled",t.guardandoRol),d(),O(" ",t.guardandoRol?"\u23F3 Guardando...":"\u{1F4BE} Guardar Rol"," ")}}function rn(m,f){m&1&&(n(0,"div",419),E(1,"div",269),i())}function cn(m,f){m&1&&(n(0,"div",420),V(),n(1,"svg",271),E(2,"circle",272)(3,"path",273),i()())}function sn(m,f){if(m&1&&(n(0,"p",421),r(1),i()),m&2){let t=c(2);d(),O(" ",t.mensajeExitoRol," ")}}function ln(m,f){m&1&&(n(0,"p",421),r(1," Guardando rol... "),i())}function dn(m,f){if(m&1){let t=b();n(0,"div",261),u("click",function(){s(t);let e=c();return l(e.cerrarModalExitoRol())}),n(1,"div",262),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",414),w(3,rn,2,0,"div",415)(4,cn,4,0,"div",416),n(5,"h3",417),r(6,"Rol guardado exitosamente"),i(),w(7,sn,2,1,"p",418)(8,ln,2,0,"p",418),i()()()}if(m&2){let t=c();d(3),C("ngIf",t.guardandoRolProceso),d(),C("ngIf",t.rolGuardadoCompletado),d(3),C("ngIf",t.rolGuardadoCompletado),d(),C("ngIf",t.guardandoRolProceso)}}function mn(m,f){if(m&1&&(n(0,"div",305)(1,"span",306),r(2,"Descripci\xF3n:"),i(),n(3,"span",307),r(4),i()()),m&2){let t=c(2);d(4),v(t.rolAEliminar.descripcion)}}function un(m,f){m&1&&(n(0,"p")(1,"strong",435),r(2,"\u26A0\uFE0F ADVERTENCIA: Est\xE1s eliminando el rol Super Administrador. Aseg\xFArate de que no haya usuarios asignados a este rol."),i()())}function gn(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalEliminarRol())}),n(1,"div",422),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",423)(3,"div",424),r(4,"\u{1F5D1}\uFE0F"),i(),n(5,"h3"),r(6,"Eliminar Rol Permanentemente"),i()(),n(7,"div",425)(8,"div",305)(9,"span",306),r(10,"Rol:"),i(),n(11,"span",307),r(12),i()(),w(13,mn,5,1,"div",426),i(),n(14,"div",427)(15,"div",428),r(16,"\u26A0\uFE0F"),i(),n(17,"div",429)(18,"p")(19,"strong"),r(20,"Esta acci\xF3n no se puede deshacer."),i()(),n(21,"p"),r(22,"El rol ser\xE1 eliminado permanentemente de la base de datos."),i(),w(23,un,3,0,"p",430),i()(),n(24,"div",431)(25,"label",51),r(26,"Escriba "),n(27,"strong"),r(28,"ELIMINAR"),i(),r(29," para confirmar:"),i(),n(30,"input",432),_("ngModelChange",function(e){s(t);let a=c();return p(a.confirmacionEliminarRol,e)||(a.confirmacionEliminarRol=e),l(e)}),u("keyup.enter",function(){s(t);let e=c();return l(e.confirmarEliminacionRol())}),i()(),n(31,"div",433)(32,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalEliminarRol())}),r(33," \u2715 Cancelar "),i(),n(34,"button",434),u("click",function(){s(t);let e=c();return l(e.confirmarEliminacionRol())}),r(35),i()()()()}if(m&2){let t=c();d(12),v(t.rolAEliminar==null?null:t.rolAEliminar.nombre),d(),C("ngIf",t.rolAEliminar==null?null:t.rolAEliminar.descripcion),d(10),C("ngIf",(t.rolAEliminar==null?null:t.rolAEliminar.nombre)==="Super Administrador"||t.getRolDisplayName(t.rolAEliminar==null?null:t.rolAEliminar.nombre)==="Super Administrador"),d(7),g("ngModel",t.confirmacionEliminarRol),d(4),C("disabled",t.confirmacionEliminarRol!=="ELIMINAR"||t.eliminandoRol),d(),O(" ",t.eliminandoRol?"\u23F3 Eliminando...":"\u{1F5D1}\uFE0F Eliminar Permanentemente"," ")}}function pn(m,f){m&1&&(n(0,"div",419),E(1,"div",269),i())}function _n(m,f){m&1&&(n(0,"div",420),V(),n(1,"svg",271),E(2,"circle",272)(3,"path",273),i()())}function Cn(m,f){if(m&1&&(n(0,"p",421),r(1),i()),m&2){let t=c(2);d(),O(' El rol "',t.rolAEliminar==null?null:t.rolAEliminar.nombre,'" ha sido eliminado permanentemente de la base de datos. ')}}function fn(m,f){m&1&&(n(0,"p",421),r(1," Eliminando rol... "),i())}function xn(m,f){if(m&1){let t=b();n(0,"div",261),u("click",function(){s(t);let e=c();return l(e.cerrarModalExitoEliminacionRol())}),n(1,"div",262),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",414),w(3,pn,2,0,"div",415)(4,_n,4,0,"div",416),n(5,"h3",417),r(6,"Rol eliminado exitosamente"),i(),w(7,Cn,2,1,"p",418)(8,fn,2,0,"p",418),i()()()}if(m&2){let t=c();d(3),C("ngIf",t.eliminandoRol),d(),C("ngIf",t.rolEliminadoCompletado),d(3),C("ngIf",t.rolEliminadoCompletado),d(),C("ngIf",t.eliminandoRol)}}function hn(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalPassword())}),n(1,"div",366),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4,"\u{1F511} Cambiar Contrase\xF1a"),i(),n(5,"button",324),u("click",function(){s(t);let e=c();return l(e.cerrarModalPassword())}),r(6,"\u2715"),i()(),n(7,"div",256)(8,"div",436)(9,"div",437)(10,"span",240),r(11),i(),n(12,"span",241),r(13,"\u{1F511}"),i()(),n(14,"div",438)(15,"div",439),r(16),i(),n(17,"div",440),r(18,"Usuario del sistema"),i()()(),n(19,"div",49)(20,"div",50)(21,"label",51),r(22,"Contrase\xF1a Actual *"),i(),n(23,"input",441),_("ngModelChange",function(e){s(t);let a=c();return p(a.passwordForm.passwordActual,e)||(a.passwordForm.passwordActual=e),l(e)}),i()(),n(24,"div",53)(25,"label",51),r(26,"Nueva Contrase\xF1a *"),i(),n(27,"input",442),_("ngModelChange",function(e){s(t);let a=c();return p(a.passwordForm.passwordNuevo,e)||(a.passwordForm.passwordNuevo=e),l(e)}),i()(),n(28,"div",53)(29,"label",51),r(30,"Confirmar Nueva Contrase\xF1a *"),i(),n(31,"input",443),_("ngModelChange",function(e){s(t);let a=c();return p(a.passwordForm.passwordConfirmar,e)||(a.passwordForm.passwordConfirmar=e),l(e)}),i()()(),n(32,"div",444)(33,"div",63),r(34,"\u2139\uFE0F"),i(),n(35,"div",64)(36,"strong"),r(37,"Requisitos de contrase\xF1a:"),i(),n(38,"ul",445)(39,"li"),r(40,"M\xEDnimo 6 caracteres"),i(),n(41,"li"),r(42,"Se recomienda usar una combinaci\xF3n de letras y n\xFAmeros"),i()()()()(),n(43,"div",258)(44,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalPassword())}),r(45," \u2715 Cancelar "),i(),n(46,"button",363),u("click",function(){s(t);let e=c();return l(e.cambiarPassword())}),r(47),i()()()()}if(m&2){let t=c();d(9),W("background-color",t.getColorAvatar(X(9,De,t.passwordForm.usuarioNombre))),d(2),v(t.passwordForm.usuarioNombre==null?null:t.passwordForm.usuarioNombre.substring(0,2).toUpperCase()),d(5),v(t.passwordForm.usuarioNombre),d(7),g("ngModel",t.passwordForm.passwordActual),d(4),g("ngModel",t.passwordForm.passwordNuevo),d(4),g("ngModel",t.passwordForm.passwordConfirmar),d(15),C("disabled",t.guardandoPassword),d(),O(" ",t.guardandoPassword?"\u23F3 Cambiando...":"\u{1F511} Cambiar Contrase\xF1a"," ")}}function bn(m,f){if(m&1&&(n(0,"option",67),r(1),i()),m&2){let t=f.$implicit,o=c(2);C("value",t.nombre),d(),v(o.getRolDisplayName(t.nombre))}}function vn(m,f){if(m&1&&(n(0,"div",468)(1,"span",469),r(2,"Tiempo restante:"),i(),n(3,"span",472),r(4),i()()),m&2){let t=c(4);d(4),O(" ",t.getTiempoRestante()," ")}}function Mn(m,f){if(m&1&&(n(0,"div",467)(1,"div",468)(2,"span",469),r(3,"Estado:"),i(),n(4,"span",470),r(5),i()(),w(6,vn,5,1,"div",471),i()),m&2){let t=c(3);d(4),D("active",t.isDemoActive())("expired",!t.isDemoActive()),d(),O(" ",t.isDemoActive()?"Activo":"Expirado"," "),d(),C("ngIf",t.isDemoActive())}}function wn(m,f){if(m&1){let t=b();n(0,"div",452)(1,"div",453)(2,"div",454),V(),n(3,"svg",455),E(4,"circle",456)(5,"path",457),i()(),A(),n(6,"h4"),r(7,"Configuraci\xF3n DEMO"),i(),n(8,"p"),r(9,"Gestiona el tiempo de acceso de esta cuenta DEMO"),i()(),n(10,"div",458)(11,"div",53)(12,"label",51),V(),n(13,"svg",459),E(14,"circle",456)(15,"path",457),i(),r(16," Tiempo de Acceso (horas) "),i(),A(),n(17,"input",460),_("ngModelChange",function(e){s(t);let a=c(2);return p(a.usuarioForm.horasDemo,e)||(a.usuarioForm.horasDemo=e),l(e)}),u("ngModelChange",function(){s(t);let e=c(2);return l(e.onHorasDemoChange())}),i(),n(18,"div",69),r(19," Duraci\xF3n en horas (1-720 horas m\xE1ximo) "),i()(),n(20,"div",53)(21,"label",51),V(),n(22,"svg",459),E(23,"path",461)(24,"path",462)(25,"rect",463)(26,"path",464),i(),r(27," Fecha de Inicio "),i(),A(),n(28,"input",465),_("ngModelChange",function(e){s(t);let a=c(2);return p(a.usuarioForm.fechaInicioDemo,e)||(a.usuarioForm.fechaInicioDemo=e),l(e)}),i(),n(29,"div",69),r(30," Fecha y hora de inicio del acceso DEMO "),i()(),n(31,"div",53)(32,"label",51),V(),n(33,"svg",459),E(34,"path",461)(35,"path",462)(36,"rect",463)(37,"path",464),i(),r(38," Fecha de Expiraci\xF3n "),i(),A(),n(39,"input",465),_("ngModelChange",function(e){s(t);let a=c(2);return p(a.usuarioForm.fechaFinDemo,e)||(a.usuarioForm.fechaFinDemo=e),l(e)}),i(),n(40,"div",69),r(41," Se calcula autom\xE1ticamente basado en las horas de acceso "),i()(),w(42,Mn,7,6,"div",466),i()()}if(m&2){let t=c(2);d(17),g("ngModel",t.usuarioForm.horasDemo),d(11),g("ngModel",t.usuarioForm.fechaInicioDemo),C("disabled",!0),d(11),g("ngModel",t.usuarioForm.fechaFinDemo),C("disabled",!0),d(3),C("ngIf",t.usuarioForm.fechaFinDemo)}}function En(m,f){m&1&&E(0,"span",473)}function Pn(m,f){m&1&&(n(0,"span"),r(1,"\u{1F4BE} Guardar Cambios"),i())}function Sn(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalEditarUsuario())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4,"\u270F\uFE0F Editar Usuario"),i(),n(5,"button",324),u("click",function(){s(t);let e=c();return l(e.cerrarModalEditarUsuario())}),r(6,"\u2715"),i()(),n(7,"div",256)(8,"div",436)(9,"div",437)(10,"span",240),r(11),i(),n(12,"span",241),r(13),i()(),n(14,"div",438)(15,"div",439),r(16),i(),n(17,"div",440),r(18),i()()(),n(19,"div",49)(20,"div",53)(21,"label",51),r(22,"Nombre *"),i(),n(23,"input",446),_("ngModelChange",function(e){s(t);let a=c();return p(a.usuarioForm.nombre,e)||(a.usuarioForm.nombre=e),l(e)}),i()(),n(24,"div",53)(25,"label",51),r(26,"Apellidos *"),i(),n(27,"input",447),_("ngModelChange",function(e){s(t);let a=c();return p(a.usuarioForm.apellidos,e)||(a.usuarioForm.apellidos=e),l(e)}),i()(),n(28,"div",53)(29,"label",51),r(30,"Email"),i(),n(31,"input",448),_("ngModelChange",function(e){s(t);let a=c();return p(a.usuarioForm.email,e)||(a.usuarioForm.email=e),l(e)}),i()(),n(32,"div",53)(33,"label",51),r(34,"Nombre de Usuario *"),i(),n(35,"input",449),_("ngModelChange",function(e){s(t);let a=c();return p(a.usuarioForm.username,e)||(a.usuarioForm.username=e),l(e)}),i()(),n(36,"div",53)(37,"label",51),r(38,"Rol"),i(),n(39,"select",355),_("ngModelChange",function(e){s(t);let a=c();return p(a.usuarioForm.rol,e)||(a.usuarioForm.rol=e),l(e)}),n(40,"option",347),r(41,"Seleccionar rol..."),i(),w(42,bn,2,2,"option",136),i()()(),w(43,wn,43,6,"div",450),i(),n(44,"div",258)(45,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalEditarUsuario())}),r(46," Cancelar "),i(),n(47,"button",363),u("click",function(){s(t);let e=c();return l(e.guardarUsuario())}),w(48,En,1,0,"span",451)(49,Pn,2,0,"span",430),i()()()()}if(m&2){let t=c();d(9),W("background-color",t.getColorAvatar(t.usuarioEditando)),d(2),v(t.getInicialesUsuario(t.usuarioEditando)),d(2),v(t.getIconoRol(t.usuarioEditando==null?null:t.usuarioEditando.rol)),d(3),v(t.usuarioEditando==null?null:t.usuarioEditando.username),d(2),v(t.getRolDisplayName(t.usuarioEditando==null?null:t.usuarioEditando.rol)),d(5),g("ngModel",t.usuarioForm.nombre),d(4),g("ngModel",t.usuarioForm.apellidos),d(4),g("ngModel",t.usuarioForm.email),d(4),g("ngModel",t.usuarioForm.username),d(4),g("ngModel",t.usuarioForm.rol),d(3),C("ngForOf",t.roles),d(),C("ngIf",t.usuarioForm.rol==="DEMO"),d(4),C("disabled",t.guardandoUsuario),d(),C("ngIf",t.guardandoUsuario),d(),C("ngIf",!t.guardandoUsuario)}}function On(m,f){m&1&&E(0,"span",473)}function yn(m,f){m&1&&(n(0,"span"),r(1,"\u{1F504} Resetear Contrase\xF1a"),i())}function Vn(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalResetearPassword())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4,"\u{1F504} Resetear Contrase\xF1a"),i(),n(5,"button",324),u("click",function(){s(t);let e=c();return l(e.cerrarModalResetearPassword())}),r(6,"\u2715"),i()(),n(7,"div",256)(8,"div",436)(9,"div",437)(10,"span",240),r(11),i(),n(12,"span",241),r(13),i()(),n(14,"div",438)(15,"div",439),r(16),i(),n(17,"div",440),r(18),i()()(),n(19,"div",474)(20,"div",428),r(21,"\u26A0\uFE0F"),i(),n(22,"div",429)(23,"h4"),r(24,"Acci\xF3n de Administrador"),i(),n(25,"p"),r(26,"Est\xE1s a punto de resetear la contrase\xF1a de este usuario. "),n(27,"strong"),r(28,"No necesitas conocer la contrase\xF1a actual."),i()()()(),n(29,"div",49)(30,"div",53)(31,"label",51),r(32,"Nueva Contrase\xF1a *"),i(),n(33,"input",475),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevaPassword,e)||(a.nuevaPassword=e),l(e)}),i()(),n(34,"div",53)(35,"label",51),r(36,"Confirmar Nueva Contrase\xF1a *"),i(),n(37,"input",476),_("ngModelChange",function(e){s(t);let a=c();return p(a.confirmarPassword,e)||(a.confirmarPassword=e),l(e)}),i()()(),n(38,"div",477)(39,"h4"),r(40,"Requisitos de contrase\xF1a:"),i(),n(41,"ul")(42,"li"),r(43,"M\xEDnimo 6 caracteres"),i(),n(44,"li"),r(45,"Se recomienda usar una combinaci\xF3n de letras y n\xFAmeros"),i(),n(46,"li"),r(47,"El usuario deber\xE1 cambiar su contrase\xF1a en el pr\xF3ximo inicio de sesi\xF3n"),i()()()(),n(48,"div",258)(49,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalResetearPassword())}),r(50," Cancelar "),i(),n(51,"button",434),u("click",function(){s(t);let e=c();return l(e.resetearPassword())}),w(52,On,1,0,"span",451)(53,yn,2,0,"span",430),i()()()()}if(m&2){let t=c();d(9),W("background-color",t.getColorAvatar(t.usuarioReseteando)),d(2),v(t.getInicialesUsuario(t.usuarioReseteando)),d(2),v(t.getIconoRol(t.usuarioReseteando==null?null:t.usuarioReseteando.rol)),d(3),v(t.usuarioReseteando==null?null:t.usuarioReseteando.username),d(2),v(t.getRolDisplayName(t.usuarioReseteando==null?null:t.usuarioReseteando.rol)),d(15),g("ngModel",t.nuevaPassword),d(4),g("ngModel",t.confirmarPassword),d(14),C("disabled",t.reseteandoPassword||!t.nuevaPassword||!t.confirmarPassword),d(),C("ngIf",t.reseteandoPassword),d(),C("ngIf",!t.reseteandoPassword)}}function Dn(m,f){if(m&1&&(n(0,"option",67),r(1),i()),m&2){let t=f.$implicit,o=c(2);C("value",t.nombre),d(),v(o.getRolDisplayName(t.nombre))}}function Tn(m,f){if(m&1&&(n(0,"span"),r(1),n(2,"span",493),r(3),i()()),m&2){let t=c(3);d(),O(" ",t.nuevoUsuarioForm.horasDemo," hora(s) "),d(2),O("(",t.calcularFinDemo(),")")}}function kn(m,f){m&1&&(n(0,"span",494),r(1," Por favor, ingresa un n\xFAmero v\xE1lido de horas "),i())}function Fn(m,f){if(m&1){let t=b();n(0,"div",486)(1,"div",487)(2,"label",51),r(3," Duraci\xF3n de la DEMO (en horas) * "),n(4,"span",69),r(5,"El usuario tendr\xE1 acceso completo durante este tiempo"),i()(),n(6,"input",488),_("ngModelChange",function(e){s(t);let a=c(2);return p(a.nuevoUsuarioForm.horasDemo,e)||(a.nuevoUsuarioForm.horasDemo=e),l(e)}),i(),n(7,"div",489)(8,"strong"),r(9,"\u23F1\uFE0F Tiempo configurado:"),i(),w(10,Tn,4,2,"span",430)(11,kn,2,0,"span",490),i()(),n(12,"div",491)(13,"strong"),r(14,"\u26A0\uFE0F Importante:"),i(),n(15,"ul",492)(16,"li"),r(17,"Una vez que expire el tiempo configurado, el usuario no podr\xE1 iniciar sesi\xF3n"),i(),n(18,"li"),r(19,"El rol DEMO tiene acceso completo a todas las funciones del sistema"),i(),n(20,"li"),r(21,"Puedes extender el tiempo editando el usuario despu\xE9s de crearlo"),i()()()()}if(m&2){let t=c(2);d(6),g("ngModel",t.nuevoUsuarioForm.horasDemo),d(4),C("ngIf",t.nuevoUsuarioForm.horasDemo>0),d(),C("ngIf",!t.nuevoUsuarioForm.horasDemo||t.nuevoUsuarioForm.horasDemo<=0)}}function An(m,f){m&1&&E(0,"span",473)}function In(m,f){m&1&&(n(0,"span"),r(1,"\u2795 Crear Usuario"),i())}function Wn(m,f){if(m&1){let t=b();n(0,"div",322),u("click",function(){s(t);let e=c();return l(e.cerrarModalNuevoUsuario())}),n(1,"div",323),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",255)(3,"h3"),r(4,"\u2795 Nuevo Usuario"),i(),n(5,"button",324),u("click",function(){s(t);let e=c();return l(e.cerrarModalNuevoUsuario())}),r(6,"\u2715"),i()(),n(7,"div",256)(8,"div",49)(9,"div",53)(10,"label",51),r(11,"Nombre de Usuario *"),i(),n(12,"input",449),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevoUsuarioForm.username,e)||(a.nuevoUsuarioForm.username=e),l(e)}),i()(),n(13,"div",53)(14,"label",51),r(15,"Email"),i(),n(16,"input",478),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevoUsuarioForm.email,e)||(a.nuevoUsuarioForm.email=e),l(e)}),i()(),n(17,"div",53)(18,"label",51),r(19,"Nombre *"),i(),n(20,"input",479),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevoUsuarioForm.nombre,e)||(a.nuevoUsuarioForm.nombre=e),l(e)}),i()(),n(21,"div",53)(22,"label",51),r(23,"Apellidos *"),i(),n(24,"input",480),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevoUsuarioForm.apellidos,e)||(a.nuevoUsuarioForm.apellidos=e),l(e)}),i()(),n(25,"div",53)(26,"label",51),r(27,"Rol *"),i(),n(28,"select",355),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevoUsuarioForm.rol,e)||(a.nuevoUsuarioForm.rol=e),l(e)}),n(29,"option",347),r(30,"Seleccionar rol..."),i(),w(31,Dn,2,2,"option",136),i()(),n(32,"div",481)(33,"div",482)(34,"label",483)(35,"input",83),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevoUsuarioForm.esDemo,e)||(a.nuevoUsuarioForm.esDemo=e),l(e)}),u("change",function(){s(t);let e=c();return l(e.onDemoToggleChange())}),i(),n(36,"span"),r(37,"\u{1F3AF} Crear como cuenta DEMO (acceso temporal con todas las funciones)"),i()(),w(38,Fn,22,3,"div",484),i()(),n(39,"div",53)(40,"label",51),r(41,"Contrase\xF1a *"),i(),n(42,"input",485),_("ngModelChange",function(e){s(t);let a=c();return p(a.nuevoUsuarioForm.password,e)||(a.nuevoUsuarioForm.password=e),l(e)}),i()()(),n(43,"div",477)(44,"h4"),r(45,"Requisitos de contrase\xF1a:"),i(),n(46,"ul")(47,"li"),r(48,"M\xEDnimo 6 caracteres"),i(),n(49,"li"),r(50,"Se recomienda usar una combinaci\xF3n de letras y n\xFAmeros"),i()()()(),n(51,"div",258)(52,"button",31),u("click",function(){s(t);let e=c();return l(e.cerrarModalNuevoUsuario())}),r(53," Cancelar "),i(),n(54,"button",363),u("click",function(){s(t);let e=c();return l(e.crearUsuario())}),w(55,An,1,0,"span",451)(56,In,2,0,"span",430),i()()()()}if(m&2){let t=c();d(12),g("ngModel",t.nuevoUsuarioForm.username),d(4),g("ngModel",t.nuevoUsuarioForm.email),d(4),g("ngModel",t.nuevoUsuarioForm.nombre),d(4),g("ngModel",t.nuevoUsuarioForm.apellidos),d(4),g("ngModel",t.nuevoUsuarioForm.rol),d(3),C("ngForOf",t.roles),d(4),g("ngModel",t.nuevoUsuarioForm.esDemo),d(3),C("ngIf",t.nuevoUsuarioForm.esDemo),d(4),g("ngModel",t.nuevoUsuarioForm.password),d(12),C("disabled",t.creandoUsuario||!t.nuevoUsuarioForm.username||!t.nuevoUsuarioForm.nombre||!t.nuevoUsuarioForm.apellidos||!t.nuevoUsuarioForm.rol||!t.nuevoUsuarioForm.password),d(),C("ngIf",t.creandoUsuario),d(),C("ngIf",!t.creandoUsuario)}}function Rn(m,f){m&1&&(n(0,"div",502),E(1,"div",503),i())}function Ln(m,f){m&1&&(n(0,"div",504),V(),n(1,"svg",505),E(2,"circle",272)(3,"path",273),i()())}function Nn(m,f){m&1&&(n(0,"p",506),r(1," Los cambios se han guardado exitosamente "),i())}function Un(m,f){m&1&&(n(0,"p",506),r(1," Guardando configuraci\xF3n... "),i())}function Bn(m,f){if(m&1){let t=b();n(0,"div",495),u("click",function(){s(t);let e=c();return l(e.cerrarModalExitoConfiguracion())}),n(1,"div",496),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",497),w(3,Rn,2,0,"div",498)(4,Ln,4,0,"div",499),n(5,"h3",500),r(6,"Configuraci\xF3n Guardada"),i(),w(7,Nn,2,0,"p",501)(8,Un,2,0,"p",501),i()()()}if(m&2){let t=c();d(3),C("ngIf",t.guardandoConfiguracion),d(),C("ngIf",t.configuracionGuardadaCompletada),d(3),C("ngIf",t.configuracionGuardadaCompletada),d(),C("ngIf",t.guardandoConfiguracion)}}function zn(m,f){m&1&&(n(0,"div",512),E(1,"div",269),i())}function jn(m,f){m&1&&(n(0,"div",513),V(),n(1,"svg",271),E(2,"circle",272)(3,"path",273),i()())}function Gn(m,f){if(m&1&&(n(0,"span"),r(1),i()),m&2){let t=c(3);d(),O(" El usuario DEMO ha sido creado correctamente. Expirar\xE1 en ",t.nuevoUsuarioForm.horasDemo," hora(s). ")}}function Hn(m,f){m&1&&(n(0,"span"),r(1," El usuario ha sido creado correctamente. "),i())}function qn(m,f){if(m&1&&(n(0,"p",514),w(1,Gn,2,1,"span",430)(2,Hn,2,0,"span",430),i()),m&2){let t=c(2);d(),C("ngIf",t.nuevoUsuarioForm.esDemo),d(),C("ngIf",!t.nuevoUsuarioForm.esDemo)}}function Yn(m,f){m&1&&(n(0,"p",514),r(1," Creando usuario... "),i())}function Jn(m,f){if(m&1){let t=b();n(0,"div",261),u("click",function(){s(t);let e=c();return l(e.cerrarModalExitoCreacion())}),n(1,"div",262),u("click",function(e){return s(t),l(e.stopPropagation())}),n(2,"div",507),w(3,zn,2,0,"div",508)(4,jn,4,0,"div",509),n(5,"h3",510),r(6,"Usuario creado exitosamente"),i(),w(7,qn,3,2,"p",511)(8,Yn,2,0,"p",511),i()()()}if(m&2){let t=c();d(3),C("ngIf",t.creandoUsuarioProceso),d(),C("ngIf",t.usuarioCreadoCompletado),d(3),C("ngIf",t.usuarioCreadoCompletado),d(),C("ngIf",t.creandoUsuarioProceso)}}var ri=(()=>{let f=class f{constructor(o,e,a,x){this.router=o,this.route=e,this.http=a,this.cdr=x,this.configuracion=this.obtenerConfiguracionDefault(),this.configuracionOriginal=this.obtenerConfiguracionDefault(),this.tabActiva="empresa",this.tabs=[{id:"empresa",nombre:"Empresa",icon:"\u{1F3E2}"},{id:"planillas",nombre:"Planillas",icon:"\u{1F4B0}"},{id:"tasas",nombre:"Tasas y Conceptos",icon:"\u{1F4CA}"},{id:"beneficios",nombre:"Beneficios",icon:"\u{1F381}"},{id:"asistencia",nombre:"Asistencia",icon:"\u{1F4C5}"},{id:"rrhh",nombre:"RRHH",icon:"\u{1F465}"},{id:"datos-maestros",nombre:"Datos Maestros",icon:"\u{1F5C2}\uFE0F"},{id:"tributario",nombre:"Tributario",icon:"\u{1F3DB}\uFE0F"},{id:"seguridad",nombre:"Seguridad",icon:"\u{1F510}"},{id:"administrar-roles",nombre:"Administrar Roles",icon:"\u{1F451}",requierePermiso:"roles"},{id:"notificaciones",nombre:"Notificaciones",icon:"\u{1F4E7}"},{id:"personalizacion",nombre:"Personalizaci\xF3n",icon:"\u{1F3A8}"},{id:"backup",nombre:"Backup",icon:"\u{1F4BE}"},{id:"sistema",nombre:"Sistema",icon:"\u2699\uFE0F"},{id:"integraciones",nombre:"Integraciones",icon:"\u{1F517}"}],this.cargando=!1,this.guardando=!1,this.hayChangios=!1,this.mostrarModalExitoConfiguracion=!1,this.guardandoConfiguracion=!1,this.configuracionGuardadaCompletada=!1,this.roles=[],this.rolesCargando=!1,this.mostrarModalRol=!1,this.rolEditando=null,this.guardandoRol=!1,this.mostrarModalExitoRol=!1,this.guardandoRolProceso=!1,this.rolGuardadoCompletado=!1,this.mensajeExitoRol="",this.mostrarModalEliminarRol=!1,this.rolAEliminar=null,this.confirmacionEliminarRol="",this.eliminandoRol=!1,this.rolEliminadoCompletado=!1,this.mostrarModalExitoEliminacionRol=!1,this.rolForm={nombre:"",descripcion:"",permisos:{trabajadores:{ver:!1,crear:!1,editar:!1,eliminar:!1},planillas:{ver:!1,crear:!1,editar:!1,eliminar:!1},reportes:{ver:!1,exportar:!1},configuracion:{ver:!1,editar:!1},asistencia:{ver:!1,editar:!1},beneficios:{ver:!1,editar:!1},prestamos:{ver:!1,crear:!1,editar:!1,eliminar:!1},usuarios:{ver:!1,crear:!1,editar:!1,eliminar:!1},roles:{ver:!1,crear:!1,editar:!1,eliminar:!1}}},this.mostrarModalPassword=!1,this.passwordForm={usuarioId:null,usuarioNombre:"",passwordActual:"",passwordNuevo:"",passwordConfirmar:""},this.guardandoPassword=!1,this.usuarios=[],this.usuariosCargando=!1,this.mostrarModalEditarUsuario=!1,this.usuarioEditando=null,this.usuarioForm={nombre:"",apellidos:"",email:"",username:"",rol:"",horasDemo:null,fechaInicioDemo:"",fechaFinDemo:""},this.guardandoUsuario=!1,this.mostrarModalEliminarUsuario=!1,this.usuarioAEliminar=null,this.confirmacionEliminar="",this.mostrarModalExitoEliminacion=!1,this.eliminandoUsuario=!1,this.eliminacionCompletada=!1,this.mostrarModalResetearPassword=!1,this.usuarioReseteando=null,this.nuevaPassword="",this.confirmarPassword="",this.reseteandoPassword=!1,this.isAdmin=!1,this.isDemo=!1,this.isSuperAdmin=!1,this.modulosHabilitados={},this.currentUser=null,this.permisosUsuarioActual=null,this.mostrarModalNuevoUsuario=!1,this.nuevoUsuarioForm={username:"",email:"",nombre:"",apellidos:"",rol:"",password:"",esDemo:!1,horasDemo:null},this.creandoUsuario=!1,this.mostrarModalExitoCreacion=!1,this.creandoUsuarioProceso=!1,this.usuarioCreadoCompletado=!1,this.subseccionActiva="cargos",this.subseccionesDatosMaestros=[{id:"cargos",nombre:"Cargos",icon:"\u{1F454}",count:0},{id:"gerencias",nombre:"Gerencias",icon:"\u{1F3DB}\uFE0F",count:0},{id:"subgerencias",nombre:"Subgerencias",icon:"\u{1F3E2}",count:0},{id:"unidades",nombre:"Unidades",icon:"\u{1F3E2}",count:0},{id:"tipos-contrato",nombre:"Tipos de Contrato",icon:"\u{1F4CB}",count:0},{id:"regimenes-laborales",nombre:"Reg\xEDmenes Laborales",icon:"\u2696\uFE0F",count:0},{id:"condiciones-laborales",nombre:"Condiciones Laborales",icon:"\u{1F4CC}",count:0}],this.cargos=[],this.gerencias=[],this.subgerencias=[],this.unidades=[],this.tiposContrato=[],this.regimenesLaborales=[],this.condicionesLaborales=[],this.afpsDisponibles=Me,this.bancosDisponibles=we,this.monedas=Ee,this.horarios=[],this.feriados=[],this.tasas=[],this.tasasCategorizadas={},this.tasaEditando=null,this.mostrarModalTasa=!1,this.apiTasas=`${P.apiUrl}/configuracion-tasas`,this.mostrarModalRegimenLaboral=!1,this.regimenLaboralEditando=null,this.guardandoRegimenLaboral=!1,this.regimenLaboralForm={codigo:"",nombre:"",descripcion:"",baseNormativa:"Ley General del Trabajo"},this.mostrarModalTipoContrato=!1,this.tipoContratoEditando=null,this.guardandoTipoContrato=!1,this.tipoContratoForm={codigo:"",nombre:"",descripcion:""},this.mostrarModalCargo=!1,this.cargoEditando=null,this.guardandoCargo=!1,this.cargoForm={nombre:"",descripcion:""},this.mostrarModalCondicionLaboral=!1,this.condicionLaboralEditando=null,this.guardandoCondicionLaboral=!1,this.condicionLaboralForm={codigo:"",nombre:"",descripcion:""},this.cargosSeleccionados=[],this.todosCargosSeleccionados=!1,this.cargosDisponibles=[],this.cargoSeleccionado="",this.categoriaEsPersonalizada=!1,this.nuevaCategoria="",this.categoriaEditando=null,this.categoriaNombreEditando="",this.guardandoNombreCategoria=!1,this.mostrarModalArea=!1,this.mostrarModalUsuario=!1,this.mostrarModalHorario=!1,this.mostrarModalFeriado=!1,this.mostrarModalExportar=!1,this.mostrarModalImportar=!1,this.mostrarModalEliminarTasa=!1,this.tasaAEliminar=null,this.busqueda="",this.cambiosPendientes=[],this.Object=Object}ngOnInit(){let o=this.route.snapshot.queryParams;if(console.log("\u{1F50D} Query params recibidos:",o),o.tab){let e=o.tab;console.log("\u{1F4CC} Tab solicitado:",e),this.tabs.find(x=>x.id===e)?(console.log("\u2705 Tab encontrado, activando:",e),this.tabActiva=e):console.warn("\u26A0\uFE0F Tab no encontrado:",e,"Tabs disponibles:",this.tabs.map(x=>x.id))}this.route.queryParams.subscribe(e=>{if(e.tab){let a=e.tab;this.tabs.find(h=>h.id===a)&&this.tabActiva!==a&&(console.log("\u{1F504} Cambiando tab din\xE1micamente a:",a),this.tabActiva=a,this.cambiarTab(a))}}),this.cargarConfiguracion(),this.inicializarDatos(),this.cargarUsuarioActual(),this.cargarModulosHabilitados(),this.tabActiva==="datos-maestros"&&this.cargarTodosLosDatosMaestros(),this.tabActiva==="tasas"&&(console.log("\u{1F4B0} Tab de tasas activo, cargando datos..."),setTimeout(()=>{this.cargarTasas(),this.cargarCargosParaTasas()},500))}inicializarDatos(){this.cargarCargos(),this.cargarUsuarios(),this.cargarRoles(),this.cargarHorarios(),this.cargarFeriados(),this.cargarTasas(),this.cargarCargosParaTasas()}cargarConfiguracion(){this.cargando=!0;let o=localStorage.getItem("token"),e=o?{Authorization:`Bearer ${o}`}:{};this.http.get(`${P.apiUrl}/configuracion/activa`,{headers:e}).subscribe({next:a=>{if(a.success&&a.data){let x=localStorage.getItem("configuracionSistema");if(x)try{this.configuracion=JSON.parse(x)}catch{this.configuracion=this.obtenerConfiguracionDefault()}else this.configuracion=this.obtenerConfiguracionDefault();if(a.data.PLANILLAS&&(this.configuracion.planillas||(this.configuracion.planillas=J.planillas),this.configuracion.planillas.diaCierrePlanilla=a.data.PLANILLAS.diaCierrePlanilla||this.configuracion.planillas.diaCierrePlanilla||25,this.configuracion.planillas.diaPagoPlanilla=a.data.PLANILLAS.diaPagoPlanilla||this.configuracion.planillas.diaPagoPlanilla||30),a.data.INTEGRACIONES&&(this.configuracion.integraciones||(this.configuracion.integraciones={integrarBancoNacion:!1,integrarBCP:!1,integrarInterbank:!1,integrarSUNAT:!1,integrarEsSalud:!1,integrarRENIEC:!1,integrarAFP:!1,afpsIntegradas:[],integrarBiometrico:!1,modeloBiometrico:"",ipBiometrico:"",integrarERP:!1,tipoERP:"",webhooks:[],apis:[]}),this.configuracion.integraciones.integrarBancoNacion=a.data.INTEGRACIONES.integrarBancoNacion||!1,this.configuracion.integraciones.integrarBCP=a.data.INTEGRACIONES.integrarBCP||!1,this.configuracion.integraciones.integrarInterbank=a.data.INTEGRACIONES.integrarInterbank||!1,this.configuracion.integraciones.integrarSUNAT=a.data.INTEGRACIONES.integrarSUNAT||!1,this.configuracion.integraciones.integrarEsSalud=a.data.INTEGRACIONES.integrarEsSalud||!1,this.configuracion.integraciones.integrarRENIEC=a.data.INTEGRACIONES.integrarRENIEC||!1,this.configuracion.integraciones.integrarAFP=a.data.INTEGRACIONES.integrarAFP||!1,this.configuracion.integraciones.integrarBiometrico=a.data.INTEGRACIONES.integrarBiometrico||!1,this.configuracion.integraciones.modeloBiometrico=a.data.INTEGRACIONES.modeloBiometrico||"",this.configuracion.integraciones.ipBiometrico=a.data.INTEGRACIONES.ipBiometrico||""),a.data.RRHH&&(this.configuracion.rrhh||(this.configuracion.rrhh={cargos:[],tiposContrato:[],nivelesEducativos:[],documentosRequeridos:[],periodoEvaluacionDesempeno:"semestral",fechaReunionEvaluacion:new Date("2025-09-20"),escalasEvaluacion:[],horasCapacitacionAnual:40,presupuestoCapacitacion:5e4,permitirAutoevaluacion:!1,notificarCumpleanos:!1,notificarAniversarios:!1}),a.data.RRHH.fechaReunionEvaluacion&&(this.configuracion.rrhh.fechaReunionEvaluacion=new Date(a.data.RRHH.fechaReunionEvaluacion)),a.data.RRHH.periodoEvaluacionDesempeno&&(this.configuracion.rrhh.periodoEvaluacionDesempeno=a.data.RRHH.periodoEvaluacionDesempeno)),a.data.BENEFICIOS){this.configuracion.beneficios||(this.configuracion.beneficios={cts:{fechaDepositoMayo:15,fechaDepositoNoviembre:15,tasaInteres:3.5,bancoDepositario:"Banco de la Naci\xF3n",tipoCuenta:"Ahorros",diasPorAnio:360,incluirGratificacionesEnCalculo:!0,incluirHorasExtrasEnCalculo:!0,mesesPromedioHorasExtras:6,generarDepositosAuto:!0},gratificaciones:{},vacaciones:{},utilidades:{}}),this.configuracion.beneficios.cts||(this.configuracion.beneficios.cts={fechaDepositoMayo:15,fechaDepositoNoviembre:15,tasaInteres:3.5,bancoDepositario:"Banco de la Naci\xF3n",tipoCuenta:"Ahorros",diasPorAnio:360,incluirGratificacionesEnCalculo:!0,incluirHorasExtrasEnCalculo:!0,mesesPromedioHorasExtras:6,generarDepositosAuto:!0});let h=a.data.BENEFICIOS.diaDepositoCTSMayo,M=a.data.BENEFICIOS.diaDepositoCTSNoviembre;h!=null&&(this.configuracion.beneficios.cts.fechaDepositoMayo=h),M!=null&&(this.configuracion.beneficios.cts.fechaDepositoNoviembre=M)}localStorage.setItem("configuracionSistema",JSON.stringify(this.configuracion))}else{let x=localStorage.getItem("configuracionSistema");if(x)try{this.configuracion=JSON.parse(x)}catch{this.configuracion=this.obtenerConfiguracionDefault()}else this.configuracion=this.obtenerConfiguracionDefault()}this.configuracionOriginal=JSON.parse(JSON.stringify(this.configuracion)),this.cargando=!1},error:a=>{console.error("Error al cargar configuraci\xF3n del backend:",a);let x=localStorage.getItem("configuracionSistema");if(x)try{this.configuracion=JSON.parse(x)}catch{this.configuracion=this.obtenerConfiguracionDefault()}else this.configuracion=this.obtenerConfiguracionDefault();this.configuracionOriginal=JSON.parse(JSON.stringify(this.configuracion)),this.cargando=!1}})}obtenerConfiguracionDefault(){return{empresa:{razonSocial:"Municipalidad Distrital de San Juan",nombreComercial:"Municipalidad San Juan",ruc:"20123456789",direccion:"Av. Principal 123",distrito:"San Juan",provincia:"Lima",departamento:"Lima",pais:"Per\xFA",telefono:"01-1234567",celular:"987654321",email:"contacto@munisanjuan.gob.pe",web:"www.munisanjuan.gob.pe",logo:"",alcalde:"Juan P\xE9rez Garc\xEDa",gerenteMunicipal:"Mar\xEDa L\xF3pez Torres",gerenteRRHH:"Carlos Ram\xEDrez Silva",periodoGestion:"2023-2026",fechaInicioGestion:new Date("2023-01-01"),fechaFinGestion:new Date("2026-12-31"),actividadEconomica:"Administraci\xF3n P\xFAblica",codigoCIIU:"8411",tipoContribuyente:"Gobierno Local",regimenTributario:"General"},planillas:J.planillas,beneficios:{cts:{tasaInteres:3.5,bancoDepositario:"Banco de la Naci\xF3n",tipoCuenta:"Ahorros",diasPorAnio:360,incluirGratificacionesEnCalculo:!0,incluirHorasExtrasEnCalculo:!0,mesesPromedioHorasExtras:6,generarDepositosAuto:!0,fechaDepositoMayo:15,fechaDepositoNoviembre:15},gratificaciones:{porcentajeBonificacionExtraordinaria:9,incluirEnPlanillaMensual:!1,mesGratificacionJulio:7,mesGratificacionDiciembre:12,aplicarRetencionRenta:!0},vacaciones:{diasPorAnio:30,diasMinimoContinuo:7,diasMaximoFraccionamiento:15,permitirFraccionamiento:!0,diasAnticipacionSolicitud:15,permitirAcumulacion:!0,aniosMaximosAcumulacion:2,generarRecordAutomatico:!0},utilidades:{porcentajeDistribucionTrabajadores:10,porcentajePorDias:50,porcentajePorRemuneracion:50,diasAnioCompleto:360,aplicarRenta5ta:!0}},asistencia:{horariosPorDefecto:[],turnos:[],minutosToleranciaTardanza:15,tardanzasMaximasMes:3,faltasMaximasMes:2,tipoMarcacion:"biometrico",requiereJustificacionTardanza:!0,requiereJustificacionFalta:!0,permitirHorasExtras:!0,requiereAprobacionHE:!0,porcentajeHE25:25,porcentajeHE35:35,porcentajeHE100:100,feriados:[],diasNoLaborables:[],generarReportesDiarios:!0,enviarAlertasTardanzas:!0},rrhh:{cargos:[],tiposContrato:[{id:"1",nombre:"Nombrado",descripcion:"Personal nombrado",duracion:"indefinido",color:"#10b981"},{id:"2",nombre:"CAS",descripcion:"Contrato Administrativo de Servicios",duracion:"plazo_fijo",color:"#3b82f6"},{id:"3",nombre:"Locador",descripcion:"Locador de Servicios",duracion:"plazo_fijo",color:"#f59e0b"},{id:"4",nombre:"Practicante",descripcion:"Practicante Pre/Profesional",duracion:"plazo_fijo",color:"#8b5cf6"}],nivelesEducativos:["Primaria","Secundaria","T\xE9cnico","Universitario","Postgrado","Maestr\xEDa","Doctorado"],documentosRequeridos:[{id:"1",nombre:"DNI",obligatorio:!0,tipo:"identidad"},{id:"2",nombre:"Certificado de Antecedentes",obligatorio:!0,tipo:"legal"},{id:"3",nombre:"CV Documentado",obligatorio:!0,tipo:"profesional"}],periodoEvaluacionDesempeno:"semestral",fechaReunionEvaluacion:new Date("2025-09-20"),escalasEvaluacion:[{id:"1",nombre:"Deficiente",valorMinimo:0,valorMaximo:10,descripcion:"Desempe\xF1o muy bajo"},{id:"2",nombre:"Regular",valorMinimo:11,valorMaximo:14,descripcion:"Desempe\xF1o b\xE1sico"},{id:"3",nombre:"Bueno",valorMinimo:15,valorMaximo:17,descripcion:"Desempe\xF1o satisfactorio"},{id:"4",nombre:"Muy Bueno",valorMinimo:18,valorMaximo:19,descripcion:"Desempe\xF1o destacado"},{id:"5",nombre:"Excelente",valorMinimo:20,valorMaximo:20,descripcion:"Desempe\xF1o sobresaliente"}],horasCapacitacionAnual:40,presupuestoCapacitacion:5e4,permitirAutoevaluacion:!0,notificarCumpleanos:!0,notificarAniversarios:!0},tributario:{usuarioSUNAT:"",claveSUNAT:"",certificadoDigital:"",versionPLAME:"6.0",rutaPLAME:"C:\\PLAME",generarArchivosPLAMEAuto:!0,codigosAFP:{PRIMA:"01",INTEGRA:"02",PROFUTURO:"03",HABITAT:"04"},rutaAFPNET:"C:\\AFPNET",uitActual:5150,tramoRenta:[{id:"1",desde:0,hasta:5,tasa:8},{id:"2",desde:5,hasta:20,tasa:14},{id:"3",desde:20,hasta:35,tasa:17},{id:"4",desde:35,hasta:45,tasa:20},{id:"5",desde:45,hasta:999999,tasa:30}],deduccionMinima:7,tasaEsSalud:9,tarifaSCTR:1.5,tasaONP:13,generarPDTAuto:!0,declaracionElectronica:!0},seguridad:{usuarios:[],roles:[],longitudMinimaPassword:8,requiereCaracteresEspeciales:!0,requiereNumeros:!0,requiereMayusculas:!0,diasExpiracionPassword:90,tiempoMaximoSesion:480,sesionesSimultaneas:1,cerrarSesionInactividad:!0,minutosInactividad:30,registrarCambios:!0,nivelAuditoria:"completo",diasRetencionLogs:365,autenticacionDosFactores:!1,permitirRecordarDispositivo:!0,bloquearTrasIntentosFallidos:5,ipsPermitidas:[],restriccionHoraria:!1,horarioAcceso:[]},notificaciones:{servidorSMTP:"smtp.gmail.com",puertoSMTP:587,usuarioEmail:"",passwordEmail:"",emailRemitente:"noreply@munisanjuan.gob.pe",nombreRemitente:"Sistema de Planillas - Municipalidad",usarSSL:!0,notificarNuevoPlanilla:!0,notificarPagoRealizado:!0,notificarCumpleanos:!0,notificarVencimientos:!0,notificarTardanzas:!0,emailsAdministradores:[],emailsRRHH:[],resumenDiario:!1,resumenSemanal:!0,resumenMensual:!0,integrarWhatsApp:!1,numeroWhatsApp:"",integrarSMS:!1,proveedorSMS:""},personalizacion:{tema:"auto",colorPrimario:"#22c55e",colorSecundario:"#3b82f6",colorAccent:"#f59e0b",fuentePrincipal:"Inter",tamanioFuente:"mediano",logoEmpresa:"",logoReportes:"",colorCorporativo:"#22c55e",formatoFecha:"DD/MM/YYYY",formatoHora:"HH:mm",separadorDecimal:".",separadorMiles:",",idioma:"es",zonaHoraria:"America/Lima",orientacionReportesPorDefecto:"portrait",incluirLogoEnReportes:!0,pieReportes:"Sistema de Gesti\xF3n de Planillas - Municipalidad",widgetsActivos:["planilla","trabajadores","asistencia","beneficios"],ordenWidgets:["planilla","trabajadores","asistencia","beneficios"],animaciones:!0,sonidos:!1,modoAccesibilidad:!1},backup:{backupAutomatico:!0,frecuenciaBackup:"diario",horaBackup:"02:00",rutaBackupLocal:"C:\\Backups\\Planillas",backupEnNube:!1,proveedorNube:"local",diasRetencionBackup:30,backupsMaximosAlmacenar:10,comprimirBackups:!0,encriptarBackups:!0,notificarBackupExitoso:!0,notificarBackupFallido:!0,emailsNotificacion:[],permitirRestauracion:!0,crearPuntoRestauracionAntes:!0},sistema:{versionSistema:"1.0.0",fechaActualizacion:new Date,modoMantenimiento:!1,mensajeMantenimiento:"Sistema en mantenimiento. Volveremos pronto.",cacheDatos:!0,tiempoCache:3600,optimizarConsultas:!0,nivelLogs:"info",guardarLogsEnArchivo:!0,rutaLogs:"C:\\Logs\\Planillas",registrosPorPagina:10,tamanioMaximoArchivo:10,trabajadoresMaximos:1e3,verificarActualizacionesAuto:!0,notificarActualizaciones:!0,tiempoLimpiezaAutomatica:90,optimizarDBAutomatico:!0,apiHabilitada:!1,apiKey:"",rateLimitAPI:100},integraciones:{integrarBancoNacion:!1,integrarBCP:!1,integrarInterbank:!1,integrarSUNAT:!1,integrarEsSalud:!1,integrarRENIEC:!1,integrarAFP:!1,afpsIntegradas:[],integrarBiometrico:!1,modeloBiometrico:"",ipBiometrico:"",integrarERP:!1,tipoERP:"",webhooks:[],apis:[]}}}cambiarTab(o){this.hayChangiosSinGuardar()&&!confirm("Hay cambios sin guardar. \xBFDesea continuar sin guardar?")||(this.tabActiva=o,o==="datos-maestros"&&this.cargarTodosLosDatosMaestros(),o==="administrar-roles"&&(this.cargarRoles(),this.cargarUsuarios()))}hayChangiosSinGuardar(){return JSON.stringify(this.configuracion)!==JSON.stringify(this.configuracionOriginal)}guardarConfiguracion(){if(!this.validarConfiguracion())return;this.guardando=!0;let o=localStorage.getItem("token"),e=o?{Authorization:`Bearer ${o}`}:{},a=[];if(this.configuracion.planillas){let x={diaCierrePlanilla:this.configuracion.planillas.diaCierrePlanilla||25,diaPagoPlanilla:this.configuracion.planillas.diaPagoPlanilla||30,diasDelMes:this.configuracion.planillas.diasDelMes||30,horasPorDia:this.configuracion.planillas.horasPorDia||8,redondeoDecimales:this.configuracion.planillas.redondeoDecimales||2,redondeoTipo:this.configuracion.planillas.redondeoTipo||"normal",calcularHorasExtrasAuto:this.configuracion.planillas.calcularHorasExtrasAuto??!0,aplicarRetencionAutomatica:this.configuracion.planillas.aplicarRetencionAutomatica??!0,generarBoletasAuto:this.configuracion.planillas.generarBoletasAuto??!0};a.push(T(this.http.post(`${P.apiUrl}/configuracion/guardar`,{modulo:"PLANILLAS",configuraciones:x},{headers:e})))}if(this.configuracion.beneficios?.cts){let x={diaDepositoCTSMayo:this.configuracion.beneficios.cts.fechaDepositoMayo||15,diaDepositoCTSNoviembre:this.configuracion.beneficios.cts.fechaDepositoNoviembre||15,tasaInteresCTS:this.configuracion.beneficios.cts.tasaInteres||0,diasPorAnioCTS:this.configuracion.beneficios.cts.diasPorAnio||360};a.push(T(this.http.post(`${P.apiUrl}/configuracion/guardar`,{modulo:"BENEFICIOS",configuraciones:x},{headers:e})))}if(this.configuracion.rrhh?.fechaReunionEvaluacion){let h={fechaReunionEvaluacion:this.configuracion.rrhh.fechaReunionEvaluacion instanceof Date?this.configuracion.rrhh.fechaReunionEvaluacion.toISOString().split("T")[0]:this.configuracion.rrhh.fechaReunionEvaluacion,periodoEvaluacionDesempeno:this.configuracion.rrhh.periodoEvaluacionDesempeno||"semestral"};a.push(T(this.http.post(`${P.apiUrl}/configuracion/guardar`,{modulo:"RRHH",configuraciones:h},{headers:e})))}if(this.configuracion.integraciones){let x={integrarBancoNacion:this.configuracion.integraciones.integrarBancoNacion||!1,integrarBCP:this.configuracion.integraciones.integrarBCP||!1,integrarInterbank:this.configuracion.integraciones.integrarInterbank||!1,integrarSUNAT:this.configuracion.integraciones.integrarSUNAT||!1,integrarEsSalud:this.configuracion.integraciones.integrarEsSalud||!1,integrarRENIEC:this.configuracion.integraciones.integrarRENIEC||!1,integrarAFP:this.configuracion.integraciones.integrarAFP||!1,integrarBiometrico:this.configuracion.integraciones.integrarBiometrico||!1,modeloBiometrico:this.configuracion.integraciones.modeloBiometrico||"",ipBiometrico:this.configuracion.integraciones.ipBiometrico||""};a.push(T(this.http.post(`${P.apiUrl}/configuracion/guardar`,{modulo:"INTEGRACIONES",configuraciones:x},{headers:e})))}Promise.all(a).then(()=>{localStorage.setItem("configuracionSistema",JSON.stringify(this.configuracion)),localStorage.setItem("configuracionUltimaActualizacion",new Date().toISOString()),this.configuracionOriginal=JSON.parse(JSON.stringify(this.configuracion)),this.guardando=!1,this.hayChangios=!1,this.mostrarModalExitoConfiguracion=!0,this.guardandoConfiguracion=!0,this.configuracionGuardadaCompletada=!1,setTimeout(()=>{this.guardandoConfiguracion=!1,this.configuracionGuardadaCompletada=!0,setTimeout(()=>{this.cerrarModalExitoConfiguracion(),this.tabActiva==="personalizacion"&&this.aplicarPersonalizacion()},2e3)},1500)}).catch(x=>{console.error("\u274C Error al guardar configuraci\xF3n en backend:",x),localStorage.setItem("configuracionSistema",JSON.stringify(this.configuracion)),localStorage.setItem("configuracionUltimaActualizacion",new Date().toISOString()),this.configuracionOriginal=JSON.parse(JSON.stringify(this.configuracion)),this.guardando=!1,this.hayChangios=!1;let h="Error al guardar en servidor.";x.status===0?h="No se pudo conectar con el servidor. Verifique que el backend est\xE9 ejecut\xE1ndose.":x.status===403||x.message?.includes("CORS")?h="Error de CORS. Verifique la configuraci\xF3n del servidor.":x.error?.message&&(h=x.error.message),alert(`\u26A0\uFE0F Configuraci\xF3n guardada localmente.

${h}`)})}validarConfiguracion(){switch(this.tabActiva){case"empresa":if(!this.configuracion.empresa?.razonSocial)return alert("\u26A0\uFE0F La raz\xF3n social es obligatoria"),!1;if(!this.configuracion.empresa?.ruc||this.configuracion.empresa.ruc.length!==11)return alert("\u26A0\uFE0F El RUC debe tener 11 d\xEDgitos"),!1;break;case"planillas":if(this.configuracion.planillas?.tipoCambio&&this.configuracion.planillas.tipoCambio<=0)return alert("\u26A0\uFE0F El tipo de cambio debe ser mayor a 0"),!1;break;case"notificaciones":if(this.configuracion.notificaciones?.usuarioEmail&&!this.validarEmail(this.configuracion.notificaciones.usuarioEmail))return alert("\u26A0\uFE0F El email del servidor SMTP no es v\xE1lido"),!1;break}return!0}validarEmail(o){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)}restaurarDefecto(){confirm("\xBFEst\xE1 seguro de restaurar la configuraci\xF3n por defecto? Se perder\xE1n todos los cambios.")&&(this.configuracion=this.obtenerConfiguracionDefault(),this.guardarConfiguracion())}cancelarCambios(){confirm("\xBFEst\xE1 seguro de cancelar los cambios?")&&(this.configuracion=JSON.parse(JSON.stringify(this.configuracionOriginal)),this.hayChangios=!1)}exportarConfiguracion(){let o=JSON.stringify(this.configuracion,null,2),e=new Blob([o],{type:"application/json"}),a=URL.createObjectURL(e),x=document.createElement("a");x.href=a,x.download=`configuracion_${new Date().getTime()}.json`,x.click(),URL.revokeObjectURL(a)}importarConfiguracion(o){let e=o.target.files[0];if(e){let a=new FileReader;a.onload=x=>{try{let h=JSON.parse(x.target.result);this.configuracion=h,alert("\u2705 Configuraci\xF3n importada exitosamente")}catch{alert("\u26A0\uFE0F Error al importar la configuraci\xF3n. Archivo inv\xE1lido.")}},a.readAsText(e)}}cargarCargos(){this.cargos=[{id:"1",codigo:"GM-001",nombre:"Gerente Municipal",area:"GM",nivel:1,sueldoMinimo:8e3,sueldoMaximo:12e3,descripcion:"",requisitos:""},{id:"2",codigo:"RRHH-001",nombre:"Especialista RRHH",area:"RRHH",nivel:2,sueldoMinimo:3500,sueldoMaximo:5e3,descripcion:"",requisitos:""}]}cargarHorarios(){this.horarios=[{id:"1",nombre:"Horario Administrativo",horaEntrada:"08:00",horaSalida:"17:00",horaInicioAlmuerzo:"13:00",horaFinAlmuerzo:"14:00",diasLaborales:[1,2,3,4,5],activo:!0}]}cargarFeriados(){this.feriados=[{id:"1",fecha:new Date("2025-01-01"),nombre:"A\xF1o Nuevo",tipo:"nacional",esLaborable:!1},{id:"2",fecha:new Date("2025-07-28"),nombre:"Fiestas Patrias",tipo:"nacional",esLaborable:!1},{id:"3",fecha:new Date("2025-07-29"),nombre:"Fiestas Patrias",tipo:"nacional",esLaborable:!1}]}aplicarPersonalizacion(){if(this.configuracion.personalizacion){let o=document.documentElement;if(o.style.setProperty("--accent",this.configuracion.personalizacion.colorPrimario),o.style.setProperty("--color-secundario",this.configuracion.personalizacion.colorSecundario),this.configuracion.personalizacion.tema==="dark"?document.body.classList.add("dark-theme"):this.configuracion.personalizacion.tema==="light"&&document.body.classList.remove("dark-theme"),this.configuracion.personalizacion.tamanioFuente){let e={pequeno:"14px",mediano:"16px",grande:"18px"};o.style.setProperty("--font-size-base",e[this.configuracion.personalizacion.tamanioFuente])}}}ejecutarBackupManual(){confirm("\xBFDesea crear un backup manual del sistema?")&&(this.cargando=!0,setTimeout(()=>{this.cargando=!1,alert("\u2705 Backup creado exitosamente")},2e3))}restaurarBackup(){confirm("\u26A0\uFE0F \xBFEst\xE1 seguro de restaurar un backup? Esta acci\xF3n sobrescribir\xE1 los datos actuales.")&&alert("\u{1F4C2} Funcionalidad de restauraci\xF3n pr\xF3ximamente")}limpiarCache(){confirm("\xBFDesea limpiar el cach\xE9 del sistema?")&&(localStorage.removeItem("cacheDatos"),alert("\u2705 Cach\xE9 limpiado exitosamente"))}optimizarBaseDatos(){confirm("\xBFDesea optimizar la base de datos?")&&(this.cargando=!0,setTimeout(()=>{this.cargando=!1,alert("\u2705 Base de datos optimizada exitosamente")},3e3))}verificarActualizaciones(){this.cargando=!0,setTimeout(()=>{this.cargando=!1,alert("\u2139\uFE0F El sistema est\xE1 actualizado a la \xFAltima versi\xF3n")},1500)}detectarCambios(){this.hayChangios=this.hayChangiosSinGuardar(),this.hayChangios&&this.calcularCambiosPendientes()}calcularCambiosPendientes(){this.cambiosPendientes=[]}formatearFecha(o){return o?(typeof o=="string"?new Date(o):o).toLocaleDateString("es-PE"):"-"}copiarTexto(o){navigator.clipboard.writeText(o).then(()=>{alert("\u2705 Texto copiado al portapapeles")})}generarAPIKey(){let o="pk_"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.configuracion.sistema&&(this.configuracion.sistema.apiKey=o)}probarConexionSMTP(){if(!this.configuracion.notificaciones?.servidorSMTP){alert("\u26A0\uFE0F Configure primero el servidor SMTP");return}this.cargando=!0,setTimeout(()=>{this.cargando=!1,alert("\u2705 Conexi\xF3n SMTP exitosa")},2e3)}probarIntegracion(o){this.cargando=!0,setTimeout(()=>{this.cargando=!1,alert(`\u2705 Integraci\xF3n con ${o} exitosa`)},2e3)}cargarTasas(){console.log("[cargarTasas] Cargando tasas desde:",this.apiTasas),this.http.get(this.apiTasas).subscribe({next:o=>{console.log("[cargarTasas] Respuesta completa:",o),this.tasas=o.success?o.data:o,console.log("[cargarTasas] Tasas procesadas:",this.tasas),this.categorizarTasas()},error:o=>{console.error("[cargarTasas] Error al cargar tasas:",o),alert("\u26A0\uFE0F Error al cargar las tasas configurables")}})}categorizarTasas(){this.tasasCategorizadas={},this.tasas.forEach(o=>{let e=o.Categoria||"Otros";this.tasasCategorizadas[e]||(this.tasasCategorizadas[e]=[]),this.tasasCategorizadas[e].push(o)}),console.log("[categorizarTasas] Tasas categorizadas (activas e inactivas):",this.tasasCategorizadas)}editarTasa(o){console.log("[editarTasa] Editando tasa:",o),console.log("[editarTasa] ConfigID original:",o.ConfigID),this.tasaEditando=F({},o),console.log("[editarTasa] ConfigID despu\xE9s de copiar:",this.tasaEditando.ConfigID),console.log("[editarTasa] Tasa completa despu\xE9s de copiar:",this.tasaEditando),this.categoriaEsPersonalizada=!1,this.nuevaCategoria="",["AFP - Fondo de Pensiones","ONP - Sistema de Pensiones","Salud","SEGUROS","SCTR","Renta de 5ta Categor\xEDa","Renta","Bonificaciones","BONIFICACIONES","INGRESOS","Asignaci\xF3n Familiar","Descuentos por Asistencia","DESCUENTOS","SINDICAL","PRESTAMOS","APORTES","Otros","OTROS_DESCUENTOS"].includes(o.Categoria)||(this.categoriaEsPersonalizada=!0,this.nuevaCategoria=o.Categoria,this.tasaEditando.Categoria="__NUEVA_CATEGORIA__"),console.log("[editarTasa] ConfigID final:",this.tasaEditando.ConfigID),console.log("[editarTasa] Es edici\xF3n?",!!this.tasaEditando.ConfigID),this.mostrarModalTasa=!0}nuevaTasa(){console.log("[nuevaTasa] Abriendo modal. Cargos disponibles:",this.cargosDisponibles.length),this.cargosDisponibles.length===0&&(console.log("[nuevaTasa] Cargando cargos..."),this.cargarCargosParaTasas()),this.cargoSeleccionado="",this.categoriaEsPersonalizada=!1,this.nuevaCategoria="",this.tasaEditando={ConfigID:null,Codigo:"",Nombre:"",Valor:0,TipoValor:"Porcentaje",Categoria:"Descuentos por Asistencia",TipoTasa:"",Descripcion:"",Activo:!0,FechaVigenciaInicio:new Date().toISOString().split("T")[0],FechaVigenciaFin:null},this.mostrarModalTasa=!0}generarCodigoTasa(){if(!this.tasaEditando.Nombre||!this.tasaEditando.Categoria)return;let o=this.tasaEditando.Categoria,e=this.tasaEditando.Nombre;this.generarCodigoTasaConCategoria(o,e)}generarCodigoTasaConCategoria(o,e){let a=e||this.tasaEditando.Nombre;if(!a)return;let x="";switch(o){case"AFP - Fondo de Pensiones":x="AFP_";break;case"ONP - Sistema de Pensiones":x="ONP_";break;case"Salud":x="SALUD_";break;case"SEGUROS":x="SEGURO_";break;case"SCTR":x="SCTR_";break;case"Renta de 5ta Categor\xEDa":x="RENTA_5TA_";break;case"Renta":x="RENTA_";break;case"Bonificaciones":x="BON_";break;case"BONIFICACIONES":x="BONIFICACION_";break;case"INGRESOS":x="INGRESO_";break;case"Asignaci\xF3n Familiar":x="ASIG_FAM_";break;case"Descuentos por Asistencia":x="DESC_";break;case"DESCUENTOS":x="DESCUENTO_";break;case"SINDICAL":x="SINDICAL_";break;case"PRESTAMOS":x="PRESTAMO_";break;case"APORTES":x="APORTE_";break;case"Otros":x="OTRO_";break;case"OTROS_DESCUENTOS":x="OTRO_DESCUENTO_";break;default:o&&o!=="Descuentos por Asistencia"?x=o.toUpperCase().replace(/[^A-Z0-9]/g,"_")+"_":x="TASA_"}let h=a.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Z0-9\s]/g,"").replace(/\s+/g,"_").substring(0,30);this.tasaEditando.Codigo=x+h}esCategoriaRenta(){return this.tasaEditando&&this.tasaEditando.Categoria==="Renta"}onTipoTasaChange(){console.log("[onTipoTasaChange] Tipo de tasa seleccionado:",this.tasaEditando.TipoTasa)}onCategoriaChange(o){let e=o.target.value;e==="__NUEVA_CATEGORIA__"?(this.categoriaEsPersonalizada=!0,this.tasaEditando.Categoria="__NUEVA_CATEGORIA__",this.nuevaCategoria=""):(this.categoriaEsPersonalizada=!1,this.tasaEditando.Categoria=e,this.nuevaCategoria="",this.generarCodigoTasa())}onNuevaCategoriaChange(){if(this.nuevaCategoria.trim()){let o=this.nuevaCategoria.toUpperCase().trim();this.generarCodigoTasaConCategoria(o)}}cargarCargosParaTasas(){this.http.get(`${P.apiUrl}/cargos`).subscribe({next:o=>{Array.isArray(o)?this.cargosDisponibles=o:o&&o.data?this.cargosDisponibles=o.data:o&&Array.isArray(o.cargos)?this.cargosDisponibles=o.cargos:(console.warn("[cargarCargosParaTasas] Respuesta inesperada:",o),this.cargosDisponibles=[]),console.log("[cargarCargosParaTasas] Cargos cargados:",this.cargosDisponibles.length),console.log("[cargarCargosParaTasas] Primer cargo:",this.cargosDisponibles[0])},error:o=>{console.error("[cargarCargosParaTasas] Error:",o),this.cargosDisponibles=[]}})}onCargoSeleccionado(){if(!this.cargoSeleccionado)return;let o=this.cargoSeleccionado.toUpperCase().replace(/\s+/g,"_").replace(/[]/g,"A").replace(/[]/g,"E").replace(/[]/g,"I").replace(/[]/g,"O").replace(/[]/g,"U").replace(//g,"N");this.tasaEditando.Codigo=`RENTA_5TA_${o}`,this.tasaEditando.Nombre=`Renta 5ta - ${this.cargoSeleccionado}`,this.tasaEditando.Categoria="Renta",this.tasaEditando.TipoValor="Monto",this.tasaEditando.Descripcion=`Retenci\xF3n mensual fija para ${this.cargoSeleccionado}`}guardarTasa(){let o=this.tasaEditando.Categoria;if(this.categoriaEsPersonalizada&&this.nuevaCategoria.trim()&&(o=this.nuevaCategoria.toUpperCase().trim()),console.log("\u{1F50D} [guardarTasa] ConfigID:",this.tasaEditando.ConfigID),console.log("\u{1F50D} [guardarTasa] Es edici\xF3n?",!!this.tasaEditando.ConfigID),console.log("\u{1F50D} [guardarTasa] Tasa completa:",this.tasaEditando),!this.tasaEditando.Codigo||!this.tasaEditando.Nombre||!this.tasaEditando.Valor||!this.tasaEditando.TipoValor||!o){alert("\u26A0\uFE0F Faltan campos obligatorios: C\xF3digo, Nombre, Valor, Tipo y Categor\xEDa son requeridos");return}this.guardando=!0;let e=this.tasaEditando.ConfigID?"put":"post",a=this.tasaEditando.ConfigID?`${this.apiTasas}/${this.tasaEditando.ConfigID}`:this.apiTasas;console.log("\u{1F50D} [guardarTasa] M\xE9todo:",e),console.log("\u{1F50D} [guardarTasa] URL:",a);let x={codigo:this.tasaEditando.Codigo,nombre:this.tasaEditando.Nombre,valor:parseFloat(this.tasaEditando.Valor)||0,tipoValor:this.tasaEditando.TipoValor,categoria:o,tipoTasa:this.tasaEditando.TipoTasa||null,descripcion:this.tasaEditando.Descripcion||"",activo:this.tasaEditando.Activo!==!1,fechaVigenciaInicio:this.tasaEditando.FechaVigenciaInicio||new Date().toISOString().split("T")[0],fechaVigenciaFin:this.tasaEditando.FechaVigenciaFin||null};console.log("\u{1F4BE} Guardando tasa:",x),this.http[e](a,x).subscribe({next:h=>{this.guardando=!1,this.mostrarModalTasa=!1,alert("\u2705 Tasa guardada exitosamente"),this.cargarTasas()},error:h=>{this.guardando=!1,console.error("[guardarTasa] Error:",h),alert("\u274C Error al guardar la tasa: "+(h.error?.message||"Error de conexi\xF3n"))}})}eliminarTasa(o){this.tasaAEliminar=o,this.mostrarModalEliminarTasa=!0}desactivarTasa(){if(!this.tasaAEliminar)return;let o=L(F({},this.tasaAEliminar),{activo:!1});this.guardando=!0,this.http.put(`${this.apiTasas}/${this.tasaAEliminar.ConfigID}`,{codigo:o.Codigo,nombre:o.Nombre,valor:o.Valor,tipoValor:o.TipoValor,categoria:o.Categoria,tipoTasa:o.TipoTasa||null,descripcion:o.Descripcion,activo:!1,fechaVigenciaInicio:o.FechaVigenciaInicio,fechaVigenciaFin:o.FechaVigenciaFin}).subscribe({next:()=>{this.guardando=!1,this.mostrarModalEliminarTasa=!1,this.tasaAEliminar=null,alert("\u2705 Tasa desactivada exitosamente"),this.cargarTasas()},error:e=>{this.guardando=!1,console.error("[desactivarTasa] Error:",e),alert("\u274C Error al desactivar la tasa")}})}iniciarEdicionCategoria(o){this.categoriaEditando=o,this.categoriaNombreEditando=o}cancelarEdicionCategoria(){this.categoriaEditando=null,this.categoriaNombreEditando=""}guardarNombreCategoria(o){let e=this.categoriaNombreEditando.trim();if(!e||e===""){alert("\u26A0\uFE0F El nombre de la categor\xEDa no puede estar vac\xEDo");return}if(o===e){this.cancelarEdicionCategoria();return}confirm(`\xBFEst\xE1s seguro de renombrar la categor\xEDa "${o}" a "${e}"?

Esto actualizar\xE1 todas las tasas de esta categor\xEDa.`)&&(this.guardandoNombreCategoria=!0,this.http.put(`${this.apiTasas}/categoria/renombrar`,{categoriaAnterior:o,categoriaNueva:e}).subscribe({next:a=>{this.guardandoNombreCategoria=!1,this.cancelarEdicionCategoria(),alert("\u2705 Nombre de categor\xEDa actualizado exitosamente"),this.cargarTasas()},error:a=>{this.guardandoNombreCategoria=!1,console.error("[guardarNombreCategoria] Error:",a),alert("\u274C Error al actualizar el nombre de la categor\xEDa: "+(a.error?.message||"Error de conexi\xF3n"))}}))}eliminarTasaDefinitivamente(){this.tasaAEliminar&&(this.guardando=!0,console.log("\u{1F5D1}\uFE0F [eliminarTasaDefinitivamente] Eliminando tasa ID:",this.tasaAEliminar.ConfigID),this.http.delete(`${this.apiTasas}/${this.tasaAEliminar.ConfigID}/eliminar-definitivamente`).subscribe({next:o=>{this.guardando=!1,this.mostrarModalEliminarTasa=!1,this.tasaAEliminar=null,console.log("\u2705 [eliminarTasaDefinitivamente] Tasa eliminada:",o),alert("\u2705 Tasa eliminada definitivamente de la base de datos"),this.cargarTasas()},error:o=>{this.guardando=!1,console.error("[eliminarTasaDefinitivamente] Error:",o),alert("\u274C Error al eliminar la tasa: "+(o.error?.message||"Error de conexi\xF3n"))}}))}cerrarModalEliminarTasa(){this.mostrarModalEliminarTasa=!1,this.tasaAEliminar=null}cerrarModalTasa(){this.mostrarModalTasa=!1,this.tasaEditando=null}formatearValorTasa(o,e){return e==="Porcentaje"?(o*100).toFixed(2)+"%":e==="Monto"?"S/. "+o.toFixed(2):o.toString()}cambiarSubseccion(o){this.subseccionActiva=o,this.cargarDatosMaestros()}cargarDatosMaestros(){switch(this.subseccionActiva){case"cargos":this.cargarCargosParaDatosMaestros();break;case"gerencias":this.cargarGerenciasParaDatosMaestros();break;case"subgerencias":this.cargarSubgerenciasParaDatosMaestros();break;case"unidades":this.cargarUnidadesParaDatosMaestros();break;case"tipos-contrato":this.cargarTiposContratoParaDatosMaestros();break;case"regimenes-laborales":this.cargarRegimenesLaboralesParaDatosMaestros();break;case"condiciones-laborales":this.cargarCondicionesLaboralesParaDatosMaestros();break}}cargarTodosLosDatosMaestros(){console.log("\u{1F680} Cargando todos los datos maestros..."),this.cargarCargosParaDatosMaestros(),this.cargarGerenciasParaDatosMaestros(),this.cargarSubgerenciasParaDatosMaestros(),this.cargarUnidadesParaDatosMaestros(),this.cargarTiposContratoParaDatosMaestros(),this.cargarRegimenesLaboralesParaDatosMaestros(),this.cargarCondicionesLaboralesParaDatosMaestros()}cargarCargosParaDatosMaestros(){this.cargosSeleccionados=[],this.todosCargosSeleccionados=!1,this.http.get(`${P.apiUrl}/cargos`).subscribe({next:o=>{console.log("\u{1F4CB} Respuesta de cargos:",o),this.cargos=o.data||[],this.actualizarCount("cargos",this.cargos.length),console.log("\u{1F4CB} Cargos cargados:",this.cargos.length)},error:o=>{console.error("\u274C Error al cargar cargos:",o),this.cargos=[]}})}cargarGerenciasParaDatosMaestros(){this.http.get(`${P.apiUrl}/gerencias`).subscribe({next:o=>{this.gerencias=o.data||[],this.actualizarCount("gerencias",this.gerencias.length)},error:o=>{console.error("Error al cargar gerencias:",o),this.gerencias=[]}})}cargarSubgerenciasParaDatosMaestros(){this.http.get(`${P.apiUrl}/subgerencias`).subscribe({next:o=>{this.subgerencias=o.data||[],this.actualizarCount("subgerencias",this.subgerencias.length)},error:o=>{console.error("Error al cargar subgerencias:",o),this.subgerencias=[]}})}cargarUnidadesParaDatosMaestros(){this.http.get(`${P.apiUrl}/unidades`).subscribe({next:o=>{this.unidades=o.data||[],this.actualizarCount("unidades",this.unidades.length)},error:o=>{console.error("Error al cargar unidades:",o),this.unidades=[]}})}cargarTiposContratoParaDatosMaestros(){this.http.get(`${P.apiUrl}/tipos-contrato`).subscribe({next:o=>{this.tiposContrato=o.data||[],this.actualizarCount("tipos-contrato",this.tiposContrato.length)},error:o=>{console.error("Error al cargar tipos de contrato:",o),this.tiposContrato=[]}})}cargarRegimenesLaboralesParaDatosMaestros(){this.http.get(`${P.apiUrl}/regimenes-laborales`).subscribe({next:o=>{this.regimenesLaborales=o.data||[],this.actualizarCount("regimenes-laborales",this.regimenesLaborales.length)},error:o=>{console.error("Error al cargar reg\xEDmenes laborales:",o),this.regimenesLaborales=[]}})}cargarCondicionesLaboralesParaDatosMaestros(){this.http.get(`${P.apiUrl}/condiciones-laborales`).subscribe({next:o=>{this.condicionesLaborales=o.data||[],this.actualizarCount("condiciones-laborales",this.condicionesLaborales.length)},error:o=>{console.error("Error al cargar condiciones laborales:",o),this.condicionesLaborales=[]}})}actualizarCount(o,e){let a=this.subseccionesDatosMaestros.find(x=>x.id===o);a&&(a.count=e)}abrirModalNuevoCargo(){this.cargoEditando=null,this.cargoForm={nombre:"",descripcion:""},this.mostrarModalCargo=!0}abrirModalEditarCargo(o){this.cargoEditando=o,this.cargoForm={nombre:o.Nombre||"",descripcion:o.Descripcion||""},this.mostrarModalCargo=!0}cerrarModalCargo(){this.mostrarModalCargo=!1,this.cargoEditando=null,this.cargoForm={nombre:"",descripcion:""}}guardarCargo(){if(!this.cargoForm.nombre?.trim()){alert("\u274C El nombre es obligatorio");return}let o=this.cargoForm.nombre.trim().toUpperCase();if(this.cargos.some(x=>this.cargoEditando&&x.CargoID===this.cargoEditando.CargoID?!1:x.Nombre&&x.Nombre.toUpperCase()===o)){alert("\u274C Ya existe un cargo con ese nombre. Por favor, use un nombre diferente.");return}this.guardandoCargo=!0;let a={nombre:this.cargoForm.nombre.trim().toUpperCase(),descripcion:this.cargoForm.descripcion.trim(),activo:!0};this.cargoEditando?this.http.put(`${P.apiUrl}/cargos/${this.cargoEditando.CargoID}`,a).subscribe({next:()=>{this.guardandoCargo=!1,this.cerrarModalCargo(),alert("\u2705 Cargo actualizado exitosamente"),this.cargarCargosParaDatosMaestros()},error:x=>{this.guardandoCargo=!1,console.error("Error al actualizar cargo:",x),x.error&&x.error.error&&x.error.error.includes("UNIQUE KEY constraint")?alert("\u274C Ya existe un cargo con ese nombre. Por favor, use un nombre diferente."):alert("\u274C Error al actualizar el cargo")}}):this.http.post(`${P.apiUrl}/cargos`,a).subscribe({next:()=>{this.guardandoCargo=!1,this.cerrarModalCargo(),alert("\u2705 Cargo creado exitosamente"),this.cargarCargosParaDatosMaestros()},error:x=>{this.guardandoCargo=!1,console.error("Error al crear cargo:",x),x.error&&x.error.error&&x.error.error.includes("UNIQUE KEY constraint")?alert("\u274C Ya existe un cargo con ese nombre. Por favor, use un nombre diferente."):alert("\u274C Error al crear el cargo")}})}nuevoCargo(){this.abrirModalNuevoCargo()}editarCargo(o){this.abrirModalEditarCargo(o)}estaCargoSeleccionado(o){return this.cargosSeleccionados.includes(o)}toggleSeleccionCargo(o){let e=this.cargosSeleccionados.indexOf(o);e>-1?this.cargosSeleccionados.splice(e,1):this.cargosSeleccionados.push(o),this.actualizarEstadoTodosCargos()}toggleTodosCargos(){this.todosCargosSeleccionados?this.cargosSeleccionados=[]:this.cargosSeleccionados=this.cargos.map(o=>o.CargoID),this.todosCargosSeleccionados=!this.todosCargosSeleccionados}actualizarEstadoTodosCargos(){this.todosCargosSeleccionados=this.cargos.length>0&&this.cargosSeleccionados.length===this.cargos.length}eliminarCargosSeleccionados(){return Q(this,null,function*(){if(this.cargosSeleccionados.length===0){alert("\u26A0\uFE0F No hay cargos seleccionados");return}let o=this.cargosSeleccionados.length;if(!confirm(`\xBFEst\xE1 seguro de eliminar ${o} cargo(s) seleccionado(s)?

Si alg\xFAn cargo est\xE1 asignado a trabajadores, podr\xE1 omitirlo y continuar con los dem\xE1s.`))return;let e=[...this.cargosSeleccionados],a=[],x=[];for(let M of e){let S=this.cargos.find(y=>y.CargoID===M),k=S?S.Nombre:`ID ${M}`;try{yield T(this.http.delete(`${P.apiUrl}/cargos/${M}`)),a.push(M);let y=this.cargosSeleccionados.indexOf(M);y>-1&&this.cargosSeleccionados.splice(y,1)}catch(y){if(console.error(`Error al eliminar cargo ${M}:`,y),y.error&&y.error.error&&(y.error.error.includes("REFERENCE constraint")||y.error.error.includes("FK_")||y.error.message?.includes("trabajador")))if(confirm(`\u26A0\uFE0F El cargo "${k}" no se puede eliminar porque est\xE1 asignado a uno o m\xE1s trabajadores.

\xBFDesea omitir este cargo y continuar eliminando los dem\xE1s?`)){x.push({id:M,nombre:k,razon:"Est\xE1 asignado a trabajadores"});let K=this.cargosSeleccionados.indexOf(M);K>-1&&this.cargosSeleccionados.splice(K,1)}else break;else if(!confirm(`\u274C Error al eliminar el cargo "${k}": ${y.error?.message||y.message}

\xBFDesea continuar con los dem\xE1s cargos?`))break}}let h=`\u2705 Proceso completado:
`;h+=`\u2022 Eliminados: ${a.length}
`,x.length>0&&(h+=`\u2022 Omitidos: ${x.length}
`,h+=`
Cargos omitidos:
`,x.forEach(M=>{h+=`- ${M.nombre} (${M.razon})
`})),alert(h),this.cargarCargosParaDatosMaestros(),this.cargosSeleccionados=[],this.todosCargosSeleccionados=!1})}eliminarCargo(o){confirm(`\xBFEst\xE1 seguro de eliminar el cargo "${o.Nombre}"?`)&&this.http.delete(`${P.apiUrl}/cargos/${o.CargoID}`).subscribe({next:()=>{alert("\u2705 Cargo eliminado exitosamente"),this.cargarCargosParaDatosMaestros();let e=this.cargosSeleccionados.indexOf(o.CargoID);e>-1&&this.cargosSeleccionados.splice(e,1),this.actualizarEstadoTodosCargos()},error:e=>{console.error("Error al eliminar cargo:",e),e.error&&e.error.error&&(e.error.error.includes("REFERENCE constraint")||e.error.error.includes("FK_"))?alert("\u274C No se puede eliminar el cargo porque est\xE1 asignado a uno o m\xE1s trabajadores."):alert("\u274C Error al eliminar el cargo")}})}nuevaGerencia(){let o=prompt("Ingrese el nombre de la nueva gerencia:");if(o&&o.trim()){let e=o.trim().toUpperCase();if(this.gerencias.some(x=>x.Nombre&&x.Nombre.toUpperCase()===e)){alert("\u274C Ya existe una gerencia con ese nombre. Por favor, use un nombre diferente.");return}this.http.post(`${P.apiUrl}/gerencias`,{nombre:e,descripcion:"",activo:!0}).subscribe({next:()=>{alert("\u2705 Gerencia creada exitosamente"),this.cargarGerenciasParaDatosMaestros()},error:x=>{console.error("Error al crear gerencia:",x),x.error&&x.error.error&&x.error.error.includes("Violaci\xF3n")?alert("\u274C Ya existe una gerencia con ese nombre. Por favor, use un nombre diferente."):alert("\u274C Error al crear la gerencia")}})}}editarGerencia(o){let e=prompt("Ingrese el nuevo nombre de la gerencia:",o.Nombre);e&&e.trim()&&this.http.put(`${P.apiUrl}/gerencias/${o.GerenciaID}`,{nombre:e.trim().toUpperCase(),descripcion:o.Descripcion||"",activo:o.Activo}).subscribe({next:()=>{alert("\u2705 Gerencia actualizada exitosamente"),this.cargarGerenciasParaDatosMaestros()},error:a=>{console.error("Error al actualizar gerencia:",a),alert("\u274C Error al actualizar la gerencia")}})}eliminarGerencia(o){confirm(`\xBFEst\xE1 seguro de eliminar la gerencia "${o.Nombre}"?`)&&this.http.delete(`${P.apiUrl}/gerencias/${o.GerenciaID}`).subscribe({next:()=>{alert("\u2705 Gerencia eliminada exitosamente"),this.cargarGerenciasParaDatosMaestros()},error:e=>{console.error("Error al eliminar gerencia:",e),alert("\u274C Error al eliminar la gerencia")}})}nuevaSubgerencia(){let o=prompt("Ingrese el nombre de la nueva subgerencia:");if(o&&o.trim()){let e=o.trim().toUpperCase();if(this.subgerencias.some(x=>x.Nombre&&x.Nombre.toUpperCase()===e)){alert("\u274C Ya existe una subgerencia con ese nombre. Por favor, use un nombre diferente.");return}this.http.post(`${P.apiUrl}/subgerencias`,{nombre:e,gerenciaID:1,activo:!0}).subscribe({next:()=>{alert("\u2705 Subgerencia creada exitosamente"),this.cargarSubgerenciasParaDatosMaestros()},error:x=>{console.error("Error al crear subgerencia:",x),x.error&&x.error.error&&x.error.error.includes("Violaci\xF3n")?alert("\u274C Ya existe una subgerencia con ese nombre. Por favor, use un nombre diferente."):alert("\u274C Error al crear la subgerencia")}})}}editarSubgerencia(o){let e=prompt("Ingrese el nuevo nombre de la subgerencia:",o.Nombre);e&&e.trim()&&this.http.put(`${P.apiUrl}/subgerencias/${o.SubgerenciaID}`,{nombre:e.trim().toUpperCase(),gerenciaID:o.GerenciaID||1,activo:o.Activo}).subscribe({next:()=>{alert("\u2705 Subgerencia actualizada exitosamente"),this.cargarSubgerenciasParaDatosMaestros()},error:a=>{console.error("Error al actualizar subgerencia:",a),alert("\u274C Error al actualizar la subgerencia")}})}eliminarSubgerencia(o){confirm(`\xBFEst\xE1 seguro de eliminar la subgerencia "${o.Nombre}"?`)&&this.http.delete(`${P.apiUrl}/subgerencias/${o.SubgerenciaID}`).subscribe({next:()=>{alert("\u2705 Subgerencia eliminada exitosamente"),this.cargarSubgerenciasParaDatosMaestros()},error:e=>{console.error("Error al eliminar subgerencia:",e),alert("\u274C Error al eliminar la subgerencia")}})}nuevaUnidad(){let o=prompt("Ingrese el nombre de la nueva unidad:");if(o&&o.trim()){let e=o.trim().toUpperCase();if(this.unidades.some(x=>x.Nombre&&x.Nombre.toUpperCase()===e)){alert("\u274C Ya existe una unidad con ese nombre. Por favor, use un nombre diferente.");return}this.http.post(`${P.apiUrl}/unidades`,{nombre:e,subgerenciaID:1,activo:!0}).subscribe({next:()=>{alert("\u2705 Unidad creada exitosamente"),this.cargarUnidadesParaDatosMaestros()},error:x=>{console.error("Error al crear unidad:",x),x.error&&x.error.error&&x.error.error.includes("Violaci\xF3n")?alert("\u274C Ya existe una unidad con ese nombre. Por favor, use un nombre diferente."):alert("\u274C Error al crear la unidad")}})}}editarUnidad(o){let e=prompt("Ingrese el nuevo nombre de la unidad:",o.Nombre);e&&e.trim()&&this.http.put(`${P.apiUrl}/unidades/${o.UnidadID}`,{nombre:e.trim().toUpperCase(),subgerenciaID:o.SubgerenciaID||1,activo:o.Activo}).subscribe({next:()=>{alert("\u2705 Unidad actualizada exitosamente"),this.cargarUnidadesParaDatosMaestros()},error:a=>{console.error("Error al actualizar unidad:",a),alert("\u274C Error al actualizar la unidad")}})}eliminarUnidad(o){confirm(`\xBFEst\xE1 seguro de eliminar la unidad "${o.Nombre}"?`)&&this.http.delete(`${P.apiUrl}/unidades/${o.UnidadID}`).subscribe({next:()=>{alert("\u2705 Unidad eliminada exitosamente"),this.cargarUnidadesParaDatosMaestros()},error:e=>{console.error("Error al eliminar unidad:",e),alert("\u274C Error al eliminar la unidad")}})}abrirModalNuevoTipoContrato(){this.tipoContratoEditando=null,this.tipoContratoForm={codigo:"",nombre:"",descripcion:""},this.mostrarModalTipoContrato=!0}abrirModalEditarTipoContrato(o){this.tipoContratoEditando=o,this.tipoContratoForm={codigo:o.Codigo||"",nombre:o.Nombre||"",descripcion:o.Descripcion||""},this.mostrarModalTipoContrato=!0}cerrarModalTipoContrato(){this.mostrarModalTipoContrato=!1,this.tipoContratoEditando=null,this.tipoContratoForm={codigo:"",nombre:"",descripcion:""}}guardarTipoContrato(){if(!this.tipoContratoForm.nombre?.trim()){alert("\u274C El nombre es obligatorio");return}this.tipoContratoForm.codigo?.trim()||(this.tipoContratoForm.codigo=this.tipoContratoForm.nombre.trim().toUpperCase().replace(/\s+/g,"-").substring(0,20));let o=this.tipoContratoForm.nombre.trim().toUpperCase();if(this.tiposContrato.some(M=>this.tipoContratoEditando&&M.TipoContratoID===this.tipoContratoEditando.TipoContratoID?!1:M.Nombre&&M.Nombre.toUpperCase()===o)){alert("\u274C Ya existe un tipo de contrato con ese nombre. Por favor, use un nombre diferente.");return}let a=this.tipoContratoForm.codigo.trim().toUpperCase();if(this.tiposContrato.some(M=>this.tipoContratoEditando&&M.TipoContratoID===this.tipoContratoEditando.TipoContratoID?!1:M.Codigo&&M.Codigo.toUpperCase()===a)){alert("\u274C Ya existe un tipo de contrato con ese c\xF3digo. Por favor, use un c\xF3digo diferente.");return}this.guardandoTipoContrato=!0;let h={codigo:this.tipoContratoForm.codigo.trim().toUpperCase(),nombre:this.tipoContratoForm.nombre.trim().toUpperCase(),descripcion:this.tipoContratoForm.descripcion.trim(),requiereConvocatoria:!1,tienePlazo:!1};this.tipoContratoEditando?this.http.put(`${P.apiUrl}/tipos-contrato/${this.tipoContratoEditando.TipoContratoID}`,h).subscribe({next:()=>{this.guardandoTipoContrato=!1,this.cerrarModalTipoContrato(),alert("\u2705 Tipo de contrato actualizado exitosamente"),this.cargarTiposContratoParaDatosMaestros()},error:M=>{this.guardandoTipoContrato=!1,console.error("Error al actualizar tipo de contrato:",M),M.error&&M.error.error&&M.error.error.includes("UNIQUE KEY constraint")?alert("\u274C Ya existe un tipo de contrato con ese c\xF3digo. Por favor, use un c\xF3digo diferente."):alert("\u274C Error al actualizar el tipo de contrato")}}):this.http.post(`${P.apiUrl}/tipos-contrato`,h).subscribe({next:()=>{this.guardandoTipoContrato=!1,this.cerrarModalTipoContrato(),alert("\u2705 Tipo de contrato creado exitosamente"),this.cargarTiposContratoParaDatosMaestros()},error:M=>{this.guardandoTipoContrato=!1,console.error("Error al crear tipo de contrato:",M),M.error&&M.error.error&&M.error.error.includes("UNIQUE KEY constraint")?alert("\u274C Ya existe un tipo de contrato con ese c\xF3digo. Por favor, use un c\xF3digo diferente."):alert("\u274C Error al crear el tipo de contrato")}})}nuevoTipoContrato(){this.abrirModalNuevoTipoContrato()}editarTipoContrato(o){this.abrirModalEditarTipoContrato(o)}eliminarTipoContrato(o){confirm(`\xBFEst\xE1 seguro de eliminar el tipo de contrato "${o.Nombre}"?

Si hay trabajadores usando este tipo de contrato, se realizar\xE1 una desactivaci\xF3n en lugar de eliminaci\xF3n.`)&&this.http.delete(`${P.apiUrl}/tipos-contrato/${o.TipoContratoID}`).subscribe({next:e=>{let a="\u2705 Tipo de contrato eliminado exitosamente";e.data&&e.data.cantidadTrabajadores>0?a=`\u2705 El tipo de contrato ha sido desactivado.

\u26A0\uFE0F Nota: ${e.data.cantidadTrabajadores} trabajador(es) a\xFAn lo est\xE1n usando, por lo que se realiz\xF3 una desactivaci\xF3n en lugar de eliminaci\xF3n f\xEDsica.`:e.message&&(a=e.message),alert(a),this.cargarTiposContratoParaDatosMaestros()},error:e=>{console.error("Error al eliminar tipo de contrato:",e);let a="\u274C Error al eliminar el tipo de contrato";e.error&&e.error.message&&(a=`\u274C ${e.error.message}`),alert(a)}})}abrirModalNuevoRegimenLaboral(){this.regimenLaboralEditando=null,this.regimenLaboralForm={codigo:"",nombre:"",descripcion:"",baseNormativa:"Ley General del Trabajo"},this.mostrarModalRegimenLaboral=!0}abrirModalEditarRegimenLaboral(o){this.regimenLaboralEditando=o,this.regimenLaboralForm={codigo:o.Codigo||"",nombre:o.Nombre||"",descripcion:o.Descripcion||"",baseNormativa:o.BaseNormativa||"Ley General del Trabajo"},this.mostrarModalRegimenLaboral=!0}cerrarModalRegimenLaboral(){this.mostrarModalRegimenLaboral=!1,this.regimenLaboralEditando=null,this.regimenLaboralForm={codigo:"",nombre:"",descripcion:"",baseNormativa:"Ley General del Trabajo"}}guardarRegimenLaboral(){if(!this.regimenLaboralForm.nombre?.trim()){alert("\u274C El nombre es obligatorio");return}if(!this.regimenLaboralForm.descripcion?.trim()){alert("\u274C La descripci\xF3n es obligatoria");return}if(!this.regimenLaboralForm.baseNormativa?.trim()){alert("\u274C La base normativa es obligatoria");return}this.regimenLaboralForm.codigo?.trim()||(this.regimenLaboralForm.codigo=this.regimenLaboralForm.nombre.trim().toUpperCase().replace(/\s+/g,"-").substring(0,20));let o=this.regimenLaboralForm.nombre.trim().toUpperCase();if(this.regimenesLaborales.some(M=>this.regimenLaboralEditando&&M.RegimenID===this.regimenLaboralEditando.RegimenID?!1:M.Nombre&&M.Nombre.toUpperCase()===o)){alert("\u274C Ya existe un r\xE9gimen laboral con ese nombre. Por favor, use un nombre diferente.");return}let a=this.regimenLaboralForm.codigo.trim().toUpperCase();if(this.regimenesLaborales.some(M=>this.regimenLaboralEditando&&M.RegimenID===this.regimenLaboralEditando.RegimenID?!1:M.Codigo&&M.Codigo.toUpperCase()===a)){alert("\u274C Ya existe un r\xE9gimen laboral con ese c\xF3digo. Por favor, use un c\xF3digo diferente.");return}this.guardandoRegimenLaboral=!0;let h={codigo:this.regimenLaboralForm.codigo.trim().toUpperCase(),nombre:this.regimenLaboralForm.nombre.trim().toUpperCase(),descripcion:this.regimenLaboralForm.descripcion.trim(),baseNormativa:this.regimenLaboralForm.baseNormativa.trim()};this.regimenLaboralEditando?this.http.put(`${P.apiUrl}/regimenes-laborales/${this.regimenLaboralEditando.RegimenID}`,h).subscribe({next:()=>{this.guardandoRegimenLaboral=!1,this.cerrarModalRegimenLaboral(),alert("\u2705 R\xE9gimen laboral actualizado exitosamente"),this.cargarRegimenesLaboralesParaDatosMaestros()},error:M=>{this.guardandoRegimenLaboral=!1,console.error("Error al actualizar r\xE9gimen laboral:",M),M.error&&M.error.error&&M.error.error.includes("UNIQUE KEY constraint")?alert("\u274C Ya existe un r\xE9gimen laboral con ese c\xF3digo. Por favor, use un c\xF3digo diferente."):alert("\u274C Error al actualizar el r\xE9gimen laboral")}}):this.http.post(`${P.apiUrl}/regimenes-laborales`,h).subscribe({next:()=>{this.guardandoRegimenLaboral=!1,this.cerrarModalRegimenLaboral(),alert("\u2705 R\xE9gimen laboral creado exitosamente"),this.cargarRegimenesLaboralesParaDatosMaestros()},error:M=>{this.guardandoRegimenLaboral=!1,console.error("Error al crear r\xE9gimen laboral:",M),M.error&&M.error.error&&M.error.error.includes("UNIQUE KEY constraint")?alert("\u274C Ya existe un r\xE9gimen laboral con ese c\xF3digo. Por favor, use un c\xF3digo diferente."):alert("\u274C Error al crear el r\xE9gimen laboral")}})}eliminarRegimenLaboral(o){confirm(`\xBFEst\xE1 seguro de eliminar completamente el r\xE9gimen laboral "${o.Nombre}"?

\u26A0\uFE0F ADVERTENCIA: Esta acci\xF3n no se puede deshacer.`)&&this.http.delete(`${P.apiUrl}/regimenes-laborales/${o.RegimenID}`).subscribe({next:()=>{alert("\u2705 R\xE9gimen laboral eliminado exitosamente"),this.cargarRegimenesLaboralesParaDatosMaestros()},error:e=>{console.error("Error al eliminar r\xE9gimen laboral:",e),e.error&&e.error.error&&e.error.error.includes("REFERENCE constraint")?alert(`\u274C No se puede eliminar este r\xE9gimen laboral porque est\xE1 siendo usado por uno o m\xE1s trabajadores.

Sugerencia: Primero cambie el r\xE9gimen laboral de los trabajadores que lo usan.`):alert("\u274C Error al eliminar el r\xE9gimen laboral")}})}abrirModalNuevoCondicionLaboral(){this.condicionLaboralEditando=null,this.condicionLaboralForm={codigo:"",nombre:"",descripcion:""},this.mostrarModalCondicionLaboral=!0}abrirModalEditarCondicionLaboral(o){this.condicionLaboralEditando=o,this.condicionLaboralForm={codigo:o.Codigo||"",nombre:o.Nombre||"",descripcion:o.Descripcion||""},this.mostrarModalCondicionLaboral=!0}cerrarModalCondicionLaboral(){this.mostrarModalCondicionLaboral=!1,this.condicionLaboralEditando=null,this.condicionLaboralForm={codigo:"",nombre:"",descripcion:""}}guardarCondicionLaboral(){if(!this.condicionLaboralForm.nombre?.trim()){alert("\u274C El nombre es obligatorio");return}if(!this.condicionLaboralForm.codigo?.trim()){alert("\u274C El c\xF3digo es obligatorio");return}this.guardandoCondicionLaboral=!0;let o={codigo:this.condicionLaboralForm.codigo.trim(),nombre:this.condicionLaboralForm.nombre.trim(),descripcion:this.condicionLaboralForm.descripcion?.trim()||""};this.condicionLaboralEditando?this.http.put(`${P.apiUrl}/condiciones-laborales/${this.condicionLaboralEditando.CondicionID}`,o).subscribe({next:()=>{this.guardandoCondicionLaboral=!1,this.cerrarModalCondicionLaboral(),alert("\u2705 Condici\xF3n laboral actualizada exitosamente"),this.cargarCondicionesLaboralesParaDatosMaestros()},error:e=>{this.guardandoCondicionLaboral=!1,console.error("Error al actualizar condici\xF3n laboral:",e),alert("\u274C Error al actualizar la condici\xF3n laboral: "+(e.error?.message||"Error de conexi\xF3n"))}}):this.http.post(`${P.apiUrl}/condiciones-laborales`,o).subscribe({next:()=>{this.guardandoCondicionLaboral=!1,this.cerrarModalCondicionLaboral(),alert("\u2705 Condici\xF3n laboral creada exitosamente"),this.cargarCondicionesLaboralesParaDatosMaestros()},error:e=>{this.guardandoCondicionLaboral=!1,console.error("Error al crear condici\xF3n laboral:",e),alert("\u274C Error al crear la condici\xF3n laboral: "+(e.error?.message||"Error de conexi\xF3n"))}})}eliminarCondicionLaboral(o){confirm(`\xBFEst\xE1 seguro de eliminar la condici\xF3n laboral "${o.Nombre}"?

Esta acci\xF3n desactivar\xE1 la condici\xF3n laboral.`)&&this.http.delete(`${P.apiUrl}/condiciones-laborales/${o.CondicionID}`).subscribe({next:a=>{a.trabajadoresUsando>0?alert(`\u2705 Condici\xF3n laboral desactivada. Hay ${a.trabajadoresUsando} trabajador(es) que a\xFAn la est\xE1n usando.`):alert("\u2705 Condici\xF3n laboral eliminada exitosamente"),this.cargarCondicionesLaboralesParaDatosMaestros()},error:a=>{console.error("Error al eliminar condici\xF3n laboral:",a),alert("\u274C Error al eliminar la condici\xF3n laboral: "+(a.error?.message||"Error de conexi\xF3n"))}})}cargarRoles(){this.rolesCargando=!0,this.http.get(`${P.apiUrl}/roles`).subscribe({next:o=>{this.roles=(o.data||o).map(e=>{let a=e.permisos;if(typeof a=="string")try{a=JSON.parse(a)}catch(x){console.error("Error al parsear permisos JSON para rol:",e.nombre,x),a={}}return Array.isArray(a)&&a.length===1&&a[0]==="*"&&(a={trabajadores:{ver:!0,crear:!0,editar:!0,eliminar:!0},planillas:{ver:!0,crear:!0,editar:!0,eliminar:!0},reportes:{ver:!0,exportar:!0},configuracion:{ver:!0,editar:!0},asistencia:{ver:!0,editar:!0},beneficios:{ver:!0,editar:!0},prestamos:{ver:!0,crear:!0,editar:!0,eliminar:!0},usuarios:{ver:!0,crear:!0,editar:!0,eliminar:!0},roles:{ver:!0,crear:!0,editar:!0,eliminar:!0}}),(!a||typeof a!="object"||Array.isArray(a))&&(a={}),L(F({},e),{permisos:a,fechaActualizacion:e.fechaModificacion||e.fechaCreacion||new Date().toISOString()})}),this.roles.sort((e,a)=>{let x=(e.nombre||"").toUpperCase().trim(),h=(a.nombre||"").toUpperCase().trim(),M=x==="SUPER ADMINISTRADOR"||x==="SUPER_ADMINISTRADOR"||x==="SUPER_ADMIN",S=h==="SUPER ADMINISTRADOR"||h==="SUPER_ADMINISTRADOR"||h==="SUPER_ADMIN";return M&&!S?-1:!M&&S?1:(e.nombre||"").localeCompare(a.nombre||"","es",{sensitivity:"base"})}),this.rolesCargando=!1},error:o=>{console.error("Error al cargar roles:",o),this.rolesCargando=!1,console.warn("\u26A0\uFE0F No se pudieron cargar los roles (endpoint no disponible)")}})}cargarUsuarios(){this.usuariosCargando=!0,this.http.get(`${P.apiUrl}/usuarios`).subscribe({next:o=>{this.usuarios=(o.data||o).map(e=>L(F({},e),{rol:e.Rol||e.rol,ultimoAcceso:e.UltimoAcceso||e.ultimoAcceso,nombre:e.Nombre||e.nombre||"",apellidos:e.Apellidos||e.apellidos||"",email:e.Email||e.email||"",username:e.Username||e.username||"",fechaActualizacion:e.fechaModificacion||e.fechaCreacion||new Date().toISOString(),horasDemo:e.HorasRestantes||e.horasDemo||null,fechaInicioDemo:e.FechaInicioDemo||e.fechaInicioDemo||"",fechaFinDemo:e.FechaFinDemo||e.fechaFinDemo||""})),console.log("\u{1F465} Usuarios cargados:",this.usuarios),this.usuariosCargando=!1},error:o=>{console.error("Error al cargar usuarios:",o),this.usuariosCargando=!1,console.warn("\u26A0\uFE0F No se pudieron cargar los usuarios (endpoint no disponible)")}})}abrirModalCrearRol(){this.rolEditando=null,this.rolForm={nombre:"",descripcion:"",permisos:{trabajadores:{ver:!1,crear:!1,editar:!1,eliminar:!1},planillas:{ver:!1,crear:!1,editar:!1,eliminar:!1},reportes:{ver:!1,exportar:!1},configuracion:{ver:!1,editar:!1},asistencia:{ver:!1,editar:!1},beneficios:{ver:!1,editar:!1},prestamos:{ver:!1,crear:!1,editar:!1,eliminar:!1},usuarios:{ver:!1,crear:!1,editar:!1,eliminar:!1},roles:{ver:!1,crear:!1,editar:!1,eliminar:!1}}},this.mostrarModalRol=!0}abrirModalEditarRol(o){this.rolEditando=o;let e=(o.nombre||"").toUpperCase().trim(),a=e==="SUPER ADMINISTRADOR"||e==="SUPER_ADMINISTRADOR"||e==="SUPER_ADMIN"||this.getRolDisplayName(o.nombre)==="Super Administrador",x=e==="ADMIN"||e==="ADMIN_NORMAL"||o.nombre==="Administrador",h=a||x,M={trabajadores:{ver:h,crear:h,editar:h,eliminar:h},planillas:{ver:h,crear:h,editar:h,eliminar:h},reportes:{ver:h,exportar:h},configuracion:{ver:h,editar:h},asistencia:{ver:h,editar:h},beneficios:{ver:h,editar:h},prestamos:{ver:h,crear:h,editar:h,eliminar:h},usuarios:{ver:h,crear:h,editar:h,eliminar:h},roles:{ver:h,crear:h,editar:h,eliminar:h}};if(o.permisos){let S=o.permisos;if(typeof S=="string")try{S=JSON.parse(S)}catch(k){console.error("Error al parsear permisos JSON:",k),S={}}Array.isArray(S)&&S.includes("*")?(console.log('\u{1F50D} Rol tiene permisos ["*"] - Marcando TODOS los permisos como true'),M={trabajadores:{ver:!0,crear:!0,editar:!0,eliminar:!0},planillas:{ver:!0,crear:!0,editar:!0,eliminar:!0},reportes:{ver:!0,exportar:!0},configuracion:{ver:!0,editar:!0},asistencia:{ver:!0,editar:!0},beneficios:{ver:!0,editar:!0},prestamos:{ver:!0,crear:!0,editar:!0,eliminar:!0},usuarios:{ver:!0,crear:!0,editar:!0,eliminar:!0},roles:{ver:!0,crear:!0,editar:!0,eliminar:!0}}):typeof S=="object"&&S!==null&&(a?(console.log("\u{1F50D} Es Super Administrador - Forzando TODOS los permisos a true"),M={trabajadores:{ver:!0,crear:!0,editar:!0,eliminar:!0},planillas:{ver:!0,crear:!0,editar:!0,eliminar:!0},reportes:{ver:!0,exportar:!0},configuracion:{ver:!0,editar:!0},asistencia:{ver:!0,editar:!0},beneficios:{ver:!0,editar:!0},prestamos:{ver:!0,crear:!0,editar:!0,eliminar:!0},usuarios:{ver:!0,crear:!0,editar:!0,eliminar:!0},roles:{ver:!0,crear:!0,editar:!0,eliminar:!0}}):M={trabajadores:{ver:S.trabajadores?.ver===!0||h,crear:S.trabajadores?.crear===!0||h,editar:S.trabajadores?.editar===!0||h,eliminar:S.trabajadores?.eliminar===!0||h},planillas:{ver:S.planillas?.ver===!0||h,crear:S.planillas?.crear===!0||h,editar:S.planillas?.editar===!0||h,eliminar:S.planillas?.eliminar===!0||h},reportes:{ver:S.reportes?.ver===!0||h,exportar:S.reportes?.exportar===!0||h},configuracion:{ver:S.configuracion?.ver===!0||h,editar:S.configuracion?.editar===!0||h},asistencia:{ver:S.asistencia?.ver===!0||h,editar:S.asistencia?.editar===!0||h},beneficios:{ver:S.beneficios?.ver===!0||h,editar:S.beneficios?.editar===!0||h},prestamos:{ver:S.prestamos?.ver===!0||h,crear:S.prestamos?.crear===!0||h,editar:S.prestamos?.editar===!0||h,eliminar:S.prestamos?.eliminar===!0||h},usuarios:{ver:S.usuarios?.ver===!0||h,crear:S.usuarios?.crear===!0||h,editar:S.usuarios?.editar===!0||h,eliminar:S.usuarios?.eliminar===!0||h},roles:{ver:S.roles?.ver===!0||h,crear:S.roles?.crear===!0||h,editar:S.roles?.editar===!0||h,eliminar:S.roles?.eliminar===!0||h}})}this.rolForm={nombre:o.nombre||"",descripcion:o.descripcion||"",permisos:M},console.log("\u{1F50D} Permisos cargados para el rol:",o.nombre),console.log("   Permisos finales:",this.rolForm.permisos),this.mostrarModalRol=!0,this.cdr.detectChanges()}cerrarModalRol(){this.mostrarModalRol=!1,this.rolEditando=null,this.rolForm={nombre:"",descripcion:"",permisos:{trabajadores:{ver:!1,crear:!1,editar:!1,eliminar:!1},planillas:{ver:!1,crear:!1,editar:!1,eliminar:!1},reportes:{ver:!1,exportar:!1},configuracion:{ver:!1,editar:!1},asistencia:{ver:!1,editar:!1},beneficios:{ver:!1,editar:!1},prestamos:{ver:!1,crear:!1,editar:!1,eliminar:!1},usuarios:{ver:!1,crear:!1,editar:!1,eliminar:!1},roles:{ver:!1,crear:!1,editar:!1,eliminar:!1}}}}cerrarModalExitoRol(){this.mostrarModalExitoRol=!1,this.guardandoRolProceso=!1,this.rolGuardadoCompletado=!1,this.mensajeExitoRol=""}guardarRol(){if(!this.rolForm.nombre.trim()){alert("\u274C El nombre del rol es obligatorio");return}this.guardandoRol=!0;let o=this.verificarSiTodosPermisosMarcados(),e;o?e=["*"]:e=this.rolForm.permisos;let a={nombre:this.rolForm.nombre.trim(),descripcion:this.rolForm.descripcion.trim(),permisos:e};this.rolEditando?this.http.put(`${P.apiUrl}/roles/${this.rolEditando.id}`,a).subscribe({next:()=>{this.guardandoRol=!1,this.cerrarModalRol(),this.mostrarModalExitoRol=!0,this.guardandoRolProceso=!0,this.rolGuardadoCompletado=!1,this.mensajeExitoRol=`Rol "${this.rolForm.nombre}" actualizado exitosamente`,this.cdr.detectChanges(),setTimeout(()=>{this.guardandoRolProceso=!1,this.rolGuardadoCompletado=!0,this.cdr.detectChanges(),this.cdr.markForCheck(),setTimeout(()=>{this.cerrarModalExitoRol(),this.cargarRoles()},2500)},800)},error:x=>{this.guardandoRol=!1,console.error("Error al actualizar rol:",x),alert("\u274C Error al actualizar el rol")}}):this.http.post(`${P.apiUrl}/roles`,a).subscribe({next:()=>{this.guardandoRol=!1,this.cerrarModalRol(),this.mostrarModalExitoRol=!0,this.guardandoRolProceso=!0,this.rolGuardadoCompletado=!1,this.mensajeExitoRol=`Rol "${this.rolForm.nombre}" creado exitosamente`,this.cdr.detectChanges(),setTimeout(()=>{this.guardandoRolProceso=!1,this.rolGuardadoCompletado=!0,this.cdr.detectChanges(),this.cdr.markForCheck(),setTimeout(()=>{this.cerrarModalExitoRol(),this.cargarRoles()},2500)},800)},error:x=>{this.guardandoRol=!1,console.error("Error al crear rol:",x),alert("\u274C Error al crear el rol")}})}eliminarRol(o){this.rolAEliminar=o,this.confirmacionEliminarRol="",this.mostrarModalEliminarRol=!0}cerrarModalEliminarRol(){this.mostrarModalEliminarRol=!1,this.rolAEliminar=null,this.confirmacionEliminarRol="",this.eliminandoRol=!1,this.rolEliminadoCompletado=!1}confirmarEliminacionRol(){!this.rolAEliminar||this.confirmacionEliminarRol!=="ELIMINAR"||(this.eliminandoRol=!0,this.mostrarModalEliminarRol=!1,this.http.delete(`${P.apiUrl}/roles/${this.rolAEliminar.id}`).subscribe({next:o=>{o.success?(this.mostrarModalExitoEliminacionRol=!0,this.eliminandoRol=!0,this.rolEliminadoCompletado=!1,this.cdr.detectChanges(),setTimeout(()=>{this.eliminandoRol=!1,this.rolEliminadoCompletado=!0,this.cdr.detectChanges(),this.cdr.markForCheck(),setTimeout(()=>{this.cerrarModalExitoEliminacionRol(),this.cargarRoles()},2500)},800)):(this.eliminandoRol=!1,alert("\u274C Error al eliminar el rol: "+(o.message||"Error desconocido")))},error:o=>{this.eliminandoRol=!1,console.error("Error al eliminar rol:",o);let e="Error al eliminar el rol. Verifique la conexi\xF3n.";o.error&&(o.error.message?e=o.error.message:o.error.error==="ROL_EN_USO"&&(e="No se puede eliminar el rol porque hay usuarios asignados a este rol. Primero debe cambiar el rol de esos usuarios.")),alert("\u274C "+e)}}))}cerrarModalExitoEliminacionRol(){this.mostrarModalExitoEliminacionRol=!1,this.eliminandoRol=!1,this.rolEliminadoCompletado=!1,this.rolAEliminar=null}abrirModalCambiarPassword(o){let e=o?.UsuarioID||o?.id;this.passwordForm={usuarioId:e,usuarioNombre:o.username,passwordActual:"",passwordNuevo:"",passwordConfirmar:""},this.mostrarModalPassword=!0}cerrarModalPassword(){this.mostrarModalPassword=!1,this.passwordForm={usuarioId:null,usuarioNombre:"",passwordActual:"",passwordNuevo:"",passwordConfirmar:""}}cambiarPassword(){if(!this.passwordForm.passwordNuevo||!this.passwordForm.passwordConfirmar){alert("\u274C Todos los campos son obligatorios");return}if(this.passwordForm.passwordNuevo!==this.passwordForm.passwordConfirmar){alert("\u274C Las contrase\xF1as nuevas no coinciden");return}if(this.passwordForm.passwordNuevo.length<6){alert("\u274C La contrase\xF1a debe tener al menos 6 caracteres");return}this.guardandoPassword=!0;let o={passwordActual:this.passwordForm.passwordActual,passwordNuevo:this.passwordForm.passwordNuevo};this.http.put(`${P.apiUrl}/usuarios/${this.passwordForm.usuarioId}/password`,o).subscribe({next:()=>{this.guardandoPassword=!1,this.cerrarModalPassword(),alert("\u2705 Contrase\xF1a cambiada exitosamente")},error:e=>{this.guardandoPassword=!1,console.error("Error al cambiar contrase\xF1a:",e),e.status===401?alert("\u274C La contrase\xF1a actual es incorrecta"):alert("\u274C Error al cambiar la contrase\xF1a")}})}togglePermiso(o,e){!this.rolForm||!this.rolForm.permisos||(this.rolForm.permisos[o]||(this.rolForm.permisos[o]={}),this.rolForm.permisos[o].hasOwnProperty(e)||(this.rolForm.permisos[o][e]=!1),this.rolForm.permisos[o][e]=!this.rolForm.permisos[o][e],this.cdr.detectChanges())}tienePermiso(o,e){return!this.rolForm||!this.rolForm.permisos||!this.rolForm.permisos[o]?!1:this.rolForm.permisos[o][e]===!0}verificarSiTodosPermisosMarcados(){let o=this.rolForm.permisos;return!(!o.trabajadores?.ver||!o.trabajadores?.crear||!o.trabajadores?.editar||!o.trabajadores?.eliminar||!o.planillas?.ver||!o.planillas?.crear||!o.planillas?.editar||!o.planillas?.eliminar||!o.reportes?.ver||!o.reportes?.exportar||!o.configuracion?.ver||!o.configuracion?.editar||!o.asistencia?.ver||!o.asistencia?.editar||!o.beneficios?.ver||!o.beneficios?.editar||o.prestamos&&(!o.prestamos.ver||!o.prestamos.crear||!o.prestamos.editar||!o.prestamos.eliminar)||o.usuarios&&(!o.usuarios.ver||!o.usuarios.crear||!o.usuarios.editar||!o.usuarios.eliminar)||o.roles&&(!o.roles.ver||!o.roles.crear||!o.roles.editar||!o.roles.eliminar))}getInicialesUsuario(o){return o.nombre&&o.apellidos?(o.nombre.charAt(0)+o.apellidos.charAt(0)).toUpperCase():o.username?o.username.substring(0,2).toUpperCase():o.email?o.email.substring(0,2).toUpperCase():"U?"}getColorAvatar(o){let e=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85C1E9","#D7BDE2"],a=o.username||o.email||o.nombre||"default",x=0;for(let h=0;h<a.length;h++)x=a.charCodeAt(h)+((x<<5)-x);return e[Math.abs(x)%e.length]}getIconoRol(o){return{ADMINISTRADOR:"\u{1F451}",RRHH:"\u{1F465}",CONTABILIDAD:"\u{1F4B0}",GERENCIA:"\u{1F4CA}",SUPERVISOR:"\u{1F468}\u200D\u{1F4BC}",EDITOR:"\u270F\uFE0F",USUARIO:"\u{1F464}"}[o?.toUpperCase()]||"\u{1F464}"}getRolDisplayName(o){if(!o)return"Sin rol";let e=o.toUpperCase().trim();return["SUPER ADMINISTRADOR","SUPER_ADMINISTRADOR","SUPER_ADMIN"].includes(e)?"Super Administrador":o}abrirModalEditarUsuario(o){console.log("\u{1F50D} Abriendo modal para usuario:",o),console.log("\u{1F50D} UsuarioID del usuario:",o.UsuarioID),this.usuarioEditando=o,this.usuarioForm={nombre:o.nombre||"",apellidos:o.apellidos||"",email:o.email||"",username:o.username||"",rol:o.rol||"",horasDemo:o.horasDemo||null,fechaInicioDemo:o.fechaInicioDemo?this.formatearFechaParaInput(o.fechaInicioDemo):"",fechaFinDemo:o.fechaFinDemo?this.formatearFechaParaInput(o.fechaFinDemo):""},this.usuarioForm.rol==="DEMO"&&this.usuarioForm.horasDemo&&this.onHorasDemoChange(),console.log("\u{1F50D} Formulario inicializado:",this.usuarioForm),console.log("\u{1F50D} Usuario editando asignado:",this.usuarioEditando),this.mostrarModalEditarUsuario=!0}cerrarModalEditarUsuario(){this.mostrarModalEditarUsuario=!1,this.usuarioEditando=null,this.usuarioForm={nombre:"",apellidos:"",email:"",username:"",rol:"",horasDemo:null,fechaInicioDemo:"",fechaFinDemo:""}}abrirModalEliminarUsuario(o){this.isAdmin&&(this.usuarioAEliminar=o,this.confirmacionEliminar="",this.mostrarModalEliminarUsuario=!0)}cerrarModalEliminarUsuario(){this.mostrarModalEliminarUsuario=!1,this.usuarioAEliminar=null,this.confirmacionEliminar=""}eliminarUsuarioConfirmado(){if(!this.usuarioAEliminar||this.confirmacionEliminar!=="ELIMINAR"){alert('\u274C Debe escribir exactamente "ELIMINAR" para confirmar');return}let o=this.usuarioAEliminar.UsuarioID||this.usuarioAEliminar.id;if(!o){alert("\u274C No se pudo identificar el usuario a eliminar");return}this.cerrarModalEliminarUsuario(),this.mostrarModalExitoEliminacion=!0,this.eliminandoUsuario=!0,this.eliminacionCompletada=!1;let e=localStorage.getItem("token"),a=e?{Authorization:`Bearer ${e}`}:{};this.http.delete(`${P.apiUrl}/usuarios/${o}`,{headers:a}).subscribe({next:x=>{x.success?(this.cdr.detectChanges(),setTimeout(()=>{this.eliminandoUsuario=!1,this.eliminacionCompletada=!0,this.cdr.detectChanges(),this.cdr.markForCheck(),setTimeout(()=>{this.cerrarModalExitoEliminacion(),this.cargarUsuarios()},2500)},800)):(this.eliminandoUsuario=!1,this.cerrarModalExitoEliminacion(),alert("\u274C No se pudo eliminar el usuario: "+(x.message||"Error desconocido")))},error:x=>{console.error("Error al eliminar usuario:",x),this.eliminandoUsuario=!1,this.cerrarModalExitoEliminacion();let h=x.error?.message||x.error?.error||"Error al eliminar usuario. Verifique la conexi\xF3n.";alert("\u274C "+h)}})}cerrarModalExitoEliminacion(){this.mostrarModalExitoEliminacion=!1,this.eliminandoUsuario=!1,this.eliminacionCompletada=!1}formatearFechaParaInput(o){if(!o)return"";let e=new Date(o),a=e.getFullYear(),x=String(e.getMonth()+1).padStart(2,"0"),h=String(e.getDate()).padStart(2,"0"),M=String(e.getHours()).padStart(2,"0"),S=String(e.getMinutes()).padStart(2,"0");return`${a}-${x}-${h}T${M}:${S}`}isDemoActive(){if(!this.usuarioForm.fechaFinDemo)return!1;let o=new Date;return new Date(this.usuarioForm.fechaFinDemo)>o}getTiempoRestante(){if(!this.usuarioForm.fechaFinDemo)return"";let o=new Date,a=new Date(this.usuarioForm.fechaFinDemo).getTime()-o.getTime();if(a<=0)return"Expirado";let x=Math.floor(a/(1e3*60*60)),h=Math.floor(a%(1e3*60*60)/(1e3*60));return x>0?`${x}h ${h}m`:`${h}m`}formatearFechaParaDateInput(o){if(!o)return"";let e=o instanceof Date?o:new Date(o);if(isNaN(e.getTime()))return"";let a=e.getFullYear(),x=String(e.getMonth()+1).padStart(2,"0"),h=String(e.getDate()).padStart(2,"0");return`${a}-${x}-${h}`}onFechaReunionEvaluacionChange(o){if(o&&o.trim()!==""){let e=new Date(o+"T00:00:00");isNaN(e.getTime())||(this.configuracion.rrhh.fechaReunionEvaluacion=e,this.detectarCambios())}}onHorasDemoChange(){if(this.usuarioForm.horasDemo){let o=new Date;this.usuarioForm.fechaInicioDemo=this.formatearFechaParaInput(o.toISOString());let e=new Date(o.getTime()+this.usuarioForm.horasDemo*60*60*1e3);this.usuarioForm.fechaFinDemo=this.formatearFechaParaInput(e.toISOString()),console.log("\u{1F550} Fecha de inicio DEMO:",this.usuarioForm.fechaInicioDemo),console.log("\u{1F550} Fecha de fin DEMO:",this.usuarioForm.fechaFinDemo)}}guardarUsuario(){if(!this.usuarioEditando){console.log("\u274C No hay usuario editando");return}if(console.log("\u{1F50D} Usuario editando:",this.usuarioEditando),console.log("\u{1F50D} UsuarioID del usuario editando:",this.usuarioEditando.UsuarioID),console.log("\u{1F50D} Formulario:",this.usuarioForm),!this.usuarioForm.nombre?.trim()){alert("\u274C El nombre es obligatorio");return}if(!this.usuarioForm.apellidos?.trim()){alert("\u274C Los apellidos son obligatorios");return}if(!this.usuarioForm.username?.trim()){alert("\u274C El nombre de usuario es obligatorio");return}this.guardandoUsuario=!0;let o={username:this.usuarioForm.username,email:this.usuarioForm.email,rol:this.usuarioForm.rol,nombre:this.usuarioForm.nombre,apellidos:this.usuarioForm.apellidos,horasDemo:this.usuarioForm.horasDemo,fechaInicioDemo:this.usuarioForm.fechaInicioDemo,fechaFinDemo:this.usuarioForm.fechaFinDemo};console.log("\u{1F4E4} Enviando datos:",o),console.log("\u{1F4E4} URL:",`${P.apiUrl}/usuarios/${this.usuarioEditando.UsuarioID}`),this.http.put(`${P.apiUrl}/usuarios/${this.usuarioEditando.UsuarioID}`,o).subscribe({next:e=>{e.success?(alert("\u2705 Usuario actualizado exitosamente"),this.cerrarModalEditarUsuario(),this.cargarUsuarios()):alert("\u274C Error al actualizar usuario: "+(e.message||"Error desconocido")),this.guardandoUsuario=!1},error:e=>{console.error("Error al actualizar usuario:",e),alert("\u274C Error al actualizar usuario. Verifique la conexi\xF3n."),this.guardandoUsuario=!1}})}abrirModalResetearPassword(o){this.usuarioReseteando=o,this.nuevaPassword="",this.confirmarPassword="",this.mostrarModalResetearPassword=!0,setTimeout(()=>{document.querySelectorAll(".password-input").forEach(a=>{a&&(a.focus(),a.blur())})},100)}cerrarModalResetearPassword(){this.mostrarModalResetearPassword=!1,this.usuarioReseteando=null,this.nuevaPassword="",this.confirmarPassword=""}resetearPassword(){if(!this.nuevaPassword){alert("\u274C La nueva contrase\xF1a es obligatoria");return}if(this.nuevaPassword.length<6){alert("\u274C La contrase\xF1a debe tener al menos 6 caracteres");return}if(this.nuevaPassword!==this.confirmarPassword){alert("\u274C Las contrase\xF1as no coinciden");return}this.reseteandoPassword=!0,this.http.put(`${P.apiUrl}/usuarios/${this.usuarioReseteando.UsuarioID}/reset-password`,{passwordNuevo:this.nuevaPassword}).subscribe({next:o=>{o.success?(alert("\u2705 Contrase\xF1a reseteada exitosamente"),this.cerrarModalResetearPassword()):alert("\u274C Error al resetear contrase\xF1a: "+(o.message||"Error desconocido")),this.reseteandoPassword=!1},error:o=>{console.error("Error al resetear contrase\xF1a:",o),alert("\u274C Error al resetear contrase\xF1a. Verifique la conexi\xF3n."),this.reseteandoPassword=!1}})}cargarUsuarioActual(){let o=localStorage.getItem("token");if(!o){console.log("No hay token de autenticaci\xF3n");return}try{let e=JSON.parse(atob(o.split(".")[1]));this.currentUser={UsuarioID:e.UsuarioID,username:e.username,rol:e.rol};let a=(this.currentUser.rol||"").toUpperCase();this.isSuperAdmin=a==="SUPER ADMINISTRADOR"||a==="SUPER_ADMINISTRADOR"||a==="SUPER_ADMIN"||this.currentUser.rol==="Super Administrador",this.isAdmin=this.isSuperAdmin||a==="ADMINISTRADOR"||a==="ADMIN"||a==="ADMIN_NORMAL"||this.currentUser.rol==="Administrador",this.isDemo=this.currentUser.rol==="DEMO"||this.currentUser.rol==="demo",this.cargarPermisosUsuarioActual(),this.isDemo&&(this.tabs=this.tabs.filter(x=>x.id!=="administrar-roles")),this.isSuperAdmin&&!this.tabs.find(x=>x.id==="modulos")&&this.tabs.splice(5,0,{id:"modulos",nombre:"M\xF3dulos",icon:"\u{1F9E9}"}),this.isSuperAdmin||this.aplicarModulosHabilitados(),this.filtrarTabsSegunPermisos(),console.log("Usuario actual cargado:",this.currentUser),console.log("Rol del usuario:",this.currentUser.rol),console.log("Es administrador:",this.isAdmin),console.log("Permisos del usuario:",this.permisosUsuarioActual)}catch(e){console.error("Error al decodificar el token:",e)}}cargarPermisosUsuarioActual(){if(!this.currentUser||!this.currentUser.rol){this.permisosUsuarioActual=null;return}if(this.isSuperAdmin){this.permisosUsuarioActual={usuarios:{ver:!0,crear:!0,editar:!0,eliminar:!0},roles:{ver:!0,crear:!0,editar:!0,eliminar:!0}};return}this.http.get(`${P.apiUrl}/roles/nombre/${encodeURIComponent(this.currentUser.rol)}`).subscribe({next:o=>{if(o.success&&o.data){let e=o.data.permisos;if(typeof e=="string")try{e=JSON.parse(e)}catch(a){console.error("Error al parsear permisos:",a),e={}}this.permisosUsuarioActual=e||{},console.log("Permisos cargados del rol:",this.permisosUsuarioActual),this.filtrarTabsSegunPermisos()}else this.permisosUsuarioActual={}},error:o=>{console.error("Error al cargar permisos del rol:",o),this.permisosUsuarioActual={}}})}filtrarTabsSegunPermisos(){if(!this.permisosUsuarioActual||this.isSuperAdmin)return;this.tabs=this.tabs.filter(e=>e.requierePermiso==="roles"?this.permisosUsuarioActual.roles&&this.permisosUsuarioActual.roles.ver===!0:e.requierePermiso==="usuarios"?this.permisosUsuarioActual.usuarios&&this.permisosUsuarioActual.usuarios.ver===!0:!0),!this.tabs.find(e=>e.id===this.tabActiva)&&this.tabs.length>0&&(this.tabActiva=this.tabs[0].id)}puedeVerUsuarios(){return this.isSuperAdmin?!0:this.permisosUsuarioActual?.usuarios?.ver===!0}puedeVerRoles(){return this.isSuperAdmin?!0:this.permisosUsuarioActual?.roles?.ver===!0}contarPermisosActivos(o){if(!o||!o.permisos)return 0;let e=0;for(let a of Object.keys(o.permisos))if(o.permisos[a]&&typeof o.permisos[a]=="object")for(let x of Object.keys(o.permisos[a]))o.permisos[a][x]===!0&&e++;return e}contarPermisosTotales(o){if(!o||!o.permisos)return 0;let e=0;for(let a of Object.keys(o.permisos))o.permisos[a]&&typeof o.permisos[a]=="object"&&(e+=Object.keys(o.permisos[a]).length);return e}cargarModulosHabilitados(){try{let o=localStorage.getItem("modulosHabilitados");o?this.modulosHabilitados=JSON.parse(o):this.modulosHabilitados=this.tabs.reduce((e,a)=>(e[a.id]=!0,e),{})}catch{this.modulosHabilitados=this.tabs.reduce((e,a)=>(e[a.id]=!0,e),{})}}guardarModulosHabilitados(){localStorage.setItem("modulosHabilitados",JSON.stringify(this.modulosHabilitados)),alert("\u2705 Preferencias de m\xF3dulos guardadas")}aplicarModulosHabilitados(){!this.modulosHabilitados||Object.keys(this.modulosHabilitados).length===0||(this.tabs=this.tabs.filter(o=>this.modulosHabilitados[o.id]!==!1),this.tabs.find(o=>o.id===this.tabActiva)||(this.tabActiva="empresa"))}abrirModalNuevoUsuario(){this.nuevoUsuarioForm={username:"",email:"",nombre:"",apellidos:"",rol:"",password:"",esDemo:!1,horasDemo:null},this.mostrarModalNuevoUsuario=!0}cerrarModalNuevoUsuario(){this.mostrarModalNuevoUsuario=!1,this.nuevoUsuarioForm={username:"",email:"",nombre:"",apellidos:"",rol:"",password:"",esDemo:!1,horasDemo:null}}onDemoToggleChange(){this.nuevoUsuarioForm.esDemo?(this.nuevoUsuarioForm.rol="DEMO",(!this.nuevoUsuarioForm.horasDemo||this.nuevoUsuarioForm.horasDemo<=0)&&(this.nuevoUsuarioForm.horasDemo=1)):(this.nuevoUsuarioForm.horasDemo=null,this.nuevoUsuarioForm.rol==="DEMO"&&(this.nuevoUsuarioForm.rol=""))}calcularFinDemo(){if(!this.nuevoUsuarioForm.horasDemo||this.nuevoUsuarioForm.horasDemo<=0)return"No configurado";let o=new Date;return new Date(o.getTime()+this.nuevoUsuarioForm.horasDemo*60*60*1e3).toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}crearUsuario(){if(!this.nuevoUsuarioForm.username){alert("\u274C El nombre de usuario es obligatorio");return}if(!this.nuevoUsuarioForm.nombre){alert("\u274C El nombre es obligatorio");return}if(!this.nuevoUsuarioForm.apellidos){alert("\u274C Los apellidos son obligatorios");return}if(!this.nuevoUsuarioForm.rol){alert("\u274C El rol es obligatorio");return}if(!this.nuevoUsuarioForm.password){alert("\u274C La contrase\xF1a es obligatoria");return}if(this.nuevoUsuarioForm.password.length<6){alert("\u274C La contrase\xF1a debe tener al menos 6 caracteres");return}if(this.nuevoUsuarioForm.esDemo){if(!this.nuevoUsuarioForm.horasDemo||this.nuevoUsuarioForm.horasDemo<=0){alert("\u274C Por favor, ingresa un n\xFAmero v\xE1lido de horas para la cuenta DEMO");return}if(this.nuevoUsuarioForm.horasDemo>720){alert("\u26A0\uFE0F El tiempo m\xE1ximo para una cuenta DEMO es 720 horas (30 d\xEDas)");return}this.nuevoUsuarioForm.rol="DEMO"}this.creandoUsuario=!0;let o={username:this.nuevoUsuarioForm.username,email:this.nuevoUsuarioForm.email&&this.nuevoUsuarioForm.email.trim()!==""?this.nuevoUsuarioForm.email.trim():null,nombre:this.nuevoUsuarioForm.nombre,apellidos:this.nuevoUsuarioForm.apellidos,rol:this.nuevoUsuarioForm.rol,password:this.nuevoUsuarioForm.password,esDemo:this.nuevoUsuarioForm.esDemo||!1,horasDemo:this.nuevoUsuarioForm.esDemo?this.nuevoUsuarioForm.horasDemo:null};console.log("\u{1F4CB} Creando usuario con datos:",o),this.mostrarModalNuevoUsuario=!1,this.mostrarModalExitoCreacion=!0,this.creandoUsuarioProceso=!0,this.usuarioCreadoCompletado=!1,this.creandoUsuario=!0,this.http.post(`${P.apiUrl}/usuarios`,o).subscribe({next:e=>{e.success?(this.cdr.detectChanges(),setTimeout(()=>{this.creandoUsuarioProceso=!1,this.usuarioCreadoCompletado=!0,this.creandoUsuario=!1,this.cdr.detectChanges(),this.cdr.markForCheck(),setTimeout(()=>{this.cerrarModalExitoCreacion(),this.cargarUsuarios()},2500)},800)):(this.creandoUsuarioProceso=!1,this.creandoUsuario=!1,this.cerrarModalExitoCreacion(),alert("\u274C Error al crear usuario: "+(e.message||"Error desconocido")))},error:e=>{console.error("Error al crear usuario:",e),this.creandoUsuarioProceso=!1,this.creandoUsuario=!1,this.cerrarModalExitoCreacion();let a="Error al crear usuario. Verifique la conexi\xF3n.";if(e.error){if(e.error.message)a=e.error.message;else if(e.error.error)switch(e.error.error){case"USERNAME_DUPLICADO":a="El nombre de usuario ya existe. Por favor, elija otro nombre de usuario.";break;case"EMAIL_DUPLICADO":a="El email ya est\xE1 registrado. Por favor, use otro email.";break;case"DUPLICADO":a="Ya existe un usuario con estos datos. Verifique el nombre de usuario y el email.";break;default:a=e.error.error||a}}alert("\u274C "+a)}})}cerrarModalExitoCreacion(){this.mostrarModalExitoCreacion=!1,this.creandoUsuarioProceso=!1,this.usuarioCreadoCompletado=!1}cerrarModalExitoConfiguracion(){this.mostrarModalExitoConfiguracion=!1,this.guardandoConfiguracion=!1,this.configuracionGuardadaCompletada=!1}};f.\u0275fac=function(e){return new(e||f)(I(se),I(ce),I(re),I($))},f.\u0275cmp=Z({type:f,selectors:[["app-configuracion"]],decls:72,vars:40,consts:[["fileInput",""],["categoriaInput",""],["loadingRoles",""],["loadingUsuarios",""],[1,"configuracion-container"],[1,"page-header"],[1,"page-header__left"],[1,"page-title"],[1,"page-title__icon"],[1,"page-subtitle"],[1,"page-subtitle__dots"],[1,"page-subtitle__dot","page-subtitle__dot--large"],[1,"page-subtitle__dot","page-subtitle__dot--medium"],[1,"page-subtitle__dot","page-subtitle__dot--small"],[1,"page-header__right"],[1,"btn","btn--sm","btn--outline",3,"click"],[1,"btn","btn--sm","btn--success",3,"click","disabled"],["class","alerta-cambios",4,"ngIf"],[1,"tabs-container"],[1,"tabs-scroll"],[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-content"],["class","tab-panel",4,"ngIf"],["class","tab-panel tasas-panel",4,"ngIf"],["class","modal-overlay",4,"ngIf"],["class","modal-overlay modal--exito",3,"click",4,"ngIf"],[1,"config-footer"],[1,"config-footer__info"],[1,"info-text"],[1,"config-footer__acciones"],[1,"btn","btn--ghost",3,"click"],[1,"btn","btn--outline",3,"click"],["class","loading-overlay",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["type","file","accept",".json",2,"display","none",3,"change"],["class","modal-overlay modal--exito modal--exito-configuracion",3,"click",4,"ngIf"],[1,"alerta-cambios"],[1,"alerta-cambios__icon"],[1,"alerta-cambios__content"],[1,"alerta-cambios__acciones"],[1,"btn","btn--sm","btn--ghost",3,"click"],[1,"tab",3,"click"],[1,"tab__icon"],[1,"tab__nombre"],[1,"tab-panel"],[1,"section-title"],[1,"form-section"],[1,"form-section__title"],[1,"form-grid"],[1,"form-group","form-group--full"],[1,"form-label"],["type","text","placeholder","Municipalidad Distrital de...",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"form-group"],["type","text",1,"form-input",3,"ngModelChange","input","ngModel"],["type","text","maxlength","11","placeholder","20123456789",1,"form-input",3,"ngModelChange","input","ngModel"],["type","text","value","Per\xFA",1,"form-input",3,"ngModelChange","input","ngModel"],["type","tel","placeholder","01-1234567",1,"form-input",3,"ngModelChange","input","ngModel"],["type","tel","placeholder","987654321",1,"form-input",3,"ngModelChange","input","ngModel"],["type","email","placeholder","contacto@municipalidad.gob.pe",1,"form-input",3,"ngModelChange","input","ngModel"],["type","url","placeholder","www.municipalidad.gob.pe",1,"form-input",3,"ngModelChange","input","ngModel"],["type","text","placeholder","2023-2026",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"alert","alert--info",2,"margin-bottom","2rem"],[1,"alert__icon"],[1,"alert__content"],["title","Define si se usan 30 d\xEDas fijos o los d\xEDas reales del mes para calcular sueldos diarios",1,"label-hint"],[1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value"],["value","real"],[1,"form-hint"],["title","N\xFAmero de horas de una jornada laboral completa",1,"label-hint"],["type","number","min","1","max","24",1,"form-input",3,"ngModelChange","input","ngModel"],["title","Cantidad de decimales a mostrar en todos los montos",1,"label-hint"],["type","number","min","0","max","4",1,"form-input",3,"ngModelChange","input","ngModel"],["title","M\xE9todo de redondeo de decimales",1,"label-hint"],["value","normal"],["value","arriba"],["value","abajo"],["title","D\xEDa l\xEDmite para registrar asistencias y novedades",1,"label-hint"],["type","number","min","1","max","31",1,"form-input",3,"ngModelChange","input","ngModel"],["title","D\xEDa en que se realiza el pago a los trabajadores",1,"label-hint"],[1,"opciones-grid"],[1,"opcion-check"],["type","checkbox",3,"ngModelChange","change","ngModel"],[2,"display","block","color","#999","margin-top","0.25rem"],[1,"tab-panel","tasas-panel"],[1,"btn","btn--sm","btn--primary",3,"click"],[2,"margin","0.5rem 0 0 0","padding-left","1.2rem"],[1,"tasas-container"],["class","tasa-categoria-section",4,"ngFor","ngForOf"],[1,"tasa-categoria-section"],[1,"categoria-header"],[1,"categoria-title-wrapper",2,"display","flex","align-items","center","gap","0.75rem","width","100%"],["class","categoria-title","style","margin: 0; display: flex; align-items: center; gap: 0.5rem; flex: 1;",4,"ngIf"],["style","display: flex; align-items: center; gap: 0.5rem; flex: 1;",4,"ngIf"],["class","btn btn--sm btn--outline","style","padding: 0.375rem 0.75rem; white-space: nowrap;","title","Editar nombre de categor\xEDa",3,"click",4,"ngIf"],[1,"categoria-count",2,"margin-left","auto"],["class","tabla-responsive",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"categoria-title",2,"margin","0","display","flex","align-items","center","gap","0.5rem","flex","1"],[1,"categoria-icon"],[2,"display","flex","align-items","center","gap","0.5rem","flex","1"],["type","text",1,"form-input",2,"flex","1","font-size","1.25rem","font-weight","600","padding","0.5rem 0.75rem",3,"ngModelChange","keyup.enter","keyup.escape","focus","ngModel","disabled"],[1,"btn","btn--sm","btn--primary",2,"margin","0","min-width","40px",3,"click","disabled"],[1,"btn","btn--sm","btn--outline",2,"margin","0","min-width","40px",3,"click","disabled"],["title","Editar nombre de categor\xEDa",1,"btn","btn--sm","btn--outline",2,"padding","0.375rem 0.75rem","white-space","nowrap",3,"click"],[1,"tabla-responsive"],[1,"tabla-moderna"],["width","15%"],["width","25%"],["width","12%"],["width","10%"],["width","18%"],["class","tabla-row",4,"ngFor","ngForOf"],[1,"tabla-row"],[1,"codigo-badge"],[1,"tasa-info"],[1,"tasa-nombre"],["class","tasa-descripcion",4,"ngIf"],[1,"valor-destacado"],[1,"vigencia-info"],[1,"vigencia-desde"],[1,"vigencia-label"],["class","vigencia-hasta",4,"ngIf"],["class","vigencia-indefinida",4,"ngIf"],[1,"badge"],[1,"acciones-grupo"],["title","Editar tasa",1,"btn-icon","btn-icon--edit",3,"click"],["title","Eliminar tasa",1,"btn-icon","btn-icon--delete",3,"click"],[1,"tasa-descripcion"],[1,"vigencia-hasta"],[1,"vigencia-indefinida"],[1,"empty-state"],[1,"empty-state__icon"],[1,"empty-state__text"],["type","number","step","0.1",1,"form-input",3,"ngModelChange","input","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-input",3,"ngModelChange","input","ngModel"],["type","number","min","1","max","12",1,"form-input",3,"ngModelChange","input","ngModel"],["type","number","min","1","max","5",1,"form-input",3,"ngModelChange","input","ngModel"],["value","biometrico"],["value","manual"],["value","mixto"],["value","mensual"],["value","trimestral"],["value","semestral"],["value","anual"],["type","date",1,"form-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","step","0.01",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"section-description"],[1,"subsecciones-nav"],["class","subseccion-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"subseccion-content"],["class","subseccion-panel",4,"ngIf"],[1,"subseccion-btn",3,"click"],[1,"subseccion-btn__icon"],[1,"subseccion-btn__nombre"],[1,"subseccion-btn__count"],[1,"subseccion-panel"],[1,"panel-header"],[1,"panel-header__actions"],["class","btn btn--danger btn--sm",3,"disabled","click",4,"ngIf"],[1,"btn","btn--primary","btn--sm",3,"click"],[1,"data-table-container"],[1,"data-table"],[1,"th-checkbox"],["type","checkbox",3,"change","checked"],[1,"th-codigo"],[1,"th-nombre"],[1,"th-descripcion"],[1,"th-estado"],[1,"th-acciones"],[4,"ngFor","ngForOf"],[1,"btn","btn--danger","btn--sm",3,"click","disabled"],[1,"td-checkbox"],[1,"status-badge","active"],[1,"td-acciones"],[1,"acciones-buttons"],[1,"btn","btn--sm","btn--danger",3,"click"],[1,"td-codigo"],[1,"td-nombre"],[1,"td-descripcion"],[1,"td-estado"],["type","password",1,"form-input",3,"ngModelChange","input","ngModel"],["type","number","step","1",1,"form-input",3,"ngModelChange","input","ngModel"],["type","number","min","6","max","20",1,"form-input",3,"ngModelChange","input","ngModel"],["type","number","min","3","max","10",1,"form-input",3,"ngModelChange","input","ngModel"],["value","basico"],["value","medio"],["value","completo"],["class","subsecciones-nav",4,"ngIf"],["class","subseccion-btn",3,"active","click",4,"ngIf"],[1,"subseccion-btn__text"],[1,"panel-header__left"],[1,"panel-title"],[1,"panel-description"],[1,"panel-header__right"],[1,"btn","btn--primary",3,"click"],[1,"btn__icon"],[1,"btn__text"],["class","roles-container",4,"ngIf","ngIfElse"],[1,"roles-container"],[1,"roles-grid"],["class","role-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"role-card",3,"ngClass"],[1,"role-card__header"],[1,"role-card__icon"],[1,"role-card__info"],[1,"role-card__nombre"],[1,"role-card__descripcion"],["class","role-card__permisos-count",4,"ngIf"],[1,"role-card__actions"],["title","Editar rol",1,"btn-icon","btn-icon--edit",3,"click"],["title","Eliminar rol",1,"btn-icon","btn-icon--delete",3,"click"],[1,"role-card__permisos"],["class","permisos-grid",4,"ngIf"],["class","permisos-vacios",4,"ngIf"],[1,"role-card__permisos-count"],[1,"permisos-count-badge"],[1,"permisos-grid"],["class","permiso-item",4,"ngFor","ngForOf"],[1,"permiso-item"],[1,"permiso-seccion"],[1,"permiso-detalles"],["class","permiso-badge",3,"active",4,"ngFor","ngForOf"],[1,"permiso-badge"],[1,"permisos-vacios"],[1,"text-muted"],[1,"loading-state"],[1,"loading-spinner"],["class","btn btn--primary",3,"click",4,"ngIf"],["class","usuarios-container",4,"ngIf","ngIfElse"],[1,"usuarios-container"],[1,"usuarios-table"],[1,"table-header"],[1,"table-cell"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"usuario-info"],[1,"usuario-avatar"],[1,"avatar-iniciales"],[1,"avatar-icono"],[1,"usuario-details"],[1,"usuario-nombre"],[1,"usuario-email"],[3,"ngClass"],[1,"estado-badge","estado-badge--activo"],[1,"fecha-acceso"],[1,"acciones-usuario"],["class","btn btn--sm btn--danger","title","Eliminar usuario permanentemente de la base de datos",3,"click",4,"ngIf"],["class","btn btn--sm btn--danger","title","Resetear contrase\xF1a (solo administradores)",3,"click",4,"ngIf"],["title","Eliminar usuario permanentemente de la base de datos",1,"btn","btn--sm","btn--danger",3,"click"],["title","Resetear contrase\xF1a (solo administradores)",1,"btn","btn--sm","btn--danger",3,"click"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],["type","text",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn",3,"click"],[1,"btn","btn--danger",3,"click"],[1,"modal-overlay","modal--exito",3,"click"],[1,"modal-content","modal-content--exito",3,"click"],[1,"exito-eliminacion-usuario"],["class","exito-eliminacion-usuario__loader",4,"ngIf"],["class","exito-eliminacion-usuario__check",4,"ngIf"],[1,"exito-eliminacion-usuario__title"],["class","exito-eliminacion-usuario__message",4,"ngIf"],[1,"exito-eliminacion-usuario__loader"],[1,"spinner","spinner--success"],[1,"exito-eliminacion-usuario__check"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52","width","50","height","50",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark__circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark__check"],[1,"exito-eliminacion-usuario__message"],["type","text","placeholder","smtp.gmail.com",1,"form-input",3,"ngModelChange","input","ngModel"],["type","number","placeholder","587",1,"form-input",3,"ngModelChange","input","ngModel"],["type","email",1,"form-input",3,"ngModelChange","input","ngModel"],["class","opcion-check",4,"ngFor","ngForOf"],[1,"form-actions",2,"margin-top","1rem"],["type","checkbox",3,"ngModelChange","ngModel"],["value","light"],["value","dark"],["value","auto"],["type","color",1,"form-input",3,"ngModelChange","input","ngModel"],["value","pequeno"],["value","mediano"],["value","grande"],["value","DD/MM/YYYY"],["value","MM/DD/YYYY"],["value","YYYY-MM-DD"],["value","HH:mm"],["value","hh:mm a"],["value","."],["value",","],["value"," "],["value","es"],["value","en"],["value","qu"],["value","diario"],["value","semanal"],["type","time",1,"form-input",3,"ngModelChange","input","ngModel"],["type","text","placeholder","C:\\Backups\\Planillas",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"acciones-backup"],[1,"info-sistema"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["type","number","min","5","max","100",1,"form-input",3,"ngModelChange","input","ngModel"],["value","error"],["value","warning"],["value","info"],["value","debug"],["type","text","placeholder","C:\\Logs\\Planillas",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"input-group"],["type","text","readonly","",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"acciones-sistema"],["type","text","placeholder","ZKTeco K40",1,"form-input",3,"ngModelChange","input","ngModel"],["type","text","placeholder","192.168.1.100",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"btn-close",3,"click"],[1,"categoria-selector"],["value","__NUEVA_CATEGORIA__"],["value","AFP - Fondo de Pensiones"],["value","ONP - Sistema de Pensiones"],["value","Salud"],["value","SEGUROS"],["value","SCTR"],["value","Renta de 5ta Categor\xEDa"],["value","Renta"],["value","Bonificaciones"],["value","BONIFICACIONES"],["value","INGRESOS"],["value","Asignaci\xF3n Familiar"],["value","Descuentos por Asistencia"],["value","DESCUENTOS"],["value","SINDICAL"],["value","PRESTAMOS"],["value","APORTES"],["value","Otros"],["value","OTROS_DESCUENTOS"],["class","categoria-personalizada",4,"ngIf"],[2,"color","#888","font-size","0.9em"],["value",""],["value","DESCUENTO"],["value","INGRESO"],["value","APORTE_EMPLEADOR"],["class","form-group form-group--full",4,"ngIf"],["type","text","placeholder","Ej: Descuento por Tardanza Leve",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Se generar\xE1 autom\xE1ticamente...",1,"form-input",2,"background-color","#f5f5f5","color","#666","text-transform","uppercase","font-family","monospace",3,"ngModelChange","ngModel","disabled"],["type","number","step","0.0001",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value","Porcentaje"],["value","Monto"],["value","Factor"],["value","Cantidad"],["rows","3","placeholder","Descripci\xF3n de la tasa...",1,"form-input",3,"ngModelChange","ngModel"],["type","date",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn--secondary",3,"click"],[1,"btn","btn--primary",3,"click","disabled"],[1,"categoria-personalizada"],["type","text","placeholder","Escriba el nombre de la nueva categor\xEDa...","maxlength","50",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"modal-content","modal-content--small",3,"click"],[1,"modal-header",2,"background","linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)"],[2,"color","white"],[1,"btn-close",2,"color","white",3,"click"],[1,"modal-body",2,"padding","2rem"],[1,"alert","alert--warning",2,"margin-bottom","1.5rem"],[2,"margin","0.5rem 0 0 0","font-size","0.9rem"],[2,"background","#fff","padding","0.35rem 0.75rem","border-radius","4px","color","#000","font-weight","700","border","2px solid #ffc107","display","inline-block","margin-top","0.25rem","font-size","0.95rem"],[2,"display","grid","gap","1rem","margin-bottom","1.5rem"],[1,"opcion-card",2,"border","2px solid #ffa500","border-radius","8px","padding","1rem","background","#fff8f0"],[2,"margin","0 0 0.5rem 0","color","#ff8c00","display","flex","align-items","center","gap","0.5rem"],[2,"font-size","1.5rem"],[2,"margin","0","padding-left","1.5rem","font-size","0.9rem","color","#666"],[1,"opcion-card",2,"border","2px solid #dc3545","border-radius","8px","padding","1rem","background","#fff5f5"],[2,"margin","0 0 0.5rem 0","color","#dc3545","display","flex","align-items","center","gap","0.5rem"],[1,"modal-footer",2,"display","flex","gap","0.75rem","justify-content","space-between"],[1,"btn","btn--ghost",2,"flex","1",3,"click"],[1,"btn","btn--warning",2,"flex","1","background","#ffa500","border-color","#ffa500",3,"click","disabled"],[1,"btn","btn--danger",2,"flex","1",3,"click","disabled"],[1,"btn","btn--ghost","btn--sm",3,"click"],["type","text","placeholder","Ej: CARGO-POLITICO","maxlength","20","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-help"],["type","text","placeholder","Ej: Cargo Pol\xEDtico","maxlength","100","required","",1,"form-input",3,"ngModelChange","ngModel"],["placeholder","Descripci\xF3n detallada del r\xE9gimen laboral...","rows","3","maxlength","255","required","",1,"form-textarea",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: Ley General del Trabajo","maxlength","100","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: CAS-TEMP","maxlength","20","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: CAS Temporal","maxlength","100","required","",1,"form-input",3,"ngModelChange","ngModel"],["placeholder","Descripci\xF3n detallada del tipo de contrato...","rows","3","maxlength","255",1,"form-textarea",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: NOMBRADO","maxlength","50","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: Nombrado","maxlength","200","required","",1,"form-input",3,"ngModelChange","ngModel"],["placeholder","Descripci\xF3n de la condici\xF3n laboral...","rows","3","maxlength","500",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn--outline",3,"click","disabled"],["type","text","placeholder","Ej: Jefe de Recursos Humanos","maxlength","100","required","",1,"form-input",3,"ngModelChange","ngModel"],["placeholder","Descripci\xF3n detallada del cargo...","rows","3","maxlength","255",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"modal-content","modal-content--large",3,"click"],["type","text","placeholder","Ej: Supervisor, Editor, etc.","required","",1,"form-input",3,"ngModelChange","ngModel"],["placeholder","Describe las responsabilidades de este rol...","rows","3",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"permisos-section"],[1,"permisos-title"],[1,"permisos-description"],[1,"permisos-container"],[1,"permiso-modulo"],[1,"permiso-modulo__header"],[1,"permiso-modulo__icon"],[1,"permiso-modulo__nombre"],[1,"permiso-modulo__opciones"],[1,"permiso-checkbox"],[1,"checkmark"],[1,"exito-rol"],["class","exito-rol__loader",4,"ngIf"],["class","exito-rol__check",4,"ngIf"],[1,"exito-rol__title"],["class","exito-rol__message",4,"ngIf"],[1,"exito-rol__loader"],[1,"exito-rol__check"],[1,"exito-rol__message"],[1,"modal-content","modal-content--delete",3,"click"],[1,"delete-header"],[1,"delete-icon"],[1,"delete-planilla-info"],["class","info-item",4,"ngIf"],[1,"delete-warning"],[1,"warning-icon"],[1,"warning-content"],[4,"ngIf"],[1,"delete-confirmation"],["type","text","placeholder","ELIMINAR","autocomplete","off",1,"form-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"delete-actions"],[1,"btn","btn--danger",3,"click","disabled"],[2,"color","#dc2626"],[1,"usuario-info-modal"],[1,"usuario-avatar-modal"],[1,"usuario-details-modal"],[1,"usuario-nombre-modal"],[1,"usuario-rol-modal"],["type","password","placeholder","Ingresa la contrase\xF1a actual","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","password","placeholder","M\xEDnimo 6 caracteres","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","password","placeholder","Repite la nueva contrase\xF1a","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"alert","alert--info"],[2,"margin","0.5rem 0 0 0","padding-left","1.5rem"],["type","text","placeholder","Ingrese el nombre",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ingrese los apellidos",1,"form-input",3,"ngModelChange","ngModel"],["type","email","placeholder","usuario@empresa.com",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: jperez",1,"form-input",3,"ngModelChange","ngModel"],["class","demo-config-section",4,"ngIf"],["class","btn__spinner",4,"ngIf"],[1,"demo-config-section"],[1,"demo-section-header"],[1,"demo-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["d","M12 6v6l4 2"],[1,"demo-fields"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-icon"],["type","number","placeholder","Ej: 24, 48, 72...","min","1","max","720",1,"form-input",3,"ngModelChange","ngModel"],["d","M8 2v4"],["d","M16 2v4"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["d","M3 10h18"],["type","datetime-local",1,"form-input",3,"ngModelChange","ngModel","disabled"],["class","demo-status",4,"ngIf"],[1,"demo-status"],[1,"status-item"],[1,"status-label"],[1,"status-value"],["class","status-item",4,"ngIf"],[1,"status-value","time-remaining"],[1,"btn__spinner"],[1,"warning-box"],["type","password","placeholder","M\xEDnimo 6 caracteres","autocomplete","new-password","data-lpignore","true","data-form-type","other",1,"form-input","password-input",3,"ngModelChange","ngModel"],["type","password","placeholder","Repite la nueva contrase\xF1a","autocomplete","new-password","data-lpignore","true","data-form-type","other",1,"form-input","password-input",3,"ngModelChange","ngModel"],[1,"password-requirements"],["type","email","placeholder","usuario@empresa.com (opcional)",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Juan",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","P\xE9rez Garc\xEDa",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-group",2,"grid-column","1 / -1"],[1,"demo-section"],[1,"demo-checkbox"],["class","demo-config","style","margin-top: 15px; padding: 15px; background: rgba(255, 193, 7, 0.1); border-radius: 8px; border-left: 4px solid #ffc107;",4,"ngIf"],["type","password","placeholder","M\xEDnimo 6 caracteres",1,"form-input",3,"ngModelChange","ngModel"],[1,"demo-config",2,"margin-top","15px","padding","15px","background","rgba(255, 193, 7, 0.1)","border-radius","8px","border-left","4px solid #ffc107"],[1,"form-group",2,"margin-bottom","0"],["type","number","placeholder","Ej: 1, 2, 24, 48...","min","1","max","720",1,"form-input",2,"max-width","200px",3,"ngModelChange","ngModel"],[1,"demo-info",2,"margin-top","10px","font-size","0.875rem","color","#ffc107"],["style","color: #f44336;",4,"ngIf"],[1,"demo-warning",2,"margin-top","15px","padding","10px","background","rgba(255, 87, 34, 0.1)","border-radius","6px","border-left","4px solid #ff5722","font-size","0.875rem","color","#ff5722"],[2,"margin","8px 0 0 20px","padding","0"],[2,"color","#ccc"],[2,"color","#f44336"],[1,"modal-overlay","modal--exito","modal--exito-configuracion",3,"click"],[1,"modal-content","modal-content--exito","modal-content--exito-configuracion",3,"click"],[1,"exito-configuracion"],["class","exito-configuracion__loader",4,"ngIf"],["class","exito-configuracion__check",4,"ngIf"],[1,"exito-configuracion__title"],["class","exito-configuracion__message",4,"ngIf"],[1,"exito-configuracion__loader"],[1,"spinner","spinner--green"],[1,"exito-configuracion__check"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52","width","60","height","60",1,"checkmark","checkmark--green"],[1,"exito-configuracion__message"],[1,"exito-creacion-usuario"],["class","exito-creacion-usuario__loader",4,"ngIf"],["class","exito-creacion-usuario__check",4,"ngIf"],[1,"exito-creacion-usuario__title"],["class","exito-creacion-usuario__message",4,"ngIf"],[1,"exito-creacion-usuario__loader"],[1,"exito-creacion-usuario__check"],[1,"exito-creacion-usuario__message"]],template:function(e,a){if(e&1){let x=b();n(0,"div",4)(1,"div",5)(2,"div",6)(3,"h1",7)(4,"span",8),r(5,"\u2699\uFE0F"),i(),r(6," Configuraci\xF3n del Sistema "),i(),n(7,"p",9)(8,"span",10),E(9,"span",11)(10,"span",12)(11,"span",13),i(),r(12," Gesti\xF3n completa de par\xE1metros y ajustes del sistema "),i()(),n(13,"div",14)(14,"button",15),u("click",function(){return s(x),l(a.exportarConfiguracion())}),r(15," \u{1F4E4} Exportar "),i(),n(16,"button",15),u("click",function(){return s(x),l(a.restaurarDefecto())}),r(17," \u21A9\uFE0F Restaurar "),i(),n(18,"button",16),u("click",function(){return s(x),l(a.guardarConfiguracion())}),r(19),i()()(),w(20,Te,11,0,"div",17),n(21,"div",18)(22,"div",19)(23,"div",20),w(24,ke,5,4,"button",21),i()()(),n(25,"div",22),w(26,Fe,99,20,"div",23)(27,Ae,112,10,"div",23)(28,He,31,1,"div",24)(29,Ye,132,27,"div",23)(30,Je,81,13,"div",23)(31,Ke,54,9,"div",23)(32,ut,15,8,"div",23)(33,gt,61,11,"div",23)(34,pt,88,15,"div",23)(35,At,9,3,"div",23)(36,It,28,3,"div",25)(37,Ut,9,4,"div",26)(38,Bt,79,15,"div",23)(39,jt,13,1,"div",23)(40,Gt,112,14,"div",23)(41,Ht,63,11,"div",23)(42,qt,103,16,"div",23)(43,Yt,59,10,"div",23),i(),n(44,"div",27)(45,"div",28)(46,"span",29),r(47),i()(),n(48,"div",30)(49,"button",31),u("click",function(){return s(x),l(a.cancelarCambios())}),r(50," Cancelar "),i(),n(51,"button",32),u("click",function(){return s(x),l(a.exportarConfiguracion())}),r(52," \u{1F4E4} Exportar "),i()()(),w(53,Jt,5,0,"div",33)(54,Xt,147,18,"div",34)(55,$t,56,6,"div",34),i(),n(56,"input",35,0),u("change",function(M){return s(x),l(a.importarConfiguracion(M))}),i(),w(58,en,32,7,"div",34)(59,tn,28,6,"div",34)(60,nn,29,7,"div",34)(61,on,22,5,"div",34)(62,an,203,33,"div",34)(63,dn,9,4,"div",26)(64,gn,36,6,"div",34)(65,xn,9,4,"div",26)(66,hn,48,11,"div",34)(67,Sn,50,16,"div",34)(68,Vn,54,11,"div",34)(69,Wn,57,12,"div",34)(70,Bn,9,4,"div",36)(71,Jn,9,4,"div",26)}e&2&&(d(18),C("disabled",a.guardando),d(),O(" ",a.guardando?"\u{1F4BE} Guardando...":"\u{1F4BE} Guardar Cambios"," "),d(),C("ngIf",a.hayChangiosSinGuardar()),d(4),C("ngForOf",a.tabs),d(2),C("ngIf",a.tabActiva==="empresa"),d(),C("ngIf",a.tabActiva==="planillas"),d(),C("ngIf",a.tabActiva==="tasas"),d(),C("ngIf",a.tabActiva==="beneficios"),d(),C("ngIf",a.tabActiva==="asistencia"),d(),C("ngIf",a.tabActiva==="rrhh"),d(),C("ngIf",a.tabActiva==="datos-maestros"),d(),C("ngIf",a.tabActiva==="tributario"),d(),C("ngIf",a.tabActiva==="seguridad"),d(),C("ngIf",a.tabActiva==="administrar-roles"&&(a.puedeVerRoles()||a.puedeVerUsuarios())),d(),C("ngIf",a.mostrarModalEliminarUsuario),d(),C("ngIf",a.mostrarModalExitoEliminacion),d(),C("ngIf",a.tabActiva==="notificaciones"),d(),C("ngIf",a.tabActiva==="modulos"&&a.isSuperAdmin),d(),C("ngIf",a.tabActiva==="personalizacion"),d(),C("ngIf",a.tabActiva==="backup"),d(),C("ngIf",a.tabActiva==="sistema"),d(),C("ngIf",a.tabActiva==="integraciones"),d(4),O("\xDAltima modificaci\xF3n: ",a.configuracion.sistema!=null&&a.configuracion.sistema.fechaActualizacion?a.formatearFecha(a.configuracion.sistema.fechaActualizacion):"No disponible"),d(6),C("ngIf",a.cargando),d(),C("ngIf",a.mostrarModalTasa),d(),C("ngIf",a.mostrarModalEliminarTasa),d(3),C("ngIf",a.mostrarModalRegimenLaboral),d(),C("ngIf",a.mostrarModalTipoContrato),d(),C("ngIf",a.mostrarModalCondicionLaboral),d(),C("ngIf",a.mostrarModalCargo),d(),C("ngIf",a.mostrarModalRol),d(),C("ngIf",a.mostrarModalExitoRol),d(),C("ngIf",a.mostrarModalEliminarRol),d(),C("ngIf",a.mostrarModalExitoEliminacionRol),d(),C("ngIf",a.mostrarModalPassword),d(),C("ngIf",a.mostrarModalEditarUsuario),d(),C("ngIf",a.mostrarModalResetearPassword),d(),C("ngIf",a.mostrarModalNuevoUsuario),d(),C("ngIf",a.mostrarModalExitoConfiguracion),d(),C("ngIf",a.mostrarModalExitoCreacion))},dependencies:[ae,ee,te,ne,ve,_e,Ce,de,ge,le,pe,me,he,be,xe,fe,ue,ie,oe],styles:[`@charset "UTF-8";.configuracion-container[_ngcontent-%COMP%]{width:100%;max-width:100%;padding-bottom:20px;position:relative;z-index:1}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;margin-top:0;padding:16px 20px;background:linear-gradient(135deg,#fff,#f8fafc)!important;border-radius:8px;border:1px solid rgba(34,197,94,.15);box-shadow:0 4px 16px #00000014,0 1px 3px #0000000d,inset 0 1px #ffffffe6;position:relative;overflow:hidden;gap:20px;flex-wrap:wrap;z-index:1}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#22c55e,#16a34a)}.page-header[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#22c55e,#16a34a);opacity:.6}.page-header__left[_ngcontent-%COMP%]{flex:1;position:relative;z-index:1;padding-left:12px;min-width:0}.page-header__right[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;flex-shrink:0;position:relative;z-index:1}[data-theme=dark][_nghost-%COMP%]   .page-header[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a)!important;border:1px solid rgba(34,197,94,.2);box-shadow:0 4px 16px #0000004d,0 1px 3px #0003,inset 0 1px #ffffff0d}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0 0 8px;font-size:28px;font-weight:700;color:var(--text-1)}.page-title__icon[_ngcontent-%COMP%]{font-size:32px}.page-subtitle[_ngcontent-%COMP%]{font-size:11px;color:#64748b;margin:0;font-weight:600;letter-spacing:.05em;display:flex;align-items:center;gap:10px;text-transform:uppercase;position:relative;padding-left:20px}.page-subtitle__dots[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:3px;width:16px;height:20px}.page-subtitle__dot[_ngcontent-%COMP%]{border-radius:50%;background:linear-gradient(135deg,#22c55e,#16a34a);box-shadow:0 0 6px #22c55e80}.page-subtitle__dot--large[_ngcontent-%COMP%]{width:8px;height:8px;margin-left:0}.page-subtitle__dot--medium[_ngcontent-%COMP%]{width:5px;height:5px;margin-left:3px}.page-subtitle__dot--small[_ngcontent-%COMP%]{width:3px;height:3px;margin-left:6px}.alerta-cambios[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:16px 20px;background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:2px solid #f59e0b;border-radius:12px;margin-bottom:16px}.alerta-cambios__icon[_ngcontent-%COMP%]{font-size:32px}.alerta-cambios__content[_ngcontent-%COMP%]{flex:1}.alerta-cambios__content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;color:var(--text-1);margin-bottom:4px}.alerta-cambios__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0}.alerta-cambios__acciones[_ngcontent-%COMP%]{display:flex;gap:12px}.tabs-container[_ngcontent-%COMP%]{margin-bottom:16px;background:var(--panel);border:1px solid var(--border);border-radius:12px;overflow:visible;position:relative;box-shadow:0 2px 12px #00000014;z-index:1}.tabs-scroll[_ngcontent-%COMP%]{overflow:visible;padding:0}.tabs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;padding:12px}.tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;padding:12px 10px;background:transparent;border:1px solid transparent;border-radius:8px;cursor:pointer;transition:all .2s ease;white-space:nowrap;text-align:center}.tab__icon[_ngcontent-%COMP%]{font-size:18px;flex-shrink:0}.tab__nombre[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2)}.tab[_ngcontent-%COMP%]:hover{background:var(--panel-2);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.tab.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e1f,#22c55e2e);border-color:var(--accent);box-shadow:0 0 20px #22c55e40}.tab.active[_ngcontent-%COMP%]   .tab__nombre[_ngcontent-%COMP%]{color:var(--accent);font-weight:700}.tab-content[_ngcontent-%COMP%]{min-height:500px;position:relative;z-index:1}.tab-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease;position:relative;z-index:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-1);margin:0 0 24px;padding-bottom:12px;border-bottom:2px solid var(--border)}.form-section[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:20px;position:relative;z-index:1;margin-bottom:16px}.form-section__title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin:0 0 20px;padding-bottom:12px;border-bottom:1px solid var(--line-soft)}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid var(--border);border-radius:8px;background:var(--panel-2);color:var(--text-1);font-size:14px;outline:none;transition:all .2s ease}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 3px #22c55e1a}.form-input[_ngcontent-%COMP%]:disabled, .form-select[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.form-input[_ngcontent-%COMP%]::placeholder, .form-select[_ngcontent-%COMP%]::placeholder{color:var(--text-2);opacity:.6}.form-input[type=color][_ngcontent-%COMP%]{height:50px;padding:4px;cursor:pointer}.input-group[_ngcontent-%COMP%]{display:flex;gap:8px}.input-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1}.opciones-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px;margin-top:16px}.opcion-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--panel-2);border:1px solid var(--border);border-radius:8px;cursor:pointer;transition:all .2s ease}.opcion-check[_ngcontent-%COMP%]:hover{border-color:var(--accent);background:#22c55e0d}.opcion-check[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:var(--accent)}.opcion-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-1);-webkit-user-select:none;user-select:none}.info-sistema[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;padding:20px;background:linear-gradient(135deg,#3b82f61a,#2563eb1a);border:2px solid rgba(59,130,246,.3);border-radius:12px;margin-bottom:24px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.info-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.info-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#3b82f6}.acciones-backup[_ngcontent-%COMP%], .acciones-sistema[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;padding:20px;background:var(--panel-2);border-radius:12px;margin-top:24px}.preview-tema[_ngcontent-%COMP%]{padding:20px;background:var(--panel-2);border-radius:12px;margin-top:20px;text-align:center}.preview-tema[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin:0 0 16px}.config-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px;padding:20px 24px;background:var(--panel);border:1px solid var(--border);border-radius:12px;margin-top:32px;position:sticky;bottom:20px;z-index:10;box-shadow:0 -4px 20px #0000001a}.config-footer__info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{font-size:13px;color:var(--text-2)}.config-footer__acciones[_ngcontent-%COMP%]{display:flex;gap:12px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 20px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;transition:all .2s ease;border:none;white-space:nowrap}.btn--sm[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.btn--primary[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #3b82f666;transform:translateY(-1px)}.btn--success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent) 0%,#16a34a 100%);color:#fff}.btn--success[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #22c55e66;transform:translateY(-1px)}.btn--success[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn--outline[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);color:var(--text-1)}.btn--outline[_ngcontent-%COMP%]:hover{background:var(--panel-2);border-color:var(--accent);color:var(--accent)}.btn--ghost[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-2)}.btn--ghost[_ngcontent-%COMP%]:hover{background:var(--panel-2);color:var(--text-1)}.loading-overlay[_ngcontent-%COMP%]{position:fixed!important;inset:0!important;width:100vw!important;height:100vh!important;min-width:100vw!important;min-height:100vh!important;max-width:100vw!important;max-height:100vh!important;margin:0!important;padding:0!important;background:#000000b3!important;backdrop-filter:blur(8px)!important;-webkit-backdrop-filter:blur(8px)!important;display:flex!important;align-items:center!important;justify-content:center!important;z-index:999999!important;pointer-events:all!important;box-sizing:border-box!important;animation:_ngcontent-%COMP%_fadeIn .2s ease}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;padding:40px;background:var(--panel);border-radius:16px;box-shadow:0 20px 60px #0000004d}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-1);margin:0}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@media (max-width: 1400px){.tabs[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}.tab[_ngcontent-%COMP%]{padding:10px 8px}.tab__icon[_ngcontent-%COMP%]{font-size:16px}.tab__nombre[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 1200px){.form-grid[_ngcontent-%COMP%], .opciones-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 1000px){.tabs[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header__right[_ngcontent-%COMP%]{width:100%}.page-header__right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.alerta-cambios[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.alerta-cambios__acciones[_ngcontent-%COMP%]{width:100%}.alerta-cambios__acciones[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.tabs[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:6px;padding:8px}.tab[_ngcontent-%COMP%]{padding:10px 8px;gap:4px}.tab__icon[_ngcontent-%COMP%]{font-size:14px}.tab__nombre[_ngcontent-%COMP%]{font-size:10px}.config-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;position:relative;bottom:auto}.config-footer__acciones[_ngcontent-%COMP%]{width:100%;flex-direction:column}.config-footer__acciones[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.acciones-backup[_ngcontent-%COMP%], .acciones-sistema[_ngcontent-%COMP%]{flex-direction:column}.acciones-backup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .acciones-sistema[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.info-sistema[_ngcontent-%COMP%]{grid-template-columns:1fr}}.text-muted[_ngcontent-%COMP%]{color:var(--text-2);font-size:13px}.text-danger[_ngcontent-%COMP%]{color:#ef4444}.text-success[_ngcontent-%COMP%]{color:var(--accent)}.text-warning[_ngcontent-%COMP%]{color:#f59e0b}.mb-0[_ngcontent-%COMP%]{margin-bottom:0}.mb-1[_ngcontent-%COMP%]{margin-bottom:8px}.mb-2[_ngcontent-%COMP%]{margin-bottom:16px}.mb-3[_ngcontent-%COMP%]{margin-bottom:24px}.mb-4[_ngcontent-%COMP%]{margin-bottom:32px}.mt-0[_ngcontent-%COMP%]{margin-top:0}.mt-1[_ngcontent-%COMP%]{margin-top:8px}.mt-2[_ngcontent-%COMP%]{margin-top:16px}.mt-3[_ngcontent-%COMP%]{margin-top:24px}.mt-4[_ngcontent-%COMP%]{margin-top:32px}.dark-theme[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.dark-theme[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .dark-theme[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{background:#0f172a}.dark-theme[_ngcontent-%COMP%]   .opcion-check[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.dark-theme[_ngcontent-%COMP%]   .opcion-check[_ngcontent-%COMP%]:hover{background:#22c55e1a}.dark-theme[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.dark-theme[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#334155}.dark-theme[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#22c55e26}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease}.tab-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--panel-2);border-radius:4px}.tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}.tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent)}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444}.form-input.error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.form-input.success[_ngcontent-%COMP%]{border-color:var(--accent)}.form-input.success[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #22c55e1a}.help-text[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2);margin-top:4px}.error-text[_ngcontent-%COMP%]{font-size:12px;color:#ef4444;margin-top:4px}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:6px;font-size:12px;font-weight:600}.badge--primary[_ngcontent-%COMP%]{background:#3b82f626;color:#3b82f6;border:1px solid rgba(59,130,246,.3)}.badge--success[_ngcontent-%COMP%]{background:#22c55e26;color:var(--accent);border:1px solid rgba(34,197,94,.3)}.badge--warning[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b;border:1px solid rgba(245,158,11,.3)}.badge--danger[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.config-card[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:20px;transition:all .2s ease}.config-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.config-card__title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-1);margin:0 0 12px}.config-card__content[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);line-height:1.6}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);padding:8px 12px;background:#1e293b;color:#fff;font-size:12px;border-radius:6px;white-space:nowrap;z-index:1000;margin-bottom:8px}.divider[_ngcontent-%COMP%]{height:1px;background:var(--border);margin:24px 0}.divider-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:24px 0}.divider-text[_ngcontent-%COMP%]:before, .divider-text[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:var(--border)}.divider-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-2);text-transform:uppercase}.tasas-panel[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{display:flex;gap:16px;padding:16px 20px;border-radius:12px;border:1px solid}.tasas-panel[_ngcontent-%COMP%]   .alert--info[_ngcontent-%COMP%]{background:#3b82f61a;border-color:#3b82f64d;color:var(--text-1)}.tasas-panel[_ngcontent-%COMP%]   .alert__icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.tasas-panel[_ngcontent-%COMP%]   .alert__content[_ngcontent-%COMP%]{flex:1}.tasas-panel[_ngcontent-%COMP%]   .alert__content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:15px;font-weight:600;margin-bottom:8px;color:var(--text-1)}.tasas-panel[_ngcontent-%COMP%]   .alert__content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;font-size:13px;color:var(--text-2);line-height:1.6}.tasas-panel[_ngcontent-%COMP%]   .alert__content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px}.tasas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.tasa-categoria-section[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--border);border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000000d;transition:box-shadow .2s ease}.tasa-categoria-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000014}.categoria-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;background:linear-gradient(135deg,#6366f114,#8b5cf614);border-bottom:1px solid var(--border)}.categoria-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:18px;font-weight:700;color:var(--text-1);margin:0}.categoria-title[_ngcontent-%COMP%]   .categoria-icon[_ngcontent-%COMP%]{font-size:24px}.categoria-count[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-2);background:var(--bg);padding:6px 12px;border-radius:20px}.tabla-responsive[_ngcontent-%COMP%]{overflow-x:auto}.tabla-moderna[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.tabla-moderna[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--bg)}.tabla-moderna[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;font-size:13px;font-weight:600;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--border)}.tabla-moderna[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tabla-row[_ngcontent-%COMP%]{border-bottom:1px solid var(--border);transition:background .15s ease}.tabla-moderna[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tabla-row[_ngcontent-%COMP%]:hover{background:var(--bg)}.tabla-moderna[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tabla-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.tabla-moderna[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tabla-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;vertical-align:middle}.codigo-badge[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(135deg,#6366f126,#8b5cf626);color:#6366f1;padding:6px 12px;border-radius:6px;font-size:12px;font-weight:600;font-family:Courier New,monospace;border:1px solid rgba(99,102,241,.3)}.tasa-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.tasa-nombre[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-1)}.tasa-descripcion[_ngcontent-%COMP%]{font-size:12px;color:var(--text-3);line-height:1.4}.valor-destacado[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#10b981;background:linear-gradient(135deg,#10b9811a,#34d3991a);padding:6px 12px;border-radius:6px;display:inline-block}.vigencia-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.vigencia-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2);display:flex;align-items:center;gap:4px}.vigencia-info[_ngcontent-%COMP%]   .vigencia-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-3)}.vigencia-info[_ngcontent-%COMP%]   .vigencia-desde[_ngcontent-%COMP%]{color:#10b981}.vigencia-info[_ngcontent-%COMP%]   .vigencia-hasta[_ngcontent-%COMP%]{color:#f59e0b}.vigencia-info[_ngcontent-%COMP%]   .vigencia-indefinida[_ngcontent-%COMP%]{color:#6366f1}.acciones-grupo[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;border:1px solid var(--border);background:var(--panel);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:16px;transition:all .2s ease}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--bg);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.btn-icon--edit[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#3b82f61a}.btn-icon--delete[_ngcontent-%COMP%]:hover{border-color:#ef4444;background:#ef44441a}.empty-state[_ngcontent-%COMP%]{padding:48px 24px;text-align:center;color:var(--text-3)}.empty-state__icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px;opacity:.5}.empty-state__text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-2);margin:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed!important;inset:0!important;width:100vw!important;height:100vh!important;min-width:100vw!important;min-height:100vh!important;max-width:100vw!important;max-height:100vh!important;margin:0!important;padding:20px!important;background:#000000b3!important;backdrop-filter:blur(8px)!important;-webkit-backdrop-filter:blur(8px)!important;display:flex!important;align-items:center!important;justify-content:center!important;z-index:999999!important;pointer-events:all!important;box-sizing:border-box!important;animation:_ngcontent-%COMP%_fadeIn .2s ease}.modal-content[_ngcontent-%COMP%]{background:var(--panel);border-radius:16px;width:100%;max-width:700px;max-height:90vh;overflow:hidden;box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideDown .3s ease}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 28px;background:linear-gradient(135deg,#6366f11f,#8b5cf61f);border-bottom:1px solid var(--border)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-1);margin:0;display:flex;align-items:center;gap:12px}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f4ca";font-size:24px}.btn-close[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;border:1px solid var(--border);background:var(--bg);color:var(--text-2);font-size:20px;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close[_ngcontent-%COMP%]:hover{background:#ef4444;border-color:#ef4444;color:#fff;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:28px;overflow-y:auto;flex:1}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group--full[_ngcontent-%COMP%]{grid-column:1/-1}.form-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-1);display:flex;align-items:center;gap:4px}.form-label[_ngcontent-%COMP%]:after{content:""}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:var(--bg);border:1px solid var(--border);border-radius:8px;font-size:14px;color:var(--text-1);transition:all .2s ease;font-family:inherit}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a}.form-input[_ngcontent-%COMP%]::placeholder, .form-select[_ngcontent-%COMP%]::placeholder{color:var(--text-3)}.form-input[_ngcontent-%COMP%]:disabled, .form-select[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:var(--panel)}textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:80px;font-family:inherit}.form-hint[_ngcontent-%COMP%]{font-size:12px;color:var(--text-3);font-style:italic;display:flex;align-items:center;gap:4px}.form-hint[_ngcontent-%COMP%]:before{content:"\\1f4a1";font-size:14px}.opcion-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg);border:1px solid var(--border);border-radius:8px;cursor:pointer;transition:all .2s ease}.opcion-check[_ngcontent-%COMP%]:hover{border-color:#6366f1;background:#6366f10d}.opcion-check[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:#6366f1}.opcion-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-1);cursor:pointer}.modal-footer[_ngcontent-%COMP%]{padding:20px 28px;background:var(--bg);border-top:1px solid var(--border);display:flex;gap:12px;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;border:none;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px}.btn--secondary[_ngcontent-%COMP%]{background:var(--panel);color:var(--text-2);border:1px solid var(--border)}.btn--secondary[_ngcontent-%COMP%]:hover{background:var(--bg);border-color:var(--text-3)}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;border:none}.btn--primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #6366f14d}.btn--primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInScale{0%{opacity:0;transform:scale(.8) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.categoria-selector[_ngcontent-%COMP%]{position:relative}.categoria-selector[_ngcontent-%COMP%]   .form-select--custom[_ngcontent-%COMP%]{border-color:#22c55e;background-color:#1e293b;color:#e2e8f0}.categoria-selector[_ngcontent-%COMP%]   .form-select--custom[_ngcontent-%COMP%]:focus{border-color:#22c55e;background-color:#1e293b;color:#e2e8f0}.categoria-personalizada[_ngcontent-%COMP%]{margin-top:12px;padding:12px;background-color:#1e293b;border:1px solid #334155;border-radius:8px}.categoria-personalizada[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{margin-bottom:8px;background-color:#0f172a;border-color:#334155;color:#e2e8f0}.categoria-personalizada[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{background-color:#0f172a;border-color:#22c55e;color:#e2e8f0}.categoria-personalizada[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#64748b}.categoria-personalizada[_ngcontent-%COMP%]   .form-hint[_ngcontent-%COMP%]{color:#94a3b8;font-size:12px}.subsecciones-nav[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;padding:1rem;background:#ffffff0d;border-radius:12px;border:1px solid rgba(255,255,255,.1);overflow-x:auto}.subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#e2e8f0;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease;white-space:nowrap;min-width:fit-content}.subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#22c55e4d;transform:translateY(-2px)}.subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);border-color:#22c55e;color:#fff;box-shadow:0 4px 12px #22c55e4d}.subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn__icon[_ngcontent-%COMP%]{font-size:1.1rem}.subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn__nombre[_ngcontent-%COMP%]{font-weight:600}.subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn__count[_ngcontent-%COMP%]{background:#fff3;color:#e2e8f0;padding:.25rem .5rem;border-radius:12px;font-size:.8rem;font-weight:700;min-width:24px;text-align:center}.subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]{background:#ffffff08;border-radius:12px;border:1px solid rgba(255,255,255,.1);overflow:hidden;padding-bottom:1.5rem}.subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header__actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:1.5rem;background:#ffffff0d;border-bottom:1px solid rgba(255,255,255,.1)}.subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#e2e8f0;font-size:1.25rem;font-weight:600;display:flex;align-items:center;gap:.5rem}.data-table-container[_ngcontent-%COMP%]{overflow-x:auto}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:transparent;table-layout:auto}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .th-checkbox[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .td-checkbox[_ngcontent-%COMP%]{width:40px;min-width:40px;max-width:40px;text-align:center;padding:8px 4px}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .th-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .td-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:var(--primary)}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:transparent}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;text-align:left;background:#059669!important;color:#fff!important;font-weight:700!important;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #047857!important;border-right:1px solid rgba(4,120,87,.3)!important;box-shadow:0 1px 3px #04785733!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.05);transition:all .3s ease}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff0d}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem;color:#cbd5e1;vertical-align:middle}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#22c55e1a;color:#22c55e;padding:.25rem .5rem;border-radius:4px;font-size:.85rem;font-weight:600;border:1px solid rgba(34,197,94,.2)}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e2e8f0;font-weight:600}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-descripcion[_ngcontent-%COMP%]{display:table-cell!important;vertical-align:top}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-codigo[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-codigo[_ngcontent-%COMP%]{width:80px;max-width:80px;min-width:80px;padding-left:.5rem!important;padding-right:.5rem!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-nombre[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-nombre[_ngcontent-%COMP%]{width:350px;max-width:350px;min-width:350px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:.5rem!important;padding-right:.5rem!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-descripcion[_ngcontent-%COMP%]{width:auto;min-width:200px;padding-left:.5rem!important;padding-right:.5rem!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-descripcion[_ngcontent-%COMP%]{width:auto!important;min-width:200px!important;word-wrap:break-word!important;word-break:break-word!important;overflow-wrap:break-word!important;white-space:normal!important;line-height:1.4;padding:.75rem .5rem!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-estado[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-estado[_ngcontent-%COMP%]{width:100px;max-width:100px;min-width:100px;text-align:center;padding-left:.5rem!important;padding-right:.5rem!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-acciones[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]{width:180px;max-width:180px;min-width:180px;text-align:center;padding:.75rem .5rem!important;vertical-align:middle}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:nowrap}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:0 0 auto;min-width:75px;white-space:nowrap;padding:6px 12px;font-size:11px;font-weight:600;border-radius:6px;transition:all .2s ease}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;background:#ef44441a;color:#ef4444;border:1px solid rgba(239,68,68,.2)}.status-badge.active[_ngcontent-%COMP%]{background:#22c55e1a;color:#22c55e;border-color:#22c55e33}.section-description[_ngcontent-%COMP%]{color:#94a3b8;font-size:.9rem;margin-bottom:2rem;line-height:1.5}[data-theme=light][_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #e5e7eb!important;box-shadow:0 2px 8px #00000014!important}[data-theme=light][_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]{background:#f9fafb!important;border:1px solid #e5e7eb!important;color:#374151!important;font-weight:600!important}[data-theme=light][_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6!important;border-color:#22c55e!important;color:#22c55e!important;box-shadow:0 2px 8px #22c55e26!important}[data-theme=light][_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn.active[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a)!important;border-color:#22c55e!important;color:#fff!important;box-shadow:0 4px 16px #22c55e59!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]   .subseccion-btn__count[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]   .subseccion-btn__count[_ngcontent-%COMP%]{background:#fff!important;color:#22c55e!important;font-weight:900!important;border:2px solid #22c55e!important;padding:.3rem .6rem!important;border-radius:12px!important;font-size:.85rem!important;min-width:28px!important;text-align:center!important;display:inline-block!important;opacity:1!important;visibility:visible!important;box-shadow:0 2px 6px #22c55e4d!important}[data-theme=light][_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn.active[_ngcontent-%COMP%]   .subseccion-btn__count[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn.active[_ngcontent-%COMP%]   .subseccion-btn__count[_ngcontent-%COMP%]{background:#ffffff80!important;color:#fff!important;border:2px solid rgba(255,255,255,.7)!important;box-shadow:0 2px 4px #ffffff4d!important}[data-theme=light][_nghost-%COMP%]   .subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #e5e7eb!important;box-shadow:0 2px 12px #00000014!important;padding-bottom:1.5rem!important}[data-theme=light][_nghost-%COMP%]   .subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{background:#f9fafb!important;border-bottom:2px solid #e5e7eb!important}[data-theme=light][_nghost-%COMP%]   .subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subseccion-content[_ngcontent-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#111827!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]{background:#fff!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:transparent!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#059669!important;color:#fff!important;font-weight:700!important;border-bottom:2px solid #047857!important;border-right:1px solid rgba(4,120,87,.3)!important;box-shadow:0 1px 3px #04785733!important;padding:.75rem .5rem!important;font-size:.8rem!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fafb!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#1f2937!important;padding:.75rem .5rem!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   code[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#22c55e1a!important;color:#16a34a!important;border:1px solid rgba(34,197,94,.3)!important;font-weight:700!important;padding:.2rem .4rem!important;font-size:.8rem!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#111827!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-codigo[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-codigo[_ngcontent-%COMP%], [data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-codigo[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-codigo[_ngcontent-%COMP%]{width:80px!important;max-width:80px!important;min-width:80px!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-nombre[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-nombre[_ngcontent-%COMP%], [data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-nombre[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-nombre[_ngcontent-%COMP%]{width:350px!important;max-width:350px!important;min-width:350px!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-descripcion[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-descripcion[_ngcontent-%COMP%], [data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-descripcion[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-descripcion[_ngcontent-%COMP%]{min-width:200px!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-estado[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-estado[_ngcontent-%COMP%], [data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-estado[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-estado[_ngcontent-%COMP%]{width:100px!important;max-width:100px!important;min-width:100px!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-acciones[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th.th-acciones[_ngcontent-%COMP%], [data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]{width:180px!important;max-width:180px!important;min-width:180px!important;padding:.75rem .5rem!important}[data-theme=light][_nghost-%COMP%]   .status-badge[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#ef44441a!important;color:#dc2626!important;border:1px solid rgba(239,68,68,.3)!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .status-badge.active[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#22c55e26!important;color:#16a34a!important;border:1px solid rgba(34,197,94,.4)!important}[data-theme=light][_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#111827!important;font-weight:700!important;border-bottom:2px solid #22c55e!important}[data-theme=light][_nghost-%COMP%]   .section-description[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .section-description[_ngcontent-%COMP%]{color:#6b7280!important;font-weight:500!important}[data-theme=light][_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6)!important;color:#fff!important;font-weight:600!important;box-shadow:0 2px 8px #6366f140!important}[data-theme=light][_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #6366f166!important;transform:translateY(-2px)!important}[data-theme=light][_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #d1d5db!important;color:#374151!important;font-weight:600!important}[data-theme=light][_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover{background:#f9fafb!important;border-color:#22c55e!important;color:#22c55e!important;box-shadow:0 2px 8px #22c55e26!important}[data-theme=light][_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;font-weight:600!important;box-shadow:0 2px 8px #ef444440!important}[data-theme=light][_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #ef444466!important;transform:translateY(-2px)!important}[data-theme=light][_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:disabled, [data-theme=light]   [_nghost-%COMP%]   .subseccion-panel[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:disabled{background:#9ca3af!important;opacity:.6!important;cursor:not-allowed!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]{background:#fff!important;border:1.5px solid #d1d5db!important;color:#374151!important;font-weight:600!important;transition:all .2s ease!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover{background:#f3f4f6!important;border-color:#22c55e!important;color:#22c55e!important;box-shadow:0 2px 8px #22c55e33!important;transform:translateY(-1px)!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;font-weight:600!important;border:1.5px solid #ef4444!important;box-shadow:0 2px 6px #ef444440!important;transition:all .2s ease!important}[data-theme=light][_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.td-acciones[_ngcontent-%COMP%]   .acciones-buttons[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c)!important;border-color:#dc2626!important;box-shadow:0 4px 12px #ef444466!important;transform:translateY(-1px)!important}[data-theme=light][_nghost-%COMP%]   .roles-container[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .roles-container[_ngcontent-%COMP%]{background:transparent!important;padding:0 1.5rem 1.5rem!important}[data-theme=light][_nghost-%COMP%]   .roles-grid[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .roles-grid[_ngcontent-%COMP%]{gap:2rem!important}[data-theme=light][_nghost-%COMP%]   .role-card[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #e5e7eb!important;box-shadow:0 2px 8px #00000014!important;padding:1.75rem!important}[data-theme=light][_nghost-%COMP%]   .role-card[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .role-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #0000001f!important;border-color:#22c55e!important}[data-theme=light][_nghost-%COMP%]   .role-card__header[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card__header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb!important;padding-bottom:1rem!important;margin-bottom:1rem!important}[data-theme=light][_nghost-%COMP%]   .role-card__icon[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card__icon[_ngcontent-%COMP%]{color:#6b7280!important}[data-theme=light][_nghost-%COMP%]   .role-card__nombre[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card__nombre[_ngcontent-%COMP%]{color:#111827!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .role-card__descripcion[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card__descripcion[_ngcontent-%COMP%]{color:#6b7280!important}[data-theme=light][_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--edit[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--edit[_ngcontent-%COMP%]{background:#f3f4f6!important;border:1px solid #d1d5db!important;color:#374151!important}[data-theme=light][_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--edit[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--edit[_ngcontent-%COMP%]:hover{background:#e5e7eb!important;border-color:#22c55e!important;color:#22c55e!important}[data-theme=light][_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--delete[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--delete[_ngcontent-%COMP%]{background:#fef2f2!important;border:1px solid #fecaca!important;color:#dc2626!important}[data-theme=light][_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--delete[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .role-card__actions[_ngcontent-%COMP%]   .btn-icon--delete[_ngcontent-%COMP%]:hover{background:#fee2e2!important;border-color:#ef4444!important;color:#b91c1c!important}[data-theme=light][_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fef3c7)!important;border:2px solid #f59e0b!important;box-shadow:0 10px 36px #f59e0b40!important}[data-theme=light][_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%]:before, [data-theme=light]   [_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#f59e0b,#fbbf24,#f97316)!important}[data-theme=light][_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%]   .role-card__icon[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%]   .role-card__icon[_ngcontent-%COMP%]{color:#f59e0b!important;filter:drop-shadow(0 2px 8px rgba(245,158,11,.3))!important}[data-theme=light][_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%]   .role-card__nombre[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card--super[_ngcontent-%COMP%]   .role-card__nombre[_ngcontent-%COMP%]{color:#d97706!important;text-shadow:none!important}[data-theme=light][_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fef9e7)!important;border:2px solid #d1a054!important;box-shadow:0 6px 20px #d1a05426!important}[data-theme=light][_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%]:before, [data-theme=light]   [_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#eab308,#ca8a04)!important}[data-theme=light][_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%]   .role-card__icon[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%]   .role-card__icon[_ngcontent-%COMP%]{color:#d1a054!important;filter:drop-shadow(0 2px 6px rgba(209,160,84,.2))!important}[data-theme=light][_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%]   .role-card__nombre[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .role-card--admin[_ngcontent-%COMP%]   .role-card__nombre[_ngcontent-%COMP%]{color:#f59e0b!important}[data-theme=light][_nghost-%COMP%]   .permisos-grid[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .permisos-grid[_ngcontent-%COMP%]{gap:.75rem!important}[data-theme=light][_nghost-%COMP%]   .permiso-item[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .permiso-item[_ngcontent-%COMP%]{background:#f9fafb!important;border:1px solid #e5e7eb!important;border-radius:8px!important;padding:.75rem!important}[data-theme=light][_nghost-%COMP%]   .permiso-item[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .permiso-item[_ngcontent-%COMP%]:hover{background:#f3f4f6!important;border-color:#d1d5db!important}[data-theme=light][_nghost-%COMP%]   .permiso-seccion[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .permiso-seccion[_ngcontent-%COMP%]{color:#111827!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .permiso-badge[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .permiso-badge[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#6b7280!important;border:1px solid #d1d5db!important}[data-theme=light][_nghost-%COMP%]   .permiso-badge.active[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .permiso-badge.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a)!important;color:#fff!important;border-color:#22c55e!important;font-weight:600!important}[data-theme=light][_nghost-%COMP%]   .panel-title[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .panel-title[_ngcontent-%COMP%]{color:#111827!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .panel-description[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .panel-description[_ngcontent-%COMP%]{color:#6b7280!important;font-weight:500!important}[data-theme=light][_nghost-%COMP%]   .usuarios-container[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .usuarios-container[_ngcontent-%COMP%]{background:transparent!important;padding:0 1.5rem 1.5rem!important}[data-theme=light][_nghost-%COMP%]   .usuarios-table[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .usuarios-table[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #e5e7eb!important;box-shadow:0 2px 8px #00000014!important}[data-theme=light][_nghost-%COMP%]   .table-header[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%]{background:#f9fafb!important;border-bottom:2px solid #e5e7eb!important;color:#111827!important;font-weight:700!important}[data-theme=light][_nghost-%COMP%]   .table-row[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb!important;background:#fff!important}[data-theme=light][_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#f9fafb!important}[data-theme=light][_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:last-child, [data-theme=light]   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:last-child{border-bottom:none!important}[data-theme=light][_nghost-%COMP%]   .table-cell[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .table-cell[_ngcontent-%COMP%]{color:#1f2937!important}[data-theme=light][_nghost-%COMP%]   .usuario-info[_ngcontent-%COMP%]   .usuario-details[_ngcontent-%COMP%]   .usuario-nombre[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .usuario-info[_ngcontent-%COMP%]   .usuario-details[_ngcontent-%COMP%]   .usuario-nombre[_ngcontent-%COMP%]{color:#111827!important;font-weight:600!important}[data-theme=light][_nghost-%COMP%]   .usuario-info[_ngcontent-%COMP%]   .usuario-details[_ngcontent-%COMP%]   .usuario-email[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .usuario-info[_ngcontent-%COMP%]   .usuario-details[_ngcontent-%COMP%]   .usuario-email[_ngcontent-%COMP%]{color:#6b7280!important}[data-theme=light][_nghost-%COMP%]   .rol-badge[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .rol-badge[_ngcontent-%COMP%]{background:#f3f4f6!important;color:#374151!important;border:1px solid #d1d5db!important;font-weight:600!important}[data-theme=light][_nghost-%COMP%]   .rol-badge--superadmin[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .rol-badge--superadmin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)!important;color:#d97706!important;border-color:#f59e0b!important}[data-theme=light][_nghost-%COMP%]   .rol-badge--admin[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .rol-badge--admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef9e7,#fef3c7)!important;color:#f59e0b!important;border-color:#d1a054!important}[data-theme=light][_nghost-%COMP%]   .estado-badge[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .estado-badge[_ngcontent-%COMP%]{background:#22c55e1a!important;color:#16a34a!important;border:1px solid rgba(34,197,94,.3)!important;font-weight:600!important}[data-theme=light][_nghost-%COMP%]   .estado-badge--activo[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .estado-badge--activo[_ngcontent-%COMP%]{background:#22c55e26!important;color:#16a34a!important;border-color:#22c55e66!important}[data-theme=light][_nghost-%COMP%]   .fecha-acceso[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .fecha-acceso[_ngcontent-%COMP%]{color:#6b7280!important}[data-theme=light][_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--sm[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--sm[_ngcontent-%COMP%]{font-size:.875rem!important;padding:.5rem .75rem!important}[data-theme=light][_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #d1d5db!important;color:#374151!important}[data-theme=light][_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover{background:#f9fafb!important;border-color:#22c55e!important;color:#22c55e!important}[data-theme=light][_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;border:1px solid #ef4444!important}[data-theme=light][_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .acciones-usuario[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c)!important;border-color:#dc2626!important}[data-theme=light][_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:#f9fafb!important;border:1px solid #e5e7eb!important;color:#374151!important}[data-theme=light][_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#f3f4f6!important;transform:translateY(-2px)!important;box-shadow:0 4px 12px #0000001a!important}[data-theme=light][_nghost-%COMP%]   .btn-icon--edit[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .btn-icon--edit[_ngcontent-%COMP%]:hover{border-color:#3b82f6!important;background:#3b82f61a!important;color:#2563eb!important}[data-theme=light][_nghost-%COMP%]   .btn-icon--delete[_ngcontent-%COMP%]:hover, [data-theme=light]   [_nghost-%COMP%]   .btn-icon--delete[_ngcontent-%COMP%]:hover{border-color:#ef4444!important;background:#ef44441a!important;color:#dc2626!important}[data-theme=light][_nghost-%COMP%]   .loading-state[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .loading-state[_ngcontent-%COMP%]{color:#6b7280!important}[data-theme=light][_nghost-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280!important}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:95vh}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:20px}.subsecciones-nav[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.subsecciones-nav[_ngcontent-%COMP%]   .subseccion-btn[_ngcontent-%COMP%]{justify-content:center}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]{font-size:.85rem}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}}.roles-container[_ngcontent-%COMP%]{margin-top:2rem;padding:0 1.5rem 1.5rem}.roles-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:2rem}.role-card[_ngcontent-%COMP%]{background:var(--card-bg);border:1px solid var(--border);border-radius:12px;padding:1.75rem;transition:all .3s ease;position:relative;overflow:hidden;margin:0}.role-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#667eea,#764ba2)}.role-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026;border-color:var(--primary)}.role-card__header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1rem}.role-card__icon[_ngcontent-%COMP%]{font-size:2rem;flex-shrink:0}.role-card__info[_ngcontent-%COMP%]{flex:1;min-width:0}.role-card__nombre[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-1);margin:0 0 .5rem}.role-card__descripcion[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-2);margin:0 0 .5rem;line-height:1.4}.role-card__permisos-count[_ngcontent-%COMP%]{margin-top:.5rem}.role-card__permisos-count[_ngcontent-%COMP%]   .permisos-count-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border-radius:12px;font-size:.75rem;font-weight:600;box-shadow:0 2px 4px #22c55e33}.role-card__actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.role-card__permisos[_ngcontent-%COMP%]{margin-top:1rem}.role-card--super[_ngcontent-%COMP%]{border-color:#f59e0b!important;box-shadow:0 10px 36px #f59e0b59,0 0 0 2px #f59e0b40 inset}.role-card--super[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#f59e0b,#fbbf24,#f97316)!important}.role-card--super[_ngcontent-%COMP%]   .role-card__icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 8px rgba(245,158,11,.45))}.role-card--super[_ngcontent-%COMP%]   .role-card__nombre[_ngcontent-%COMP%]{color:#fde047;text-shadow:0 1px 6px rgba(250,204,21,.45)}.role-card--admin[_ngcontent-%COMP%]{border-color:#d1a054!important;box-shadow:0 6px 20px #d1a05433,0 0 0 2px #d1a05426 inset}.role-card--admin[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#eab308,#ca8a04)!important}.role-card--admin[_ngcontent-%COMP%]   .role-card__icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 6px rgba(209,160,84,.3))}.role-card--admin[_ngcontent-%COMP%]   .role-card__nombre[_ngcontent-%COMP%]{color:#f59e0b}.permisos-grid[_ngcontent-%COMP%]{display:grid;gap:.75rem}.permiso-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.5rem;background:#ffffff0d;border-radius:6px}.permiso-seccion[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1);min-width:100px;font-size:.9rem}.permiso-detalles[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.permiso-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:500;background:#ffffff1a;color:var(--text-2);border:1px solid transparent;transition:all .2s ease}.permiso-badge.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border-color:var(--primary)}.usuarios-container[_ngcontent-%COMP%]{margin-top:2rem;padding:0 1.5rem 1.5rem}.usuarios-table[_ngcontent-%COMP%]{background:var(--card-bg);border:1px solid var(--border);border-radius:12px;overflow:hidden}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1fr 1.5fr;background:var(--bg-2);border-bottom:1px solid var(--border);font-weight:600;color:var(--text-1)}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1fr 1.5fr;border-bottom:1px solid var(--border);transition:background-color .2s ease}.table-row[_ngcontent-%COMP%]:hover{background:#ffffff0d}.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-cell[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;font-size:.9rem;color:var(--text-1)}.usuario-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.usuario-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:.9rem;position:relative;box-shadow:0 2px 8px #00000026;transition:all .3s ease;flex-shrink:0}.usuario-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000040}.usuario-avatar[_ngcontent-%COMP%]   .avatar-iniciales[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.3)}.usuario-avatar[_ngcontent-%COMP%]   .avatar-icono[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;background:#ffffffe6;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.7rem;border:2px solid var(--bg-1);box-shadow:0 1px 3px #0003}.usuario-details[_ngcontent-%COMP%]{min-width:0}.usuario-nombre[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1);margin-bottom:.25rem}.usuario-email[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-2)}.rol-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:500;text-transform:uppercase}.rol-badge--administrador[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.rol-badge--rrhh[_ngcontent-%COMP%]{background:#28a745;color:#fff}.rol-badge--gerencia[_ngcontent-%COMP%]{background:#ffc107;color:#000}.rol-badge--contabilidad[_ngcontent-%COMP%]{background:#17a2b8;color:#fff}.rol-badge--superadmin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#fbbf24 60%,#f97316);color:#fff;border:1px solid rgba(245,158,11,.6);box-shadow:0 0 0 2px #f59e0b40 inset,0 6px 18px #f59e0b40}.rol-badge--admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eab308,#ca8a04);color:#1f2937;border:1px solid rgba(202,138,4,.5)}.estado-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:500}.estado-badge--activo[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.fecha-acceso[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-2)}.acciones-usuario[_ngcontent-%COMP%]{display:flex;gap:.5rem}.permisos-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:1px solid var(--border)}.permisos-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-1);margin:0 0 .5rem;display:flex;align-items:center;gap:.5rem}.permisos-description[_ngcontent-%COMP%]{color:var(--text-2);margin:0 0 1.5rem;font-size:.9rem}.permisos-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.permiso-modulo[_ngcontent-%COMP%]{background:var(--bg-2);border:1px solid var(--border);border-radius:8px;padding:1.5rem;transition:all .2s ease}.permiso-modulo[_ngcontent-%COMP%]:hover{border-color:var(--primary);box-shadow:0 4px 12px #0000001a}.permiso-modulo__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid var(--border)}.permiso-modulo__icon[_ngcontent-%COMP%]{font-size:1.5rem}.permiso-modulo__nombre[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1);font-size:1.1rem}.permiso-modulo__opciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.permiso-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;padding:.5rem;border-radius:6px;transition:background-color .2s ease}.permiso-checkbox[_ngcontent-%COMP%]:hover{background:#22c55e14!important}.permiso-checkbox[_ngcontent-%COMP%]:has(input[type=checkbox]:checked){background:#22c55e1a!important}.permiso-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.permiso-checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:22px;height:22px;border:2px solid var(--border);border-radius:5px;position:relative;transition:all .2s ease;flex-shrink:0;background:var(--panel-2);box-shadow:inset 0 1px 2px #0000000d}.permiso-checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:14px;font-weight:900;opacity:0;transition:opacity .2s ease;text-shadow:0 1px 2px rgba(0,0,0,.2)}.permiso-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#22c55e!important;border-color:#16a34a!important;box-shadow:0 2px 8px #22c55e4d!important}.permiso-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{opacity:1;color:#fff!important;font-weight:900!important}.permiso-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:not(.checkmark){color:var(--text-1);font-weight:600}.permiso-checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.checkmark){color:var(--text-1);font-size:.9rem;font-weight:500}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-content[_ngcontent-%COMP%]{background:var(--panel);border-radius:20px;width:100%;max-width:600px;max-height:90vh;overflow:hidden;box-shadow:0 25px 80px #0006;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideInScale .4s ease;border:1px solid rgba(255,255,255,.1)}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 28px;background:linear-gradient(135deg,#6366f126,#8b5cf626);border-bottom:1px solid rgba(255,255,255,.1)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-1);margin:0;display:flex;align-items:center;gap:.5rem}.modal-body[_ngcontent-%COMP%]{padding:32px;overflow-y:auto;flex:1;background:var(--bg-1)}.modal-footer[_ngcontent-%COMP%]{padding:24px 28px;background:var(--bg-2);border-top:1px solid rgba(255,255,255,.1);display:flex;gap:16px;justify-content:flex-end}.usuario-info-modal[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;background:linear-gradient(135deg,#6366f114,#8b5cf614);border-radius:12px;margin-bottom:2rem;border:1px solid rgba(255,255,255,.05)}.usuario-avatar-modal[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:1.1rem;position:relative;box-shadow:0 3px 10px #0003;flex-shrink:0}.usuario-avatar-modal[_ngcontent-%COMP%]   .avatar-iniciales[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.3)}.usuario-avatar-modal[_ngcontent-%COMP%]   .avatar-icono[_ngcontent-%COMP%]{position:absolute;bottom:-3px;right:-3px;background:#fffffff2;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.8rem;border:2px solid var(--bg-1);box-shadow:0 2px 4px #0003}.usuario-details-modal[_ngcontent-%COMP%]{min-width:0}.usuario-nombre-modal[_ngcontent-%COMP%]{font-weight:600;color:var(--text-1);font-size:1.1rem;margin-bottom:.25rem}.usuario-rol-modal[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-2)}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:var(--text-2)}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border);border-top:3px solid var(--primary);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.roles-grid[_ngcontent-%COMP%], .permisos-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.table-cell[_ngcontent-%COMP%]{padding:.75rem .5rem}.usuario-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}}.modal-overlay[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:24px}.modal-overlay[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.modal-overlay[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-1);margin-bottom:4px}.modal-overlay[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:14px 18px;border:2px solid rgba(255,255,255,.15);border-radius:12px;background:var(--bg-2);color:var(--text-1);font-size:15px;font-weight:500;transition:all .3s ease;outline:none}.modal-overlay[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--bg-1);box-shadow:0 0 0 4px #6366f126;transform:translateY(-2px)}.modal-overlay[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder{color:var(--text-3);font-weight:400}.modal-overlay[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 16px center;background-repeat:no-repeat;background-size:18px;padding-right:45px}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-width:95%;margin:10px}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px}}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.panel-header[_ngcontent-%COMP%]   .panel-header__left[_ngcontent-%COMP%]{flex:1}.panel-header[_ngcontent-%COMP%]   .panel-header__right[_ngcontent-%COMP%]{flex-shrink:0;margin-left:2rem}.warning-box[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.5rem;background:linear-gradient(135deg,#fbbf241a,#f59e0b1a);border:1px solid rgba(251,191,36,.3);border-radius:12px;margin-bottom:2rem}.warning-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#f59e0b;flex-shrink:0;margin-top:.25rem}.warning-content[_ngcontent-%COMP%]{flex:1}.warning-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f59e0b;font-size:1.1rem;font-weight:700;margin:0 0 .5rem}.warning-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-1);font-size:.95rem;margin:0;line-height:1.5}.password-requirements[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:var(--bg-2);border-radius:12px;border:1px solid rgba(255,255,255,.05)}.password-requirements[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-1);font-size:1rem;font-weight:600;margin:0 0 1rem}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--text-2);font-size:.9rem;margin-bottom:.5rem;line-height:1.4}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.btn--danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border:1px solid #ef4444;color:#fff;font-weight:600;transition:all .3s ease}.btn--danger[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#dc2626,#b91c1c);border-color:#dc2626;transform:translateY(-2px);box-shadow:0 8px 25px #ef44444d}.btn--danger[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn--danger[_ngcontent-%COMP%]:disabled{background:#6b7280;border-color:#6b7280;cursor:not-allowed;opacity:.6}.demo-config-section[_ngcontent-%COMP%]{margin-top:24px;padding:24px;background:var(--panel);border:1px solid var(--border);border-radius:12px;position:relative;overflow:hidden;box-shadow:0 2px 12px #00000014}.demo-config-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent) 0%,#a855f7 50%,#c084fc 100%)}.demo-section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--border)}.demo-section-header[_ngcontent-%COMP%]   .demo-icon[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--accent) 0%,#a855f7 100%);border-radius:8px;color:#fff;box-shadow:0 2px 8px #00000026}.demo-section-header[_ngcontent-%COMP%]   .demo-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.demo-section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-1);margin:0}.demo-section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0;font-weight:500}.demo-fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 768px){.demo-fields[_ngcontent-%COMP%]{grid-template-columns:1fr}}.demo-fields[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--text-1);font-weight:600;margin-bottom:8px;display:flex;align-items:center}.demo-fields[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{background:var(--panel-2);border:1px solid var(--border);border-radius:8px;padding:12px 16px;font-size:14px;color:var(--text-1);transition:all .2s ease}.demo-fields[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 3px #8b5cf61a;outline:none}.demo-fields[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled{background:var(--panel);color:var(--text-2);cursor:not-allowed}.demo-status[_ngcontent-%COMP%]{grid-column:1/-1;margin-top:16px;padding:16px;background:var(--bg-2);border:1px solid var(--border);border-radius:8px;display:flex;gap:24px;flex-wrap:wrap}.demo-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.demo-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px}.demo-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:4px 8px;border-radius:4px;display:inline-block;width:fit-content}.demo-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-value.active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border:1px solid #bbf7d0}.demo-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-value.expired[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.demo-status[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-value.time-remaining[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;border:1px solid #bfdbfe;font-family:Courier New,monospace}.input-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:8px;color:var(--accent);flex-shrink:0}.form-hint[_ngcontent-%COMP%]{font-size:12px;color:var(--text-2);margin-top:4px;line-height:1.4;font-weight:500;background:var(--bg-2);padding:4px 8px;border-radius:4px;border-left:3px solid var(--accent)}.password-input[_ngcontent-%COMP%]{position:relative;z-index:1000!important;background:var(--panel-2)!important;border:2px solid var(--border)!important}.password-input[_ngcontent-%COMP%]:focus{z-index:1001!important;border-color:var(--accent)!important;box-shadow:0 0 0 3px #8b5cf61a!important;outline:none!important}.password-input[_ngcontent-%COMP%]:-webkit-autofill, .password-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .password-input[_ngcontent-%COMP%]:-webkit-autofill:focus, .password-input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px var(--panel-2) inset!important;-webkit-text-fill-color:var(--text-1)!important;background-color:var(--panel-2)!important}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;z-index:999}input[data-lpignore=true][_ngcontent-%COMP%]{-webkit-text-security:disc!important;text-security:disc!important}.modal-overlay.modal--exito[_ngcontent-%COMP%]{z-index:200006!important}.exito-configuracion[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center;min-height:200px}.exito-configuracion__loader[_ngcontent-%COMP%]{margin-bottom:24px}.exito-configuracion__check[_ngcontent-%COMP%]{margin-bottom:24px;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.34,1.56,.64,1)}.exito-configuracion__title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-1);margin:0 0 12px;background:linear-gradient(135deg,#22c55e,#16a34a);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.exito-configuracion__message[_ngcontent-%COMP%]{font-size:15px;color:var(--text-2);margin:0;line-height:1.6}.modal-content--exito-configuracion[_ngcontent-%COMP%]{max-width:420px;border-radius:20px;padding:0;overflow:hidden}.modal--exito-configuracion[_ngcontent-%COMP%]{z-index:200007!important}.spinner--green[_ngcontent-%COMP%]{width:60px;height:60px;border:5px solid rgba(34,197,94,.2);border-top-color:#22c55e;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.checkmark--green[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:block;stroke-width:3;stroke:#22c55e;stroke-miterlimit:10;box-shadow:inset 0 0 #22c55e;animation:_ngcontent-%COMP%_fill-green .4s ease-in-out .4s forwards,_ngcontent-%COMP%_scale-green .3s ease-in-out .9s both}.checkmark--green[_ngcontent-%COMP%]   .checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:3;stroke-miterlimit:10;stroke:#22c55e;fill:none;animation:_ngcontent-%COMP%_stroke-green .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark--green[_ngcontent-%COMP%]   .checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;stroke-width:4;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;fill:none;animation:_ngcontent-%COMP%_stroke-green .3s cubic-bezier(.65,0,.45,1) .8s forwards}[data-theme=light][_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]{stroke:#22c55e}[data-theme=light][_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__circle[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__circle[_ngcontent-%COMP%]{stroke:#22c55e;fill:#22c55e26;stroke-width:3}[data-theme=light][_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__check[_ngcontent-%COMP%], [data-theme=light]   [_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__check[_ngcontent-%COMP%]{stroke:#16a34a!important;stroke-width:5!important}[data-theme=dark][_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__circle[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__circle[_ngcontent-%COMP%]{fill:#22c55e;stroke:#22c55e}[data-theme=dark][_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__check[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .checkmark--green[_ngcontent-%COMP%]   .checkmark__check[_ngcontent-%COMP%]{stroke:#fff!important;stroke-width:4!important}@keyframes _ngcontent-%COMP%_stroke-green{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale-green{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes _ngcontent-%COMP%_fill-green{to{box-shadow:inset 0 0 0 30px #22c55e1a}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.exito-creacion-usuario[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px 24px;text-align:center;background:var(--panel);min-height:200px}.exito-creacion-usuario__loader[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.exito-creacion-usuario__check[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;visibility:visible;opacity:1}.exito-creacion-usuario__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0 0 8px;line-height:1.4}.exito-creacion-usuario__message[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0;line-height:1.5}.spinner--success[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(34,197,94,.2);border-top-color:#22c55e;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.checkmark[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:block;stroke-width:3;stroke:#22c55e;stroke-miterlimit:10;animation:_ngcontent-%COMP%_scale .3s ease-in-out .9s both;visibility:visible;opacity:1;flex-shrink:0}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:3;stroke-miterlimit:10;stroke:#22c55e;fill:#22c55e;animation:_ngcontent-%COMP%_stroke .6s cubic-bezier(.65,0,.45,1) forwards;opacity:1}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;stroke-width:4;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;fill:none;animation:_ngcontent-%COMP%_stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards;opacity:1;z-index:1}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_stroke{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}.modal-content--delete[_ngcontent-%COMP%]{max-width:480px;width:90%;border-radius:12px!important;padding:0;overflow:hidden;background:var(--panel)!important;border:1px solid var(--border)!important;box-shadow:0 20px 60px #0006!important;animation:slideUp .3s ease-out}.delete-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:1.5rem;background:linear-gradient(135deg,#dc2626,#b91c1c);color:#fff}.delete-header[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.delete-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin:0;color:#fff;flex:1}.delete-planilla-info[_ngcontent-%COMP%]{padding:1.5rem;background:var(--panel-2);border-bottom:1px solid var(--border)}.delete-planilla-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.delete-planilla-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.delete-planilla-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-2);text-transform:uppercase;letter-spacing:.5px;font-weight:600}.delete-planilla-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-1)}.delete-warning[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.5rem;background:#fef2f2;border-left:4px solid #dc2626;margin:0}.delete-warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.delete-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]{flex:1}.delete-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#7f1d1d;line-height:1.5}.delete-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.delete-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.delete-confirmation[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border);border-bottom:1px solid var(--border);background:var(--panel)}.delete-confirmation[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;font-size:.9rem;font-weight:600;color:var(--text-1)}.delete-confirmation[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid var(--border);border-radius:8px;font-size:1rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;transition:all .2s ease}.delete-confirmation[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a;outline:none}.delete-confirmation[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{text-transform:none;letter-spacing:normal;font-weight:400}.delete-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:1.5rem;background:var(--panel);justify-content:flex-end}.delete-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:140px}.delete-actions[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#b91c1c);color:#fff;border:none;font-weight:700}.delete-actions[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 0 20px #dc262666;transform:translateY(-1px)}.delete-actions[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-overlay.modal--exito[_ngcontent-%COMP%]{z-index:200009!important}.exito-rol[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px 24px;text-align:center;background:var(--panel);min-height:200px}.exito-rol__loader[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.exito-rol__check[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;visibility:visible;opacity:1}.exito-rol__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0 0 8px;line-height:1.4}.exito-rol__message[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0;line-height:1.5}.modal-overlay.modal--exito[_ngcontent-%COMP%]{z-index:200007!important}.modal-overlay.modal--exito[_ngcontent-%COMP%]   .modal-content--exito[_ngcontent-%COMP%]{max-width:380px;width:100%;padding:0;border-radius:12px!important;overflow:hidden;background:var(--panel)!important;border:1px solid var(--border)!important;box-shadow:0 20px 60px #0006!important;position:relative;z-index:1}.exito-eliminacion-usuario[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px 24px;text-align:center;background:var(--panel);min-height:200px}.exito-eliminacion-usuario__loader[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.exito-eliminacion-usuario__check[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;visibility:visible;opacity:1}.exito-eliminacion-usuario__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-1);margin:0 0 8px;line-height:1.4}.exito-eliminacion-usuario__message[_ngcontent-%COMP%]{font-size:14px;color:var(--text-2);margin:0;line-height:1.5}`]});let m=f;return m})();export{ri as ConfiguracionComponent};
