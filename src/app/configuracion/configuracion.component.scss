.configuracion-container {
  width: 100%;
  max-width: 100%;
  padding-bottom: 40px;
}

/* ==================== PAGE HEADER ==================== */
.page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 32px;
  padding: 18px 24px;
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%) !important;
  border-radius: 8px;
  border: 1px solid rgba(34, 197, 94, 0.15);
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  position: relative;
  overflow: hidden;
  gap: 20px;
  flex-wrap: wrap;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
  }
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, #22c55e 0%, #16a34a 100%);
    opacity: 0.6;
  }
  
  &__left {
    flex: 1;
    position: relative;
    z-index: 1;
    padding-left: 12px;
    min-width: 0;
  }
  
  &__right {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    flex-shrink: 0;
    position: relative;
    z-index: 1;
  }
}

/* ==================== MODO OSCURO - PAGE HEADER ==================== */
:host-context([data-theme="dark"]) {
  .page-header {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%) !important;
    border: 1px solid rgba(34, 197, 94, 0.2);
    box-shadow: 
      0 4px 16px rgba(0, 0, 0, 0.3),
      0 1px 3px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }
}

.page-title {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 0 0 8px 0;
  font-size: 28px;
  font-weight: 700;
  color: var(--text-1);
  
  &__icon {
    font-size: 32px;
  }
}

.page-subtitle {
  font-size: 11px;
  color: #64748b;
  margin: 0;
  font-weight: 600;
  letter-spacing: 0.05em;
  display: flex;
  align-items: center;
  gap: 10px;
  text-transform: uppercase;
  position: relative;
  padding-left: 20px;
  
  &__dots {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 3px;
    width: 16px;
    height: 20px;
  }
  
  &__dot {
    border-radius: 50%;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    box-shadow: 0 0 6px rgba(34, 197, 94, 0.5);
    
    &--large {
      width: 8px;
      height: 8px;
      margin-left: 0;
    }
    
    &--medium {
      width: 5px;
      height: 5px;
      margin-left: 3px;
    }
    
    &--small {
      width: 3px;
      height: 3px;
      margin-left: 6px;
    }
  }
}

/* ==================== ALERTA DE CAMBIOS ==================== */
.alerta-cambios {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 16px 20px;
  background: linear-gradient(135deg, rgba(245,158,11,.15) 0%, rgba(251,191,36,.15) 100%);
  border: 2px solid #f59e0b;
  border-radius: 12px;
  margin-bottom: 24px;
  
  &__icon {
    font-size: 32px;
  }
  
  &__content {
    flex: 1;
    
    strong {
      display: block;
      font-size: 16px;
      font-weight: 700;
      color: var(--text-1);
      margin-bottom: 4px;
    }
    
    p {
      font-size: 14px;
      color: var(--text-2);
      margin: 0;
    }
  }
  
  &__acciones {
    display: flex;
    gap: 12px;
  }
}

/* ==================== TABS - SOLUCIN GRID PERFECTA ==================== */
.tabs-container {
  margin-bottom: 24px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: visible;
  position: relative;
  box-shadow: 0 2px 12px rgba(0,0,0,.08);
}

.tabs-scroll {
  overflow: visible;
  padding: 0;
}

.tabs {
  display: grid;
  grid-template-columns: repeat(6, 1fr); /* 6 columnas en pantallas grandes */
  gap: 8px;
  padding: 12px;
}

.tab {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 12px 10px;
  background: transparent;
  border: 1px solid transparent;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  text-align: center;
  
  &__icon {
    font-size: 18px;
    flex-shrink: 0;
  }
  
  &__nombre {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-2);
  }
  
  &:hover {
    background: var(--panel-2);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
  }
  
  &.active {
    background: linear-gradient(135deg, rgba(34,197,94,.12) 0%, rgba(34,197,94,.18) 100%);
    border-color: var(--accent);
    box-shadow: 0 0 20px rgba(34,197,94,.25);
    
    .tab__nombre {
      color: var(--accent);
      font-weight: 700;
    }
  }
}

/* ==================== TAB CONTENT ==================== */
.tab-content {
  min-height: 500px;
}

.tab-panel {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.section-title {
  font-size: 24px;
  font-weight: 700;
  color: var(--text-1);
  margin: 0 0 24px 0;
  padding-bottom: 12px;
  border-bottom: 2px solid var(--border);
}

/* ==================== FORM SECTIONS ==================== */
.form-section {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 24px;
  
  &__title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0 0 20px 0;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--line-soft);
  }
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  
  &--full {
    grid-column: 1 / -1;
  }
}

.form-label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-1);
  display: flex;
  align-items: center;
  gap: 4px;
}

.form-input,
.form-select {
  padding: 12px 16px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--panel-2);
  color: var(--text-1);
  font-size: 14px;
  outline: none;
  transition: all 0.2s ease;
  
  &:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(34,197,94,.1);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  &::placeholder {
    color: var(--text-2);
    opacity: 0.6;
  }
}

.form-input[type="color"] {
  height: 50px;
  padding: 4px;
  cursor: pointer;
}

.input-group {
  display: flex;
  gap: 8px;
  
  .form-input {
    flex: 1;
  }
}

/* ==================== OPCIONES CHECK ==================== */
.opciones-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.opcion-check {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: var(--panel-2);
  border: 1px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    border-color: var(--accent);
    background: rgba(34,197,94,.05);
  }
  
  input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--accent);
  }
  
  span {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-1);
    user-select: none;
  }
}

/* ==================== INFO SISTEMA ==================== */
.info-sistema {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  padding: 20px;
  background: linear-gradient(135deg, rgba(59,130,246,.1) 0%, rgba(37,99,235,.1) 100%);
  border: 2px solid rgba(59,130,246,.3);
  border-radius: 12px;
  margin-bottom: 24px;
}

.info-item {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.info-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-2);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.info-value {
  font-size: 16px;
  font-weight: 700;
  color: #3b82f6;
}

/* ==================== ACCIONES ==================== */
.acciones-backup,
.acciones-sistema {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  padding: 20px;
  background: var(--panel-2);
  border-radius: 12px;
  margin-top: 24px;
}

/* ==================== PREVIEW TEMA ==================== */
.preview-tema {
  padding: 20px;
  background: var(--panel-2);
  border-radius: 12px;
  margin-top: 20px;
  text-align: center;
  
  h4 {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0 0 16px 0;
  }
}

/* ==================== FOOTER ==================== */
.config-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
  padding: 20px 24px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  margin-top: 32px;
  position: sticky;
  bottom: 20px;
  z-index: 10;
  box-shadow: 0 -4px 20px rgba(0,0,0,.1);
  
  &__info {
    .info-text {
      font-size: 13px;
      color: var(--text-2);
    }
  }
  
  &__acciones {
    display: flex;
    gap: 12px;
  }
}

/* ==================== BUTTONS ==================== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 20px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  white-space: nowrap;
  
  &--sm {
    padding: 8px 16px;
    font-size: 13px;
  }
  
  &--primary {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: #fff;
    
    &:hover {
      box-shadow: 0 0 20px rgba(59,130,246,.4);
      transform: translateY(-1px);
    }
  }
  
  &--success {
    background: linear-gradient(135deg, var(--accent) 0%, #16a34a 100%);
    color: #fff;
    
    &:hover {
      box-shadow: 0 0 20px rgba(34,197,94,.4);
      transform: translateY(-1px);
    }
    
    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
  }
  
  &--outline {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-1);
    
    &:hover {
      background: var(--panel-2);
      border-color: var(--accent);
      color: var(--accent);
    }
  }
  
  &--ghost {
    background: transparent;
    border: none;
    color: var(--text-2);
    
    &:hover {
      background: var(--panel-2);
      color: var(--text-1);
    }
  }
}

/* ==================== LOADING OVERLAY ==================== */
.loading-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  min-width: 100vw !important;
  min-height: 100vh !important;
  max-width: 100vw !important;
  max-height: 100vh !important;
  margin: 0 !important;
  padding: 0 !important;
  background: rgba(0,0,0,.7) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 999999 !important; /* Z-index extremadamente alto para estar siempre por encima */
  pointer-events: all !important;
  box-sizing: border-box !important;
  animation: fadeIn 0.2s ease;
}

.loading-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  padding: 40px;
  background: var(--panel);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.3);
  
  p {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-1);
    margin: 0;
  }
}

.spinner {
  width: 50px;
  height: 50px;
  border: 4px solid var(--border);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ==================== RESPONSIVE ==================== */
@media (max-width: 1400px) {
  .tabs {
    grid-template-columns: repeat(4, 1fr); /* 4 columnas en pantallas medianas */
  }
  
  .tab {
    padding: 10px 8px;
    
    &__icon {
      font-size: 16px;
    }
    
    &__nombre {
      font-size: 11px;
    }
  }
}

@media (max-width: 1200px) {
  .form-grid {
    grid-template-columns: 1fr;
  }
  
  .opciones-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 1000px) {
  .tabs {
    grid-template-columns: repeat(3, 1fr); /* 3 columnas en pantallas peque帽as */
  }
}

@media (max-width: 768px) {
  .page-header {
    flex-direction: column;
    align-items: flex-start;
    
    &__right {
      width: 100%;
      
      .btn {
        flex: 1;
      }
    }
  }
  
  .alerta-cambios {
    flex-direction: column;
    align-items: flex-start;
    
    &__acciones {
      width: 100%;
      
      .btn {
        flex: 1;
      }
    }
  }
  
  .tabs {
    grid-template-columns: repeat(2, 1fr); /* 2 columnas en m贸viles */
    gap: 6px;
    padding: 8px;
  }
  
  .tab {
    padding: 10px 8px;
    gap: 4px;
    
    &__icon {
      font-size: 14px;
    }
    
    &__nombre {
      font-size: 10px;
    }
  }
  
  .config-footer {
    flex-direction: column;
    align-items: flex-start;
    position: relative;
    bottom: auto;
    
    &__acciones {
      width: 100%;
      flex-direction: column;
      
      .btn {
        width: 100%;
      }
    }
  }
  
  .acciones-backup,
  .acciones-sistema {
    flex-direction: column;
    
    .btn {
      width: 100%;
    }
  }
  
  .info-sistema {
    grid-template-columns: 1fr;
  }
}

/* ==================== UTILIDADES ==================== */
.text-muted {
  color: var(--text-2);
  font-size: 13px;
}

.text-danger {
  color: #ef4444;
}

.text-success {
  color: var(--accent);
}

.text-warning {
  color: #f59e0b;
}

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }
.mb-3 { margin-bottom: 24px; }
.mb-4 { margin-bottom: 32px; }

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mt-3 { margin-top: 24px; }
.mt-4 { margin-top: 32px; }

/* ==================== THEME DARK ==================== */
.dark-theme {
  .form-input,
  .form-select {
    background: #1e293b;
    border-color: #334155;
    
    &:focus {
      background: #0f172a;
    }
  }
  
  .opcion-check {
    background: #1e293b;
    border-color: #334155;
    
    &:hover {
      background: rgba(34,197,94,.1);
    }
  }
  
  .form-section {
    background: #1e293b;
    border-color: #334155;
  }
  
  .tabs-container {
    background: #1e293b;
    border-color: #334155;
  }
  
  .tab {
    &:hover {
      background: #334155;
    }
    
    &.active {
      background: rgba(34,197,94,.15);
    }
  }
}

/* ==================== ANIMACIONES ==================== */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in {
  animation: slideIn 0.3s ease;
}

/* ==================== SCROLLBAR PERSONALIZADO ==================== */
.tab-content {
  &::-webkit-scrollbar {
    width: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: var(--panel-2);
    border-radius: 4px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 4px;
    
    &:hover {
      background: var(--accent);
    }
  }
}

/* ==================== ESTADOS ==================== */
.form-input {
  &.error {
    border-color: #ef4444;
    
    &:focus {
      box-shadow: 0 0 0 3px rgba(239,68,68,.1);
    }
  }
  
  &.success {
    border-color: var(--accent);
    
    &:focus {
      box-shadow: 0 0 0 3px rgba(34,197,94,.1);
    }
  }
}

.help-text {
  font-size: 12px;
  color: var(--text-2);
  margin-top: 4px;
}

.error-text {
  font-size: 12px;
  color: #ef4444;
  margin-top: 4px;
}

/* ==================== BADGES ==================== */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  
  &--primary {
    background: rgba(59,130,246,.15);
    color: #3b82f6;
    border: 1px solid rgba(59,130,246,.3);
  }
  
  &--success {
    background: rgba(34,197,94,.15);
    color: var(--accent);
    border: 1px solid rgba(34,197,94,.3);
  }
  
  &--warning {
    background: rgba(245,158,11,.15);
    color: #f59e0b;
    border: 1px solid rgba(245,158,11,.3);
  }
  
  &--danger {
    background: rgba(239,68,68,.15);
    color: #ef4444;
    border: 1px solid rgba(239,68,68,.3);
  }
}

/* ==================== CARDS ==================== */
.config-card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 20px;
  transition: all 0.2s ease;
  
  &:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
    transform: translateY(-2px);
  }
  
  &__title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0 0 12px 0;
  }
  
  &__content {
    font-size: 14px;
    color: var(--text-2);
    line-height: 1.6;
  }
}

/* ==================== TOOLTIPS ==================== */
.tooltip {
  position: relative;
  
  &:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    padding: 8px 12px;
    background: #1e293b;
    color: #fff;
    font-size: 12px;
    border-radius: 6px;
    white-space: nowrap;
    z-index: 1000;
    margin-bottom: 8px;
  }
}

/* ==================== DIVIDERS ==================== */
.divider {
  height: 1px;
  background: var(--border);
  margin: 24px 0;
}

.divider-text {
  display: flex;
  align-items: center;
  gap: 16px;
  margin: 24px 0;
  
  &::before,
  &::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }
  
  span {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-2);
    text-transform: uppercase;
  }
}

/* ==================== TASAS Y CONCEPTOS ==================== */
.tasas-panel {
  .alert {
    display: flex;
    gap: 16px;
    padding: 16px 20px;
    border-radius: 12px;
    border: 1px solid;
    
    &--info {
      background: rgba(59, 130, 246, 0.1);
      border-color: rgba(59, 130, 246, 0.3);
      color: var(--text-1);
    }
    
    &__icon {
      font-size: 24px;
      flex-shrink: 0;
    }
    
    &__content {
      flex: 1;
      
      strong {
        display: block;
        font-size: 15px;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--text-1);
      }
      
      ul {
        list-style: disc;
        font-size: 13px;
        color: var(--text-2);
        line-height: 1.6;
        
        li {
          margin-bottom: 4px;
        }
      }
    }
  }
}

.tasas-container {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.tasa-categoria-section {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,.05);
  transition: box-shadow 0.2s ease;
  
  &:hover {
    box-shadow: 0 4px 16px rgba(0,0,0,.08);
  }
}

.categoria-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 24px;
  background: linear-gradient(135deg, rgba(99,102,241,.08) 0%, rgba(139,92,246,.08) 100%);
  border-bottom: 1px solid var(--border);
}

.categoria-title {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 18px;
  font-weight: 700;
  color: var(--text-1);
  margin: 0;
  
  .categoria-icon {
    font-size: 24px;
  }
}

.categoria-count {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-2);
  background: var(--bg);
  padding: 6px 12px;
  border-radius: 20px;
}

.tabla-responsive {
  overflow-x: auto;
}

.tabla-moderna {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  
  thead {
    background: var(--bg);
    
    th {
      padding: 14px 16px;
      text-align: left;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-2);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 2px solid var(--border);
    }
  }
  
  tbody {
    .tabla-row {
      border-bottom: 1px solid var(--border);
      transition: background 0.15s ease;
      
      &:hover {
        background: var(--bg);
      }
      
      &:last-child {
        border-bottom: none;
      }
      
      td {
        padding: 16px;
        vertical-align: middle;
      }
    }
  }
}

.codigo-badge {
  display: inline-block;
  background: linear-gradient(135deg, rgba(99,102,241,.15) 0%, rgba(139,92,246,.15) 100%);
  color: #6366f1;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  font-family: 'Courier New', monospace;
  border: 1px solid rgba(99,102,241,.3);
}

.tasa-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.tasa-nombre {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-1);
}

.tasa-descripcion {
  font-size: 12px;
  color: var(--text-3);
  line-height: 1.4;
}

.valor-destacado {
  font-size: 15px;
  font-weight: 700;
  color: #10b981;
  background: linear-gradient(135deg, rgba(16,185,129,.1) 0%, rgba(52,211,153,.1) 100%);
  padding: 6px 12px;
  border-radius: 6px;
  display: inline-block;
}

.vigencia-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  
  small {
    font-size: 12px;
    color: var(--text-2);
    display: flex;
    align-items: center;
    gap: 4px;
  }
  
  .vigencia-label {
    font-weight: 600;
    color: var(--text-3);
  }
  
  .vigencia-desde {
    color: #10b981;
  }
  
  .vigencia-hasta {
    color: #f59e0b;
  }
  
  .vigencia-indefinida {
    color: #6366f1;
  }
}

.acciones-grupo {
  display: flex;
  gap: 8px;
  justify-content: center;
}

.btn-icon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--panel);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--bg);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
  }
  
  &--edit:hover {
    border-color: #3b82f6;
    background: rgba(59,130,246,.1);
  }
  
  &--delete:hover {
    border-color: #ef4444;
    background: rgba(239,68,68,.1);
  }
}

.empty-state {
  padding: 48px 24px;
  text-align: center;
  color: var(--text-3);
  
  &__icon {
    font-size: 48px;
    margin-bottom: 12px;
    opacity: 0.5;
  }
  
  &__text {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-2);
    margin: 0;
  }
}

/* ==================== MODAL NUEVA/EDITAR TASA ==================== */
.modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  min-width: 100vw !important;
  min-height: 100vh !important;
  max-width: 100vw !important;
  max-height: 100vh !important;
  margin: 0 !important;
  padding: 20px !important;
  background: rgba(0, 0, 0, 0.7) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 999999 !important; /* Z-index extremadamente alto para estar siempre por encima */
  pointer-events: all !important;
  box-sizing: border-box !important;
  animation: fadeIn 0.2s ease;
}

.modal-content {
  background: var(--panel);
  border-radius: 16px;
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  animation: slideDown 0.3s ease;
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 28px;
  background: linear-gradient(135deg, rgba(99,102,241,.12) 0%, rgba(139,92,246,.12) 100%);
  border-bottom: 1px solid var(--border);
  
  h3 {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 12px;
    
    &::before {
      content: '';
      font-size: 24px;
    }
  }
}

.btn-close {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--bg);
  color: var(--text-2);
  font-size: 20px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    background: #ef4444;
    border-color: #ef4444;
    color: white;
    transform: rotate(90deg);
  }
}

.modal-body {
  padding: 28px;
  overflow-y: auto;
  flex: 1;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  
  &--full {
    grid-column: 1 / -1;
  }
}

.form-label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-1);
  display: flex;
  align-items: center;
  gap: 4px;
  
  &::after {
    content: '';
  }
}

.form-input,
.form-select {
  width: 100%;
  padding: 12px 16px;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 14px;
  color: var(--text-1);
  transition: all 0.2s ease;
  font-family: inherit;
  
  &:focus {
    outline: none;
    border-color: #6366f1;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
  }
  
  &::placeholder {
    color: var(--text-3);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: var(--panel);
  }
}

textarea.form-input {
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
}

.form-hint {
  font-size: 12px;
  color: var(--text-3);
  font-style: italic;
  display: flex;
  align-items: center;
  gap: 4px;
  
  &::before {
    content: '';
    font-size: 14px;
  }
}

.opcion-check {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    border-color: #6366f1;
    background: rgba(99, 102, 241, 0.05);
  }
  
  input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: #6366f1;
  }
  
  span {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-1);
    cursor: pointer;
  }
}

.modal-footer {
  padding: 20px 28px;
  background: var(--bg);
  border-top: 1px solid var(--border);
  display: flex;
  gap: 12px;
  justify-content: flex-end;
}

.btn {
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  
  &--secondary {
    background: var(--panel);
    color: var(--text-2);
    border: 1px solid var(--border);
    
    &:hover {
      background: var(--bg);
      border-color: var(--text-3);
    }
  }
  
  &--primary {
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    color: white;
    border: none;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
    }
    
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInScale {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(-20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* ==================== SELECTOR DE CATEGORA PERSONALIZADA ==================== */
.categoria-selector {
  position: relative;
  
  .form-select--custom {
    border-color: #22c55e;
    background-color: #1e293b;
    color: #e2e8f0;
    
    &:focus {
      border-color: #22c55e;
      background-color: #1e293b;
      color: #e2e8f0;
    }
  }
}

.categoria-personalizada {
  margin-top: 12px;
  padding: 12px;
  background-color: #1e293b;
  border: 1px solid #334155;
  border-radius: 8px;
  
  .form-input {
    margin-bottom: 8px;
    background-color: #0f172a;
    border-color: #334155;
    color: #e2e8f0;
    
    &:focus {
      background-color: #0f172a;
      border-color: #22c55e;
      color: #e2e8f0;
    }
    
    &::placeholder {
      color: #64748b;
    }
  }
  
  .form-hint {
    color: #94a3b8;
    font-size: 12px;
  }
}

/* ==================== ESTILOS PARA DATOS MAESTROS ==================== */
.subsecciones-nav {
  display: flex;
  gap: 1rem;
  margin-bottom: 2rem;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow-x: auto;
  
  .subseccion-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: #e2e8f0;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    min-width: fit-content;
    
    &:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(34, 197, 94, 0.3);
      transform: translateY(-2px);
    }
    
    &.active {
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
      border-color: #22c55e;
      color: white;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
    }
    
    &__icon {
      font-size: 1.1rem;
    }
    
    &__nombre {
      font-weight: 600;
    }
    
    &__count {
      background: rgba(255, 255, 255, 0.2);
      color: #e2e8f0;
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 700;
      min-width: 24px;
      text-align: center;
    }
  }
}

.subseccion-content {
  .subseccion-panel {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    padding-bottom: 1.5rem; /* Padding inferior para el contenido */
    
    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      
      &__actions {
        display: flex;
        gap: 12px;
        align-items: center;
      }
      
      & {
        padding: 1.5rem;
        background: rgba(255, 255, 255, 0.05);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      h3 {
        margin: 0;
        color: #e2e8f0;
        font-size: 1.25rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
    }
  }
}

.data-table-container {
  overflow-x: auto;
  
      .data-table {
        width: 100%;
        border-collapse: collapse;
        background: transparent;
        table-layout: auto; // Distribuci贸n autom谩tica para mejor uso del espacio
    
    // Estilos para checkboxes
    .th-checkbox,
    .td-checkbox {
      width: 40px;
      min-width: 40px;
      max-width: 40px;
      text-align: center;
      padding: 8px 4px;
      
      input[type="checkbox"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
        accent-color: var(--primary);
      }
    }
    
    thead {
      background: transparent;
      
      th {
        padding: 0.75rem 0.5rem;
        text-align: left;
        background: #059669 !important; /* Verde oscuro s贸lido y profesional */
        color: #ffffff !important; /* Texto blanco para contraste */
        font-weight: 700 !important;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-bottom: 2px solid #047857 !important; /* Borde verde m谩s oscuro */
        border-right: 1px solid rgba(4, 120, 87, 0.3) !important; /* Separador verde sutil */
        box-shadow: 0 1px 3px rgba(4, 120, 87, 0.2) !important;
        
        &:first-child {
          border-left: none !important;
        }
        
        &:last-child {
          border-right: none !important;
        }
      }
    }
    
    tbody {
      tr {
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        transition: all 0.3s ease;
        
        &:hover {
          background: rgba(255, 255, 255, 0.05);
        }
        
        td {
          padding: 0.75rem 0.5rem;
          color: #cbd5e1;
          vertical-align: middle;
          
          code {
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            border: 1px solid rgba(34, 197, 94, 0.2);
          }
          
          strong {
            color: #e2e8f0;
            font-weight: 600;
          }
        }
        
        // Excepci贸n: td-descripcion no debe usar display block dentro de table
        td.td-descripcion {
          display: table-cell !important; // Mantener como celda de tabla
          vertical-align: top; // Alinear arriba para mejor visualizaci贸n
        }
      }
    }
    
    // Columna de C贸digo
    th.th-codigo,
    td.td-codigo {
      width: 80px;
      max-width: 80px;
      min-width: 80px;
      padding-left: 0.5rem !important;
      padding-right: 0.5rem !important;
    }
    
    // Columna de Nombre - Sin divisi贸n, ancho controlado
    th.th-nombre,
    td.td-nombre {
      width: 350px;
      max-width: 350px;
      min-width: 350px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-left: 0.5rem !important;
      padding-right: 0.5rem !important;
    }
    
    // Columna de Descripci贸n - Se divide en m煤ltiples l铆neas con ancho controlado
    th.th-descripcion {
      width: auto;
      min-width: 200px;
      padding-left: 0.5rem !important;
      padding-right: 0.5rem !important;
    }
    
    td.td-descripcion {
      width: auto !important;
      min-width: 200px !important;
      word-wrap: break-word !important;
      word-break: break-word !important;
      overflow-wrap: break-word !important;
      white-space: normal !important;
      line-height: 1.4;
      padding-left: 0.5rem !important;
      padding-right: 0.5rem !important;
      padding-top: 0.75rem !important;
      padding-bottom: 0.75rem !important;
    }
    
    // Columna de Estado
    th.th-estado,
    td.td-estado {
      width: 100px;
      max-width: 100px;
      min-width: 100px;
      text-align: center;
      padding-left: 0.5rem !important;
      padding-right: 0.5rem !important;
    }
    
    // Columna de Acciones
    th.th-acciones,
    td.td-acciones {
      width: 180px;
      max-width: 180px;
      min-width: 180px;
      text-align: center;
      padding: 0.75rem 0.5rem !important;
      vertical-align: middle;
      
      .acciones-buttons {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        flex-wrap: nowrap;
        
        .btn {
          flex: 0 0 auto;
          min-width: 75px;
          white-space: nowrap;
          padding: 6px 12px;
          font-size: 11px;
          font-weight: 600;
          border-radius: 6px;
          transition: all 0.2s ease;
        }
      }
    }
  }
}

.status-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.2);
  
  &.active {
    background: rgba(34, 197, 94, 0.1);
    color: #22c55e;
    border-color: rgba(34, 197, 94, 0.2);
  }
}

.section-description {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-bottom: 2rem;
  line-height: 1.5;
}

/* ==================== ESTILOS MODO CLARO PARA DATOS MAESTROS ==================== */
:host-context([data-theme="light"]) {
  .subsecciones-nav {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
    
    .subseccion-btn {
      background: #f9fafb !important;
      border: 1px solid #e5e7eb !important;
      color: #374151 !important;
      font-weight: 600 !important;
      
      &:hover {
        background: #f3f4f6 !important;
        border-color: #22c55e !important;
        color: #22c55e !important;
        box-shadow: 0 2px 8px rgba(34, 197, 94, 0.15) !important;
      }
      
      &.active {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
        border-color: #22c55e !important;
        color: #ffffff !important;
        box-shadow: 0 4px 16px rgba(34, 197, 94, 0.35) !important;
        font-weight: 700 !important;
      }
      
      .subseccion-btn__count {
        background: #ffffff !important; /* Fondo blanco puro */
        color: #22c55e !important; /* Verde brillante para que se vea claramente */
        font-weight: 900 !important;
        border: 2px solid #22c55e !important; /* Borde verde m谩s grueso y visible */
        padding: 0.3rem 0.6rem !important;
        border-radius: 12px !important;
        font-size: 0.85rem !important;
        min-width: 28px !important;
        text-align: center !important;
        display: inline-block !important;
        opacity: 1 !important;
        visibility: visible !important;
        box-shadow: 0 2px 6px rgba(34, 197, 94, 0.3) !important; /* Sombra verde */
      }
      
      &.active .subseccion-btn__count {
        background: rgba(255, 255, 255, 0.5) !important;
        color: #ffffff !important;
        border: 2px solid rgba(255, 255, 255, 0.7) !important;
        box-shadow: 0 2px 4px rgba(255, 255, 255, 0.3) !important;
      }
    }
  }
  
  .subseccion-content {
    .subseccion-panel {
      background: #ffffff !important;
      border: 1px solid #e5e7eb !important;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08) !important;
      padding-bottom: 1.5rem !important; /* Padding inferior para el contenido */
      
      .panel-header {
        background: #f9fafb !important;
        border-bottom: 2px solid #e5e7eb !important;
        
        h3 {
          color: #111827 !important;
          font-weight: 700 !important;
        }
      }
    }
  }
  
  .data-table-container {
    .data-table {
      background: #ffffff !important;
      
      thead {
        background: transparent !important;
        
        th {
          background: #059669 !important; /* Verde oscuro s贸lido y profesional */
          color: #ffffff !important; /* Texto blanco para contraste */
          font-weight: 700 !important;
          border-bottom: 2px solid #047857 !important; /* Borde verde m谩s oscuro */
          border-right: 1px solid rgba(4, 120, 87, 0.3) !important; /* Separador verde sutil */
          box-shadow: 0 1px 3px rgba(4, 120, 87, 0.2) !important;
          padding: 0.75rem 0.5rem !important;
          font-size: 0.8rem !important;
          
          &:first-child {
            border-left: none !important;
          }
          
          &:last-child {
            border-right: none !important;
          }
        }
      }
      
      tbody {
        tr {
          border-bottom: 1px solid #e5e7eb !important;
          
          &:hover {
            background: #f9fafb !important;
          }
          
          td {
            color: #1f2937 !important;
            padding: 0.75rem 0.5rem !important;
            
            code {
              background: rgba(34, 197, 94, 0.1) !important;
              color: #16a34a !important;
              border: 1px solid rgba(34, 197, 94, 0.3) !important;
              font-weight: 700 !important;
              padding: 0.2rem 0.4rem !important;
              font-size: 0.8rem !important;
            }
            
            strong {
              color: #111827 !important;
              font-weight: 700 !important;
            }
          }
        }
      }
      
      // Ajustes espec铆ficos para columnas en modo claro
      th.th-codigo,
      td.td-codigo {
        width: 80px !important;
        max-width: 80px !important;
        min-width: 80px !important;
      }
      
      th.th-nombre,
      td.td-nombre {
        width: 350px !important;
        max-width: 350px !important;
        min-width: 350px !important;
      }
      
      th.th-descripcion,
      td.td-descripcion {
        min-width: 200px !important;
      }
      
      th.th-estado,
      td.td-estado {
        width: 100px !important;
        max-width: 100px !important;
        min-width: 100px !important;
      }
      
      th.th-acciones,
      td.td-acciones {
        width: 180px !important;
        max-width: 180px !important;
        min-width: 180px !important;
        padding: 0.75rem 0.5rem !important;
      }
    }
  }
  
  .status-badge {
    background: rgba(239, 68, 68, 0.1) !important;
    color: #dc2626 !important;
    border: 1px solid rgba(239, 68, 68, 0.3) !important;
    font-weight: 700 !important;
    
    &.active {
      background: rgba(34, 197, 94, 0.15) !important;
      color: #16a34a !important;
      border: 1px solid rgba(34, 197, 94, 0.4) !important;
    }
  }
  
  .section-title {
    color: #111827 !important;
    font-weight: 700 !important;
    border-bottom: 2px solid #22c55e !important;
  }
  
  .section-description {
    color: #6b7280 !important;
    font-weight: 500 !important;
  }
  
  .subseccion-panel {
    .btn {
      &--primary {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%) !important;
        color: #ffffff !important;
        font-weight: 600 !important;
        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.25) !important;
        
        &:hover {
          box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4) !important;
          transform: translateY(-2px) !important;
        }
      }
      
      &--outline {
        background: #ffffff !important;
        border: 1px solid #d1d5db !important;
        color: #374151 !important;
        font-weight: 600 !important;
        
        &:hover {
          background: #f9fafb !important;
          border-color: #22c55e !important;
          color: #22c55e !important;
          box-shadow: 0 2px 8px rgba(34, 197, 94, 0.15) !important;
        }
      }
      
      &--danger {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
        color: #ffffff !important;
        font-weight: 600 !important;
        box-shadow: 0 2px 8px rgba(239, 68, 68, 0.25) !important;
        
        &:hover {
          box-shadow: 0 4px 16px rgba(239, 68, 68, 0.4) !important;
          transform: translateY(-2px) !important;
        }
        
        &:disabled {
          background: #9ca3af !important;
          opacity: 0.6 !important;
          cursor: not-allowed !important;
        }
      }
    }
  }
  
  .data-table-container {
    .data-table {
      td.td-acciones {
        .acciones-buttons {
          .btn {
            &--outline {
              background: #ffffff !important;
              border: 1.5px solid #d1d5db !important;
              color: #374151 !important;
              font-weight: 600 !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: #f3f4f6 !important;
                border-color: #22c55e !important;
                color: #22c55e !important;
                box-shadow: 0 2px 8px rgba(34, 197, 94, 0.2) !important;
                transform: translateY(-1px) !important;
              }
            }
            
            &--danger {
              background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
              color: #ffffff !important;
              font-weight: 600 !important;
              border: 1.5px solid #ef4444 !important;
              box-shadow: 0 2px 6px rgba(239, 68, 68, 0.25) !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
                border-color: #dc2626 !important;
                box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4) !important;
                transform: translateY(-1px) !important;
              }
            }
          }
        }
      }
    }
  }
  
  /* ==================== ESTILOS MODO CLARO PARA ROLES Y USUARIOS ==================== */
  
  /* Roles Container */
  .roles-container {
    background: transparent !important;
    padding: 0 1.5rem 1.5rem 1.5rem !important; /* Padding para separar del contenedor */
  }
  
  .roles-grid {
    gap: 2rem !important; /* M谩s espacio entre tarjetas */
  }
  
  /* Role Cards */
  .role-card {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
    padding: 1.75rem !important; /* Padding consistente con el modo oscuro */
    
    &:hover {
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12) !important;
      border-color: #22c55e !important;
    }
    
    &__header {
      border-bottom: 1px solid #e5e7eb !important;
      padding-bottom: 1rem !important;
      margin-bottom: 1rem !important;
    }
    
    &__icon {
      color: #6b7280 !important;
    }
    
    &__nombre {
      color: #111827 !important;
      font-weight: 700 !important;
    }
    
    &__descripcion {
      color: #6b7280 !important;
    }
    
    &__actions {
      .btn-icon {
        &--edit {
          background: #f3f4f6 !important;
          border: 1px solid #d1d5db !important;
          color: #374151 !important;
          
          &:hover {
            background: #e5e7eb !important;
            border-color: #22c55e !important;
            color: #22c55e !important;
          }
        }
        
        &--delete {
          background: #fef2f2 !important;
          border: 1px solid #fecaca !important;
          color: #dc2626 !important;
          
          &:hover {
            background: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #b91c1c !important;
          }
        }
      }
    }
  }
  
  /* Role Card Super Administrador */
  .role-card--super {
    background: linear-gradient(135deg, #ffffff 0%, #fef3c7 100%) !important;
    border: 2px solid #f59e0b !important;
    box-shadow: 0 10px 36px rgba(245, 158, 11, 0.25) !important;
    
    &::before {
      background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #f97316 100%) !important;
    }
    
    .role-card__icon {
      color: #f59e0b !important;
      filter: drop-shadow(0 2px 8px rgba(245,158,11,.3)) !important;
    }
    
    .role-card__nombre {
      color: #d97706 !important;
      text-shadow: none !important;
    }
  }
  
  /* Role Card Administrador */
  .role-card--admin {
    background: linear-gradient(135deg, #ffffff 0%, #fef9e7 100%) !important;
    border: 2px solid #d1a054 !important;
    box-shadow: 0 6px 20px rgba(209, 160, 84, 0.15) !important;
    
    &::before {
      background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%) !important;
    }
    
    .role-card__icon {
      color: #d1a054 !important;
      filter: drop-shadow(0 2px 6px rgba(209,160,84,.2)) !important;
    }
    
    .role-card__nombre {
      color: #f59e0b !important;
    }
  }
  
  /* Permisos */
  .permisos-grid {
    gap: 0.75rem !important;
  }
  
  .permiso-item {
    background: #f9fafb !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 8px !important;
    padding: 0.75rem !important;
    
    &:hover {
      background: #f3f4f6 !important;
      border-color: #d1d5db !important;
    }
  }
  
  .permiso-seccion {
    color: #111827 !important;
    font-weight: 700 !important;
  }
  
  .permiso-badge {
    background: #e5e7eb !important;
    color: #6b7280 !important;
    border: 1px solid #d1d5db !important;
    
    &.active {
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
      color: #ffffff !important;
      border-color: #22c55e !important;
      font-weight: 600 !important;
    }
  }
  
  /* Panel Title y Description */
  .panel-title {
    color: #111827 !important;
    font-weight: 700 !important;
  }
  
  .panel-description {
    color: #6b7280 !important;
    font-weight: 500 !important;
  }
  
  /* Usuarios Table */
  .usuarios-container {
    background: transparent !important;
    padding: 0 1.5rem 1.5rem 1.5rem !important; /* Padding para separar del contenedor */
  }
  
  .usuarios-table {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
  }
  
  .table-header {
    background: #f9fafb !important;
    border-bottom: 2px solid #e5e7eb !important;
    color: #111827 !important;
    font-weight: 700 !important;
  }
  
  .table-row {
    border-bottom: 1px solid #e5e7eb !important;
    background: #ffffff !important;
    
    &:hover {
      background: #f9fafb !important;
    }
    
    &:last-child {
      border-bottom: none !important;
    }
  }
  
  .table-cell {
    color: #1f2937 !important;
  }
  
  /* Usuario Info */
  .usuario-info {
    .usuario-details {
      .usuario-nombre {
        color: #111827 !important;
        font-weight: 600 !important;
      }
      
      .usuario-email {
        color: #6b7280 !important;
      }
    }
  }
  
  /* Rol Badge */
  .rol-badge {
    background: #f3f4f6 !important;
    color: #374151 !important;
    border: 1px solid #d1d5db !important;
    font-weight: 600 !important;
    
    &--superadmin {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%) !important;
      color: #d97706 !important;
      border-color: #f59e0b !important;
    }
    
    &--admin {
      background: linear-gradient(135deg, #fef9e7 0%, #fef3c7 100%) !important;
      color: #f59e0b !important;
      border-color: #d1a054 !important;
    }
  }
  
  /* Estado Badge */
  .estado-badge {
    background: rgba(34, 197, 94, 0.1) !important;
    color: #16a34a !important;
    border: 1px solid rgba(34, 197, 94, 0.3) !important;
    font-weight: 600 !important;
    
    &--activo {
      background: rgba(34, 197, 94, 0.15) !important;
      color: #16a34a !important;
      border-color: rgba(34, 197, 94, 0.4) !important;
    }
  }
  
  /* Fecha Acceso */
  .fecha-acceso {
    color: #6b7280 !important;
  }
  
  /* Acciones Usuario */
  .acciones-usuario {
    .btn {
      &--sm {
        font-size: 0.875rem !important;
        padding: 0.5rem 0.75rem !important;
      }
      
      &--outline {
        background: #ffffff !important;
        border: 1px solid #d1d5db !important;
        color: #374151 !important;
        
        &:hover {
          background: #f9fafb !important;
          border-color: #22c55e !important;
          color: #22c55e !important;
        }
      }
      
      &--danger {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
        color: #ffffff !important;
        border: 1px solid #ef4444 !important;
        
        &:hover {
          background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
          border-color: #dc2626 !important;
        }
      }
    }
  }
  
  /* Botones de Iconos */
  .btn-icon {
    background: #f9fafb !important;
    border: 1px solid #e5e7eb !important;
    color: #374151 !important;
    
    &:hover {
      background: #f3f4f6 !important;
      transform: translateY(-2px) !important;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    }
    
    &--edit {
      &:hover {
        border-color: #3b82f6 !important;
        background: rgba(59, 130, 246, 0.1) !important;
        color: #2563eb !important;
      }
    }
    
    &--delete {
      &:hover {
        border-color: #ef4444 !important;
        background: rgba(239, 68, 68, 0.1) !important;
        color: #dc2626 !important;
      }
    }
  }
  
  /* Loading State */
  .loading-state {
    color: #6b7280 !important;
    
    p {
      color: #6b7280 !important;
    }
  }
}

/* Responsive */
@media (max-width: 768px) {
  .modal-content {
    max-width: 100%;
    max-height: 95vh;
  }
  
  .form-grid {
    grid-template-columns: 1fr;
  }
  
  .modal-header,
  .modal-body,
  .modal-footer {
    padding: 20px;
  }
  
  .subsecciones-nav {
    flex-direction: column;
    gap: 0.5rem;
    
    .subseccion-btn {
      justify-content: center;
    }
  }
  
  .data-table-container {
    .data-table {
      font-size: 0.85rem;
      
      th, td {
        padding: 0.75rem 0.5rem;
      }
    }
  }
}

/* ==================== ADMINISTRAR ROLES ==================== */

/* ROLES GRID */
.roles-container {
  margin-top: 2rem;
  padding: 0 1.5rem 1.5rem 1.5rem; /* Padding: top right bottom left */
}

.roles-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 2rem; /* Aumentado de 1.5rem a 2rem para m谩s espacio entre tarjetas */
}

.role-card {
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1.75rem; /* Aumentado de 1.5rem a 1.75rem para m谩s espacio interno */
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  margin: 0; /* Asegurar que no hay m谩rgenes adicionales */

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    border-color: var(--primary);
  }

  &__header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  &__icon {
    font-size: 2rem;
    flex-shrink: 0;
  }

  &__info {
    flex: 1;
    min-width: 0;
  }

  &__nombre {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-1);
    margin: 0 0 0.5rem 0;
  }

  &__descripcion {
    font-size: 0.9rem;
    color: var(--text-2);
    margin: 0 0 0.5rem 0;
    line-height: 1.4;
  }

  &__permisos-count {
    margin-top: 0.5rem;
    
    .permisos-count-badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
      color: white;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      box-shadow: 0 2px 4px rgba(34, 197, 94, 0.2);
    }
  }

  &__actions {
    display: flex;
    gap: 0.5rem;
    flex-shrink: 0;
  }

  &__permisos {
    margin-top: 1rem;
  }
}

/* Estilo distintivo para SUPER ADMINISTRADOR */
.role-card--super {
  border-color: #f59e0b !important; /* amber-500 */
  box-shadow: 0 10px 36px rgba(245, 158, 11, 0.35), 0 0 0 2px rgba(245, 158, 11, 0.25) inset;

  &::before {
    background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #f97316 100%) !important; /* dorado brillante */
  }

  .role-card__icon {
    filter: drop-shadow(0 2px 8px rgba(245,158,11,.45));
  }

  .role-card__nombre {
    color: #fde047; /* yellow-300 m谩s brillante */
    text-shadow: 0 1px 6px rgba(250, 204, 21, 0.45);
  }
}

/* Estilo dorado suave para Administrador (no super) */
.role-card--admin {
  border-color: #d1a054 !important; /* dorado suave */
  box-shadow: 0 6px 20px rgba(209, 160, 84, 0.2), 0 0 0 2px rgba(209, 160, 84, 0.15) inset;

  &::before {
    background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%) !important; /* amber-600 -> amber-700 */
  }

  .role-card__icon {
    filter: drop-shadow(0 2px 6px rgba(209,160,84,.3));
  }

  .role-card__nombre {
    color: #f59e0b; /* amber-500 */
  }
}

.permisos-grid {
  display: grid;
  gap: 0.75rem;
}

.permiso-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.5rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 6px;
}

.permiso-seccion {
  font-weight: 600;
  color: var(--text-1);
  min-width: 100px;
  font-size: 0.9rem;
}

.permiso-detalles {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.permiso-badge {
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 500;
  background: rgba(255, 255, 255, 0.1);
  color: var(--text-2);
  border: 1px solid transparent;
  transition: all 0.2s ease;

  &.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
  }
}

/* USUARIOS TABLE */
.usuarios-container {
  margin-top: 2rem;
  padding: 0 1.5rem 1.5rem 1.5rem; /* Padding: top right bottom left */
}

.usuarios-table {
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
}

.table-header {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 1.5fr;
  background: var(--bg-2);
  border-bottom: 1px solid var(--border);
  font-weight: 600;
  color: var(--text-1);
}

.table-row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 1.5fr;
  border-bottom: 1px solid var(--border);
  transition: background-color 0.2s ease;

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }

  &:last-child {
    border-bottom: none;
  }
}

.table-cell {
  padding: 1rem;
  display: flex;
  align-items: center;
  font-size: 0.9rem;
  color: var(--text-1);
}

.usuario-info {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.usuario-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 600;
  font-size: 0.9rem;
  position: relative;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;

  &:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  }

  .avatar-iniciales {
    font-size: 0.8rem;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .avatar-icono {
    position: absolute;
    bottom: -2px;
    right: -2px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    border: 2px solid var(--bg-1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  }
  flex-shrink: 0;
}

.usuario-details {
  min-width: 0;
}

.usuario-nombre {
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 0.25rem;
}

.usuario-email {
  font-size: 0.8rem;
  color: var(--text-2);
}

.rol-badge {
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 500;
  text-transform: uppercase;

  &--administrador {
    background: #dc3545;
    color: white;
  }

  &--rrhh {
    background: #28a745;
    color: white;
  }

  &--gerencia {
    background: #ffc107;
    color: #000;
  }

  &--contabilidad {
    background: #17a2b8;
    color: white;
  }

  /* SUPER ADMINISTRADOR - dorado brillante */
  &--superadmin {
    background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 60%, #f97316 100%);
    color: #fff;
    border: 1px solid rgba(245, 158, 11, 0.6);
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.25) inset, 0 6px 18px rgba(245,158,11,.25);
  }

  /* Administrador normal - dorado suave */
  &--admin {
    background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%);
    color: #1f2937;
    border: 1px solid rgba(202, 138, 4, 0.5);
  }
}

.estado-badge {
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 500;

  &--activo {
    background: #d4edda;
    color: #155724;
  }
}

.fecha-acceso {
  font-size: 0.8rem;
  color: var(--text-2);
}

.acciones-usuario {
  display: flex;
  gap: 0.5rem;
}

/* MODAL ROLES */
.permisos-section {
  margin-top: 2rem;
  padding-top: 2rem;
  border-top: 1px solid var(--border);
}

.permisos-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-1);
  margin: 0 0 0.5rem 0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.permisos-description {
  color: var(--text-2);
  margin: 0 0 1.5rem 0;
  font-size: 0.9rem;
}

.permisos-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.permiso-modulo {
  background: var(--bg-2);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 1.5rem;
  transition: all 0.2s ease;

  &:hover {
    border-color: var(--primary);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  &__header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--border);
  }

  &__icon {
    font-size: 1.5rem;
  }

  &__nombre {
    font-weight: 600;
    color: var(--text-1);
    font-size: 1.1rem;
  }

  &__opciones {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
}

.permiso-checkbox {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 6px;
  transition: background-color 0.2s ease;

  &:hover {
    background: rgba(34, 197, 94, 0.08) !important; /* Fondo verde claro al hover - visible en modo claro */
  }
  
  // Hover cuando est谩 marcado
  &:has(input[type="checkbox"]:checked) {
    background: rgba(34, 197, 94, 0.1) !important; /* Fondo verde m谩s visible cuando est谩 marcado */
  }

  input[type="checkbox"] {
    display: none;
  }

  .checkmark {
    width: 22px;
    height: 22px;
    border: 2px solid var(--border);
    border-radius: 5px;
    position: relative;
    transition: all 0.2s ease;
    flex-shrink: 0;
    background: var(--panel-2); /* Fondo visible en modo claro */
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05); /* Sombra sutil para profundidad */

    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 14px;
      font-weight: 900;
      opacity: 0;
      transition: opacity 0.2s ease;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); /* Sombra en el texto para mejor visibilidad */
    }
  }

  input[type="checkbox"]:checked + .checkmark {
    background: #22c55e !important; /* Verde brillante visible en modo claro */
    border-color: #16a34a !important; /* Verde m谩s oscuro para el borde */
    box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3) !important; /* Sombra verde para destacar */

    &::after {
      opacity: 1;
      color: #ffffff !important; /* Blanco para el checkmark */
      font-weight: 900 !important; /* M谩s grueso para mejor visibilidad */
    }
  }
  
  // Estilo adicional para modo claro
  input[type="checkbox"]:checked ~ span:not(.checkmark) {
    color: var(--text-1);
    font-weight: 600; /* Texto m谩s grueso cuando est谩 marcado */
  }

  span:not(.checkmark) {
    color: var(--text-1);
    font-size: 0.9rem;
    font-weight: 500;
  }
}

/* MODAL EDITAR USUARIO - MEJORADO */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: 20px;
  animation: fadeIn 0.3s ease;
}

.modal-content {
  background: var(--panel);
  border-radius: 20px;
  width: 100%;
  max-width: 600px;
  max-height: 90vh;
  overflow: hidden;
  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
  display: flex;
  flex-direction: column;
  animation: slideInScale 0.4s ease;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 28px;
  background: linear-gradient(135deg, rgba(99,102,241,.15) 0%, rgba(139,92,246,.15) 100%);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  
  h3 {
    font-size: 22px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
}

.modal-body {
  padding: 32px;
  overflow-y: auto;
  flex: 1;
  background: var(--bg-1);
}

.modal-footer {
  padding: 24px 28px;
  background: var(--bg-2);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  display: flex;
  gap: 16px;
  justify-content: flex-end;
}

/* MODAL CONTRASEA */
.usuario-info-modal {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(99,102,241,.08) 0%, rgba(139,92,246,.08) 100%);
  border-radius: 12px;
  margin-bottom: 2rem;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.usuario-avatar-modal {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 600;
  font-size: 1.1rem;
  position: relative;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);

  .avatar-iniciales {
    font-size: 1rem;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .avatar-icono {
    position: absolute;
    bottom: -3px;
    right: -3px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    border: 2px solid var(--bg-1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }
  flex-shrink: 0;
}

.usuario-details-modal {
  min-width: 0;
}

.usuario-nombre-modal {
  font-weight: 600;
  color: var(--text-1);
  font-size: 1.1rem;
  margin-bottom: 0.25rem;
}

.usuario-rol-modal {
  font-size: 0.9rem;
  color: var(--text-2);
}

/* LOADING STATES */
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 3rem;
  color: var(--text-2);
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--border);
  border-top: 3px solid var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .roles-grid {
    grid-template-columns: 1fr;
  }

  .permisos-container {
    grid-template-columns: 1fr;
  }

  .table-header,
  .table-row {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }

  .table-cell {
    padding: 0.75rem 0.5rem;
  }

  .usuario-info {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
}

/* ==================== ESTILOS ESPECFICOS MODAL EDITAR USUARIO ==================== */
.modal-overlay .form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
}

.modal-overlay .form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.modal-overlay .form-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 4px;
}

.modal-overlay .form-input,
.modal-overlay .form-select {
  padding: 14px 18px;
  border: 2px solid rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  background: var(--bg-2);
  color: var(--text-1);
  font-size: 15px;
  font-weight: 500;
  transition: all 0.3s ease;
  outline: none;

  &:focus {
    border-color: var(--primary);
    background: var(--bg-1);
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.15);
    transform: translateY(-2px);
  }

  &::placeholder {
    color: var(--text-3);
    font-weight: 400;
  }
}

.modal-overlay .form-select {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 16px center;
  background-repeat: no-repeat;
  background-size: 18px;
  padding-right: 45px;
}

/* Responsive para modal de editar usuario */
@media (max-width: 768px) {
  .modal-overlay .form-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .modal-overlay .modal-content {
    max-width: 95%;
    margin: 10px;
  }
  
  .modal-overlay .modal-header,
  .modal-overlay .modal-body,
  .modal-overlay .modal-footer {
    padding: 20px;
  }
}

/* ==================== ESTILOS HEADER CON BOTN ==================== */
.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 2rem;
  
  .panel-header__left {
    flex: 1;
  }
  
  .panel-header__right {
    flex-shrink: 0;
    margin-left: 2rem;
  }
}

/* ==================== ESTILOS MODAL RESETEAR CONTRASEA ==================== */
.warning-box {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.1) 100%);
  border: 1px solid rgba(251, 191, 36, 0.3);
  border-radius: 12px;
  margin-bottom: 2rem;
}

.warning-icon {
  font-size: 1.5rem;
  color: #f59e0b;
  flex-shrink: 0;
  margin-top: 0.25rem;
}

.warning-content {
  flex: 1;
  
  h4 {
    color: #f59e0b;
    font-size: 1.1rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
  }
  
  p {
    color: var(--text-1);
    font-size: 0.95rem;
    margin: 0;
    line-height: 1.5;
  }
}

.password-requirements {
  margin-top: 1.5rem;
  padding: 1.5rem;
  background: var(--bg-2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.05);
  
  h4 {
    color: var(--text-1);
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
  }
  
  ul {
    margin: 0;
    padding-left: 1.5rem;
    
    li {
      color: var(--text-2);
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
      line-height: 1.4;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}

/* Bot贸n de peligro */
.btn--danger {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  border: 1px solid #ef4444;
  color: white;
  font-weight: 600;
  transition: all 0.3s ease;
  
  &:hover:not(:disabled) {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    border-color: #dc2626;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
  }
  
  &:active {
    transform: translateY(0);
  }
  
  &:disabled {
    background: #6b7280;
    border-color: #6b7280;
    cursor: not-allowed;
    opacity: 0.6;
  }
}

/* ==================== CONFIGURACIN DEMO ==================== */
.demo-config-section {
  margin-top: 24px;
  padding: 24px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 2px 12px rgba(0,0,0,.08);

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--accent) 0%, #a855f7 50%, #c084fc 100%);
  }
}

.demo-section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid var(--border);

  .demo-icon {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--accent) 0%, #a855f7 100%);
    border-radius: 8px;
    color: white;
    box-shadow: 0 2px 8px rgba(0,0,0,.15);

    svg {
      width: 20px;
      height: 20px;
    }
  }

  h4 {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0;
  }

  p {
    font-size: 14px;
    color: var(--text-2);
    margin: 0;
    font-weight: 500;
  }
}

.demo-fields {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }

  .form-group {
    .form-label {
      color: var(--text-1);
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
    }

    .form-input {
      background: var(--panel-2);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 14px;
      color: var(--text-1);
      transition: all 0.2s ease;

      &:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        outline: none;
      }

      &:disabled {
        background: var(--panel);
        color: var(--text-2);
        cursor: not-allowed;
      }
    }
  }
}

.demo-status {
  grid-column: 1 / -1;
  margin-top: 16px;
  padding: 16px;
  background: var(--bg-2);
  border: 1px solid var(--border);
  border-radius: 8px;
  display: flex;
  gap: 24px;
  flex-wrap: wrap;

  .status-item {
    display: flex;
    flex-direction: column;
    gap: 4px;

    .status-label {
      font-size: 12px;
      font-weight: 500;
      color: var(--text-2);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .status-value {
      font-size: 14px;
      font-weight: 600;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
      width: fit-content;

      &.active {
        background: #dcfce7;
        color: #166534;
        border: 1px solid #bbf7d0;
      }

      &.expired {
        background: #fef2f2;
        color: #dc2626;
        border: 1px solid #fecaca;
      }

      &.time-remaining {
        background: #dbeafe;
        color: #1e40af;
        border: 1px solid #bfdbfe;
        font-family: 'Courier New', monospace;
      }
    }
  }
}

.input-icon {
  width: 16px;
  height: 16px;
  margin-right: 8px;
  color: var(--accent);
  flex-shrink: 0;
}

.form-hint {
  font-size: 12px;
  color: var(--text-2);
  margin-top: 4px;
  line-height: 1.4;
  font-weight: 500;
  background: var(--bg-2);
  padding: 4px 8px;
  border-radius: 4px;
  border-left: 3px solid var(--accent);
}

/* ==================== CAMPOS DE CONTRASEA - ANTI PASSWORD MANAGER ==================== */
.password-input {
  position: relative;
  z-index: 1000 !important;
  background: var(--panel-2) !important;
  border: 2px solid var(--border) !important;
  
  &:focus {
    z-index: 1001 !important;
    border-color: var(--accent) !important;
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
    outline: none !important;
  }
  
  /* Deshabilitar autocompletado del navegador */
  &:-webkit-autofill,
  &:-webkit-autofill:hover,
  &:-webkit-autofill:focus,
  &:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px var(--panel-2) inset !important;
    -webkit-text-fill-color: var(--text-1) !important;
    background-color: var(--panel-2) !important;
  }
}

/* Asegurar que los campos de contrase帽a est茅n por encima de overlays */
.form-grid .form-group {
  position: relative;
  z-index: 999;
}

/* Deshabilitar sugerencias de contrase帽a */
input[data-lpignore="true"] {
  -webkit-text-security: disc !important;
  text-security: disc !important;
}

/* ==================== MODAL XITO CREACIN USUARIO ==================== */
.modal-overlay.modal--exito {
  z-index: 200006 !important;
  
  .modal-content--exito {
    max-width: 380px;
    width: 100%;
    padding: 0;
    border-radius: 12px !important;
    overflow: hidden;
    background: var(--panel) !important;
    border: 1px solid var(--border) !important;
    box-shadow: 0 20px 60px rgba(0,0,0,.4) !important;
    position: relative;
    z-index: 1;
  }
}

/* ==================== MODAL XITO CONFIGURACIN ==================== */
.exito-configuracion {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  text-align: center;
  min-height: 200px;
  
  &__loader {
    margin-bottom: 24px;
  }
  
  &__check {
    margin-bottom: 24px;
    animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  &__title {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0 0 12px;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  &__message {
    font-size: 15px;
    color: var(--text-2);
    margin: 0;
    line-height: 1.6;
  }
}

.modal-content--exito-configuracion {
  max-width: 420px;
  border-radius: 20px;
  padding: 0;
  overflow: hidden;
}

.modal--exito-configuracion {
  z-index: 200007 !important;
}

.spinner--green {
  width: 60px;
  height: 60px;
  border: 5px solid rgba(34, 197, 94, 0.2);
  border-top-color: #22c55e;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.checkmark--green {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: block;
  stroke-width: 3;
  stroke: #22c55e;
  stroke-miterlimit: 10;
  box-shadow: inset 0px 0px 0px #22c55e;
  animation: fill-green 0.4s ease-in-out 0.4s forwards, scale-green 0.3s ease-in-out 0.9s both;
}

.checkmark--green .checkmark__circle {
  stroke-dasharray: 166;
  stroke-dashoffset: 166;
  stroke-width: 3;
  stroke-miterlimit: 10;
  stroke: #22c55e;
  fill: none;
  animation: stroke-green 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
}

.checkmark--green .checkmark__check {
  transform-origin: 50% 50%;
  stroke-dasharray: 48;
  stroke-dashoffset: 48;
  stroke-width: 4;
  stroke: #ffffff; /* Por defecto blanco (para modo oscuro) */
  stroke-linecap: round;
  stroke-linejoin: round;
  fill: none;
  animation: stroke-green 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
}

/* Modo claro: checkmark verde visible */
:host-context([data-theme="light"]) {
  .checkmark--green {
    stroke: #22c55e;
    
    .checkmark__circle {
      stroke: #22c55e;
      fill: rgba(34, 197, 94, 0.15);
      stroke-width: 3;
    }
    
    .checkmark__check {
      stroke: #16a34a !important;
      stroke-width: 5 !important;
    }
  }
}

/* Modo oscuro: checkmark blanco sobre fondo verde */
:host-context([data-theme="dark"]) {
  .checkmark--green {
    .checkmark__circle {
      fill: #22c55e;
      stroke: #22c55e;
    }
    
    .checkmark__check {
      stroke: #ffffff !important;
      stroke-width: 4 !important;
    }
  }
}

@keyframes stroke-green {
  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes scale-green {
  0%, 100% {
    transform: none;
  }
  50% {
    transform: scale3d(1.1, 1.1, 1);
  }
}

@keyframes fill-green {
  100% {
    box-shadow: inset 0px 0px 0px 30px rgba(34, 197, 94, 0.1);
  }
}

@keyframes scaleIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.exito-creacion-usuario {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px 24px;
  text-align: center;
  background: var(--panel);
  min-height: 200px;
  
  &__loader {
    width: 50px;
    height: 50px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  &__check {
    width: 50px;
    height: 50px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    visibility: visible;
    opacity: 1;
  }
  
  &__title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0 0 8px 0;
    line-height: 1.4;
  }
  
  &__message {
    font-size: 14px;
    color: var(--text-2);
    margin: 0;
    line-height: 1.5;
  }
}

/* Spinner de carga verde */
.spinner--success {
  width: 50px;
  height: 50px;
  border: 4px solid rgba(34, 197, 94, 0.2);
  border-top-color: #22c55e;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Check animado */
.checkmark {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: block;
  stroke-width: 3;
  stroke: #22c55e;
  stroke-miterlimit: 10;
  animation: scale 0.3s ease-in-out 0.9s both;
  visibility: visible;
  opacity: 1;
  flex-shrink: 0;
  
  &__circle {
    stroke-dasharray: 166;
    stroke-dashoffset: 166;
    stroke-width: 3;
    stroke-miterlimit: 10;
    stroke: #22c55e;
    fill: #22c55e;
    animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
    opacity: 1;
  }
  
  &__check {
    transform-origin: 50% 50%;
    stroke-dasharray: 48;
    stroke-dashoffset: 48;
    stroke-width: 4;
    stroke: #ffffff;
    stroke-linecap: round;
    stroke-linejoin: round;
    fill: none;
    animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
    opacity: 1;
    z-index: 1;
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes stroke {
  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes scale {
  0%, 100% {
    transform: none;
  }
  50% {
    transform: scale3d(1.1, 1.1, 1);
  }
}

/* ==================== MODAL ELIMINAR ROL ==================== */
.modal-content--delete {
  max-width: 480px;
  width: 90%;
  border-radius: 12px !important;
  padding: 0;
  overflow: hidden;
  background: var(--panel) !important;
  border: 1px solid var(--border) !important;
  box-shadow: 0 20px 60px rgba(0,0,0,.4) !important;
  animation: slideUp 0.3s ease-out;
}

.delete-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 1.5rem;
  background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
  color: white;
  
  .delete-icon {
    font-size: 32px;
    flex-shrink: 0;
  }
  
  h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin: 0;
    color: white;
    flex: 1;
  }
}

.delete-planilla-info {
  padding: 1.5rem;
  background: var(--panel-2);
  border-bottom: 1px solid var(--border);
  
  .info-item {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 1rem;
    
    &:last-child {
      margin-bottom: 0;
    }
    
    .info-label {
      font-size: 0.75rem;
      color: var(--text-2);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }
    
    .info-value {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-1);
    }
  }
}

.delete-warning {
  display: flex;
  gap: 1rem;
  padding: 1.5rem;
  background: #fef2f2;
  border-left: 4px solid #dc2626;
  margin: 0;
  
  .warning-icon {
    font-size: 24px;
    flex-shrink: 0;
  }
  
  .warning-content {
    flex: 1;
    
    p {
      margin: 0 0 0.5rem 0;
      font-size: 0.9rem;
      color: #7f1d1d;
      line-height: 1.5;
      
      &:last-child {
        margin-bottom: 0;
      }
      
      strong {
        color: #dc2626;
        font-weight: 700;
      }
    }
  }
}

.delete-confirmation {
  padding: 1.5rem;
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  background: var(--panel);
  
  .form-label {
    display: block;
    margin-bottom: 0.75rem;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-1);
  }
  
  .form-input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid var(--border);
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.2s ease;
    
    &:focus {
      border-color: #dc2626;
      box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
      outline: none;
    }
    
    &::placeholder {
      text-transform: none;
      letter-spacing: normal;
      font-weight: 400;
    }
  }
}

.delete-actions {
  display: flex;
  gap: 0.75rem;
  padding: 1.5rem;
  background: var(--panel);
  justify-content: flex-end;
  
  .btn {
    min-width: 140px;
  }
  
  .btn--danger {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    color: white;
    border: none;
    font-weight: 700;
    
    &:hover:not(:disabled) {
      box-shadow: 0 0 20px rgba(220, 38, 38, 0.4);
      transform: translateY(-1px);
    }
    
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }
}

/* ==================== MODAL XITO ROL ==================== */
.modal-overlay.modal--exito {
  z-index: 200009 !important;
  
  .modal-content--exito {
    max-width: 380px;
    width: 100%;
    padding: 0;
    border-radius: 12px !important;
    overflow: hidden;
    background: var(--panel) !important;
    border: 1px solid var(--border) !important;
    box-shadow: 0 20px 60px rgba(0,0,0,.4) !important;
    position: relative;
    z-index: 1;
  }
}

.exito-rol {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px 24px;
  text-align: center;
  background: var(--panel);
  min-height: 200px;
  
  &__loader {
    width: 50px;
    height: 50px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  &__check {
    width: 50px;
    height: 50px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    visibility: visible;
    opacity: 1;
  }
  
  &__title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0 0 8px 0;
    line-height: 1.4;
  }
  
  &__message {
    font-size: 14px;
    color: var(--text-2);
    margin: 0;
    line-height: 1.5;
  }
}

/* ==================== MODAL XITO ELIMINACIN USUARIO ==================== */
.modal-overlay.modal--exito {
  z-index: 200007 !important;
  
  .modal-content--exito {
    max-width: 380px;
    width: 100%;
    padding: 0;
    border-radius: 12px !important;
    overflow: hidden;
    background: var(--panel) !important;
    border: 1px solid var(--border) !important;
    box-shadow: 0 20px 60px rgba(0,0,0,.4) !important;
    position: relative;
    z-index: 1;
  }
}

.exito-eliminacion-usuario {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px 24px;
  text-align: center;
  background: var(--panel);
  min-height: 200px;
  
  &__loader {
    width: 50px;
    height: 50px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  &__check {
    width: 50px;
    height: 50px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    visibility: visible;
    opacity: 1;
  }
  
  &__title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-1);
    margin: 0 0 8px 0;
    line-height: 1.4;
  }
  
  &__message {
    font-size: 14px;
    color: var(--text-2);
    margin: 0;
    line-height: 1.5;
  }
}